{"version":3,"sources":["modules/CloudNaturalLanguageAPI.js","modules/PixaBayAPI.js","modules/creationTool.jsx","modules/dataSource/FcmBd.js","modules/creationFromDataTool.jsx","modules/birthday/birthdayTool.jsx","modules/dataSource/DataSource.js","modules/dataSource/DataSourceManager.js","modules/dataSource/dataSourceTool.jsx","modules/dataSource/visualQueryBuilderTool.jsx","App.js","reportWebVitals.js","index.js"],"names":["API_KEY","process","CloudNaturalLanguageAPI","textString","oldWord","newWord","beginOffset","substring","length","text","nominalisation","fr","en","stopWords","body","options","JSON","stringify","fetch","Response","json","Result","adjs","originalTextLength","console","log","tokens","filter","token","partOfSpeech","tag","forEach","lemma","noun","language","toLowerCase","includes","replaceWord","content","replace","body2","options2","Response2","Result2","adj","entities","push","API_KEY_PIXABAY","API_KEY_UNSPLASH","PixaBayAPI","words","nbResults","queryString","word","idx","url","encodeURIComponent","images","results","image","previewURL","urls","thumb","id","tags","description","hits","TEXT_ZONE_POSITION_SPACE","TEXT_ZONE_BG_DEFAULT","DEV_POSITION_ZONES_NUMBERS","TEXT_ZONE_POSITION_CLASS","containerClass","zoneClass","textClass","margins","paddings","TEXT_SHADOWS","TEXT_ZONE_FONT_SIZE","LibraryMediaContainer","src","onClick","alt","hoverOptions","useState","mediaData","mediaPreviewUrl","isLoading","setIsLoading","setIsMouseOver","isMobile","useMediaQuery","query","className","onLoad","map","option","onMouseOver","onMouseLeave","LoadingSpinner","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","CreationTool","isHidden","setText","textMaxWidth","setTextMaxWidth","searchQueryWords","setSearchQueryWords","setImages","imagesToDisplay","setImagesToDisplay","setLanguage","thumbBgImage","setThumbBgImage","thumbText","setThumbText","thumbTemplate","setThumbTemplate","playingPreview","setPlayingPreview","thumbPreviewWidth","setThumbPreviewWidth","thumbPreviewTextClass","setThumbPreviewTextClass","thumbTextClass","setThumbTextClass","thumbTextZoneAllowPreview","setThumbTextZoneAllowPreview","costumSearchTags","setCustomSearchTags","selectedSearchTags","setSelectedSearchTags","setSearchData","TEXT_ZONE_BG","setTextZoneBg","thumbFontSize","setThumbFontSize","thumbPreview","useRef","isLoadingThumbImage","setIsLoadingThumbImage","isThumbCreated","setIsThumbCreated","NB_IMAGE_TO_DISPLAY","analyzeEntities","then","wordsArray","searchWords","index","name","salience","searched","addedSearch","findIndex","toUpperCase","considered","filteredWordsArray","getCorrespondingImages","searchPixaBayData","catch","Err","lang","newImagesToDisplay","splice","customTags","getCustomTags","imagesFound","searchedWords","importantTags","importantTagsArr","split","Object","entries","key","value","confidence","nbImages","newSearchWords","promises","wordExistInTags","result","total","totalHits","Promise","all","pixaBayDatas","tagSearchData","wordSearched","reason","useEffect","current","scrollIntoView","behavior","checkAsSimilarImages","currentSelectedSearchTag","asSimilarImages","find","costumTag","handleChangeThumbTemplate","e","template","preventDefault","target","handleOverTextZonePosition","positionNo","stopPropagation","handleClickTextZonePosition","handlePlayingPreview","play","offsetWidth","getComputedPixelSize","pixel","currentThuumbPreviewWidth","getComputedPixelSizeSpec","size","handleSaveAsImage","a","container","document","createElement","classList","add","preview","html","renderScreenShot","innerHTML","ReactDOMServer","renderToStaticMarkup","appendChild","htmlToImage","blob","saveAs","removeChild","style","width","height","ref","replaceAll","maxWidth","margin","padding","fontSize","lineHeight","htmlFor","onChange","persist","type","select","required","placeholder","onKeyDown","event","sort","b","handleChangeAddSearchQueryWord","currentSearchWordIndex","handleChangeQueryWords","newSelectedSearchTags","indexSelectedSearchTag","match","handleChangeAutoSelectedSearchTags","fullHDURL","handleChangeThumbBgImage","tagToSelect","nbImagesForTag","tagFound","handleShowSimilarImages","onAnimationStart","onAnimationEnd","parseInt","step","min","max","defaultValue","FcmBd","_DataSources","dataSources","refs","dataStores","queries","tableModels","config","GOOGLESHEET_API_KEY","DATASOURCE_CONFIG_FETCH_URL","DATASOURCE_CONFIG_REFRESH_RATE","DATASOURCE_CONFIG_INTERVAL","undefined","dataSourceType","dataSourceTypeDefaultParams","GOOGLESHEET","API","defaultDataSourceModel","baseUrl","properties","dataSets","defaultDataSetModel","dataLoaded","storeRefreshRate","dataStoreRef","columns","defaultColumnModel","dataType","init","configModifier","assign","initModelObject","model","initData","deepParse","source","createFromJson","addItemAndRef","tableModel","fetchQuery","data","dataSourceRef","dataSourceModel","dataSource","Error","parse","err","error","message","addDataSet","dataSetRef","dataSetModel","validateRequest","setUpdateStoreInterval","addDataSetColumn","columnRef","columnModel","dataSet","remove","removeItemAndRef","removeDataSet","clearUpdateStoreInterval","removeDataSetColumn","create","callback","getDataSourceType","indexOf","lastIndexOf","spreadsheetId","spreadsheet","title","sheets","sheet","sheetData","sheetId","values","colIdx","getDataType","row","rowIdx","rowData","column","list","executeStoredQuery","queryRef","queryModifier","liveData","getStoredQueryTableModel","from","startTime","getNowTimeStamp","queryResult","datasetNbRows","returnedNbRows","duration","where","orderBy","skip","limit","slice","updateStore","checkStoredQueryResultUpdated","lastUpdateTime","updatedData","updateStoreInterval","setInterval","clearInterval","response","handleResponse","contentType","headers","get","handleJSONResponse","handleTextResponse","handleCSVResponse","ok","reject","status","statusText","parseCSV","objectTocheck","filters","dataSetColumns","filterArr","operator","keyToCheck","isMacthing","Array","isArray","compare","convertToDataType","expression","expr","object","computation","aggregate","compute","startsWith","array","aggrationResult","computedValue","string","valueToCheck","valueToMatch","getUTCMonth","getUTCDate","filteredData","item","keys","sortedData","itemA","itemB","sorted","direction","valueA","valueB","localeCompare","selects","selectedData","dataRow","Date","getTime","refArr","isNaN","parseFloat","valueToConvert","convertedValue","String","Number","Boolean","stringToParse","outObject","isValidJSON","str","csv","reviver","v","ctx","entry","output","col","lexer","isNewline","matches","state","exec","valueEnd","test","entryEnd","typed","inferType","isFinite","DataSources","PL_DATA","img","titleColor","category","desc","desc2","Slide","children","Layer","Img","props","isMouseOver","imgClassName","Text","editingInput","CreationFromDataTool","plData","setPlData","textZoneWidth","defaultEditingInput","input","setEditingInput","tl","setTl","tlNew","gsap","timeline","defaultLayer1In","opacity","yPercent","rotation","to","ease","force3d","defaultLayer2In","defaultLayer1Out","defaultLayer2Out","animations","layer1In","layer2In","layer1Out","xPercent","layer2Out","slide","slideIdx","fromTo","restart","currentThumbPreviewWidth","handleChangeText","newPlData","tagName","onPaste","clipboardData","getData","Document","execCommand","disabled","onFocus","onBlur","color","class","backgroundColor","BIRTHDAY_IMG_BACKGROUNDS","textColor","textShadow","maxNameCol","BIRTHDAY_TITLES","BirthdayTool","date","setDate","birthdays","setBirthdays","bgImgIdx","setBgImgIdx","titleIdx","setTitleIdx","incrBgImgIdx","newBgImgIdx","newTitleIdx","nom","prenom","Math","ceil","marginTop","columnGap","rowGap","birthday","letterSpacing","handleLoadBirthdays","API_KEY_GOOGLE_SHEET","DataSource","this","dataRefreshRate","valid","fieldNames","idFieldName","ressources","intervalPopulateDynamicFields","intervalUpdateData","formatedData","dataRefIndex","dynamicFields","prototype","load","promises2","initializations","initialization","loadData","getType","getFetchQuery","setData","postProcessData","getName","setId","getId","asyncLoadData","datasource","setTimeout","addDynamicField","elementId","dynamicField","retreiveFieldNames","formatDataToModel","formatedItem","field","getElementByProperty","element","property","queryDataSet","dataSetId","queryObjectsArray","formatedQueryRow","formatedQueryColumn","DataSourceManager","dynamicFieldsToUpdate","myDataSource","getDataSources","dataSourceIndex","addDynamicFieldToUpdate","updateDynamicFields","i","populateDynamicField","dataSourceManager","DataSourceTool","setUrl","setDataSources","selectedDataSource","setSelectedDataSource","thumbTablePadding","setThumbTablePadding","thumbTableWidth","setThumbTableWidth","maxNbRows","setMaxNbRows","htmlTable","setHtmlTable","setQuery","isValidSource","req","res","createDataSource","equipe","pause","debut","fin","newDataSource","handleChangeQueryColumn","colIndex","checked","newQuery","handleChangeQueryColumnSpecific","tables","screenHeight","minHeaderFontSize","minHeaderPadding","minWindowPadding","minCellPadding","minCellFontSize","newMaxNbRows","floor","minTablePadding","display","table","marginLeft","textAlign","cell","$and","dSrcIndex","rIndex","dataSourceIdx","format","textDescriptions","handleSelectDataSource","autoComplete","strokeLinecap","strokeLinejoin","ListeDeroulante","selected","setSelected","Button","as","Fragment","leave","leaveFrom","leaveTo","Options","itemIdx","Option","active","VisualQueryBuilderTool","setDataSource","setDataSet","setColumns","setWhere","setOrderBy","setLimit","setSkip","setQueryResult","newColums","buildQuery","filtre","ordre","limite","depart","isJsonString","App","currentTool","setCurrentTool","isAuthorized","setIsAuthorized","password","setPassword","isWrongPassword","setIsWrongPassword","handleChangePassword","newPassword","authorized","nextfield","querySelector","focus","handleOnFocusPassword","handleKeyDownPassword","pattern","inputMode","autoFocus","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4965cf1d.chunk.js","sourcesContent":["// MAIN COMPONENT ---------------------------------------------------------------------------------\n\nconst API_KEY = process.env.REACT_APP_GOOGLE_NLU_API_KEY;\n\nclass CloudNaturalLanguageAPI {\n\n  static replaceWord(textString, oldWord, newWord, beginOffset) {\n    return textString.substring(0, beginOffset) + newWord + textString.substring(beginOffset + oldWord.length, textString.length);\n  }\n\n  static async analyzeEntities(text) {\n\n    const nominalisation = {\n    fr: {\n      \"abaisser\":\"abaissement\",\n      \"abandonner\":\"abandon\",\n      \"abattre\":\"abattage arbres, abattement sentiments\",\n      \"abolir\":\"abolition\",\n      \"abonder\":\"abondance\",\n      \"abonner\":\"abonnement\",\n      \"aboutir\":\"aboutissement\",\n      \"aboyer\":\"aboiement\",\n      \"abréger\":\"abréviation lettres, abrègement longueur\",\n      \"abriter\":\"abri\",\n      \"absoudre\":\"absolution\",\n      \"abstenir\":\"abstention\",\n      \"accabler\":\"accablement\",\n      \"accélérer\":\"accélération\",\n      \"acclamer\":\"acclamation\",\n      \"accoucher\":\"accouchement\",\n      \"accoutumer\":\"accoutumance\",\n      \"accrocher\":\"accrochage\",\n      \"accroître\":\"accroissement\",\n      \"accueillir\":\"accueil\",\n      \"accumuler\":\"accumulation\",\n      \"accuser\":\"accusation\",\n      \"acharner\":\"acharnement\",\n      \"acheter\":\"achat\",\n      \"achever\":\"achèvement\",\n      \"acquérir\":\"acquisition\",\n      \"acquitter\":\"acquittement\",\n      \"activer\":\"activation\",\n      \"actualiser\":\"actualisation\",\n      \"adapter\":\"adaptation\",\n      \"adopter\":\"adoption\",\n      \"additionner\":\"addition\",\n      \"adhérer\":\"adhésion\",\n      \"adjoindre\":\"adjonction\",\n      \"admettre\":\"admission\",\n      \"administrer\":\"administration\",\n      \"admirer\":\"admiration\",\n      \"adorer\":\"adoration\",\n      \"adoucir\":\"adoucissement\",\n      \"aérer\":\"aération\",\n      \"affaiblir\":\"affaiblissement\",\n      \"affirmer\":\"affirmation\",\n      \"afficher\":\"affichage\",\n      \"affronter\":\"affrontement\",\n      \"agacer\":\"agacement\",\n      \"aggraver\":\"aggravation\",\n      \"agir\":\"action\",\n      \"agoniser\":\"agonie\",\n      \"agrafer\":\"agrafage\",\n      \"agrandir\":\"agrandissement\",\n      \"aider\":\"aide\",\n      \"aimer\":\"amour\",\n      \"ajourner\":\"ajournement\",\n      \"alerter\":\"alerte\",\n      \"aligner\":\"alignement\",\n      \"alimenter\":\"alimentation\",\n      \"alléger\":\"allégement\",\n      \"allonger\":\"allongement\",\n      \"allumer\":\"allumage\",\n      \"alourdir\":\"alourdissement\",\n      \"alunir\":\"alunissage\",\n      \"amarrer\":\"amarrage\",\n      \"améliorer\":\"amélioration\",\n      \"aménager\":\"aménagement\",\n      \"amerrir\":\"amerrissage\",\n      \"atterrir\":\"atterrissage\",\n      \"amincir\":\"amincissement\",\n      \"amonceler\":\"amoncellement\",\n      \"amortir\":\"amortissement\",\n      \"amplifier\":\"amplification\",\n      \"amputer\":\"amputation\",\n      \"amuser\":\"amusement\",\n      \"analyser\":\"analyse\",\n      \"anéantir\":\"anéantissement\",\n      \"animer\":\"animation\",\n      \"annexer\":\"annexion\",\n      \"annoncer\":\"annonce\",\n      \"annuler\":\"annulation\",\n      \"apaiser\":\"apaisement\",\n      \"aplanir\":\"aplanissement\",\n      \"apparaître\":\"apparition\",\n      \"appeler\":\"appel\",\n      \"applaudir\":\"applaudissement\",\n      \"appliquer\":\"application\",\n      \"apporter\":\"apport\",\n      \"apprécier\":\"appréciation\",\n      \"apprivoiser\":\"apprivoisement\",\n      \"approcher\":\"approche\",\n      \"approfondir\":\"approfondissement\",\n      \"approuver\":\"approbation\",\n      \"arrêter\":\"arrêt, arrestation\",\n      \"arriver\":\"arrivée\",\n      \"arroser\":\"arrosage, arrosement\",\n      \"articuler\":\"articulation\",\n      \"asphyxier\":\"asphyxie\",\n      \"assassiner\":\"assassinat\",\n      \"asservir\":\"asservissement\",\n      \"attaquer\":\"attaque\",\n      \"attendre\":\"attente\",\n      \"augmenter\":\"augmentation\",\n      \"autoriser\":\"autorisation\",\n      \"avorter\":\"avortement\",\n      \"avouer\":\"aveu\",\n      \"sebagarrer\":\"bagarre\",\n      \"baigner\":\"bain\",\n      \"bâiller\":\"bâillement\",\n      \"bégayer\":\"bégaiement\",\n      \"bêler\":\"bêlement\",\n      \"bénir\":\"bénédiction\",\n      \"bavarder\":\"bavardage\",\n      \"blêmir\":\"blêmissement\",\n      \"bloquer\":\"blocage\",\n      \"bondir\":\"bond\",\n      \"bourdonner\":\"bourdonnement\",\n      \"boycotter\":\"boycottage\",\n      \"bronzer\":\"bronzage\",\n      \"cambrioler\":\"cambriolage\",\n      \"capituler\":\"capitulation\",\n      \"capturer\":\"capture\",\n      \"célébrer\":\"célébration\",\n      \"censurer\":\"censure\",\n      \"chahuter\":\"chahut\",\n      \"changer\":\"changement, change argent\",\n      \"chanter\":\"chant\",\n      \"charger\":\"chargement\",\n      \"choisir\":\"choix\",\n      \"circuler\":\"circulation\",\n      \"cirer\":\"cirage\",\n      \"collaborer\":\"collaboration\",\n      \"commencer\":\"commencement, début\",\n      \"comparer\":\"comparaison\",\n      \"conclure\":\"conclusion\",\n      \"condamner\":\"condamnation\",\n      \"conduire\":\"conduite\",\n      \"confirmer\":\"confirmation\",\n      \"conquérir\":\"conquête\",\n      \"consentir\":\"consentement\",\n      \"consoler\":\"consolation\",\n      \"consommer\":\"consommation\",\n      \"construire\":\"construction\",\n      \"contaminer\":\"contamination souillure, contagion maladie\",\n      \"contempler\":\"contemplation\",\n      \"contester\":\"contestation\",\n      \"contraindre\":\"contrainte\",\n      \"contrôler\":\"contrôle\",\n      \"convoquer\":\"convocation\",\n      \"coopérer\":\"coopération\",\n      \"coordonner\":\"coordination\",\n      \"corrompre\":\"corruption\",\n      \"corriger\":\"correction\",\n      \"créer\":\"création\",\n      \"cueillir\":\"cueillette\",\n      \"cuire\":\"cuisson\",\n      \"débarquer\":\"débarquement\",\n      \"sedébarrasser\":\"débarras\",\n      \"déboiser\":\"déboisement\",\n      \"décharger\":\"déchargement de marchandises, décharge pour un travail\",\n      \"déchiffrer\":\"déchiffrement, déchiffrage\",\n      \"décider\":\"décision\",\n      \"déclarer\":\"déclaration\",\n      \"démolir\":\"démolition\",\n      \"dépeindre\":\"description\",\n      \"déporter\":\"déportation\",\n      \"déprimer\":\"dépression, déprime\",\n      \"dérailler\":\"déraillement\",\n      \"déranger\":\"dérangement\",\n      \"déraper\":\"dérapage\",\n      \"détruire\":\"destruction\",\n      \"dévaster\":\"dévastation\",\n      \"développer\":\"développement\",\n      \"diminuer\":\"diminution\",\n      \"diriger\":\"direction\",\n      \"discuter\":\"discussion\",\n      \"disparaître\":\"disparition\",\n      \"disperser\":\"dispersion\",\n      \"disqualifier\":\"disqualification\",\n      \"dissimuler\":\"dissimulation\",\n      \"distinguer\":\"distinction\",\n      \"distraire\":\"distraction\",\n      \"distribuer\":\"distribution\",\n      \"divertir\":\"divertissement\",\n      \"dominer\":\"domination\",\n      \"éblouir\":\"éblouissement\",\n      \"échanger\":\"échange\",\n      \"échapper\":\"échappement\",\n      \"éclairer\":\"éclairage\",\n      \"effondrer\":\"effondrement\",\n      \"élargir\":\"élargissement\",\n      \"électrifier\":\"électrification\",\n      \"électrocuter\":\"électrocution\",\n      \"éliminer\":\"élimination\",\n      \"élire\":\"élection\",\n      \"émanciper\":\"émancipation\",\n      \"embarquer\":\"embarquement\",\n      \"embarrasser\":\"embarras\",\n      \"embellir\":\"embellissement\",\n      \"émouvoir\":\"émotion\",\n      \"employer\":\"emploi\",\n      \"empoisonner\":\"empoisonnement\",\n      \"emprunter\":\"emprunt\",\n      \"encercler\":\"encerclement\",\n      \"encombrer\":\"encombrement\",\n      \"enfreindre\":\"infraction toujours: à qch.\",\n      \"enfuir\":\"fuite\",\n      \"engager\":\"engagement\",\n      \"enlever\":\"enlèvement\",\n      \"enrichir\":\"enrichissement\",\n      \"enrouer\":\"enrouement\",\n      \"enseigner\":\"enseignement\",\n      \"entrer\":\"entrée\",\n      \"envahir\":\"invasion\",\n      \"envoyer\":\"envoi\",\n      \"épouser\":\"mariage\",\n      \"éteindre\":\"extinction\",\n      \"étreindre\":\"étreinte\",\n      \"évacuer\":\"évacuation\",\n      \"évader\":\"évasion\",\n      \"évanouir\":\"évanouissement\",\n      \"évoluer\":\"évolution\",\n      \"exagérer\":\"exagération\",\n      \"examiner\":\"examen\",\n      \"exécuter\":\"exécution\",\n      \"expliquer\":\"explication\",\n      \"exploiter\":\"exploitation\",\n      \"explorer\":\"exploration\",\n      \"exploser\":\"explosion\",\n      \"exporter\":\"exportation\",\n      \"exposer\":\"exposition de tableaux, exposé discours\",\n      \"expulser\":\"expulsion\",\n      \"extrader\":\"extradition\",\n      \"exterminer\":\"extermination\",\n      \"fabriquer\":\"fabrication\",\n      \"fermer\":\"fermeture\",\n      \"fondre\":\"fonte\",\n      \"former\":\"formation\",\n      \"fouiller\":\"fouille\",\n      \"fuir\":\"fuite\",\n      \"gagner\":\"gain argent\",\n      \"gagner\":\"victoire au jeu\",\n      \"guérir\":\"guérison\",\n      \"guider\":\"guidage\",\n      \"haïr\":\"haine\",\n      \"hésiter\":\"hésitation\",\n      \"imiter\":\"imitation\",\n      \"immigrer\":\"immigration\",\n      \"inaugurer\":\"inauguration\",\n      \"inculper\":\"inculpation\",\n      \"indemniser\":\"indemnisation\",\n      \"indigner\":\"indignation\",\n      \"indiquer\":\"indication\",\n      \"initier\":\"initiation\",\n      \"injecter\":\"injection\",\n      \"inonder\":\"inondation\",\n      \"inspecter\":\"inspection\",\n      \"installer\":\"installation\",\n      \"instruire\":\"instruction\",\n      \"interdire\":\"interdiction\",\n      \"interrompre\":\"interruption\",\n      \"intervenir\":\"intervention\",\n      \"intimider\":\"intimidation\",\n      \"introduire\":\"introduction\",\n      \"inviter\":\"invitation\",\n      \"isoler\":\"isolation, isolement solitude\",\n      \"kidnapper\":\"kidnappage, kidnapping\",\n      \"lancer\":\"lancement\",\n      \"larguer\":\"largage\",\n      \"libérer\":\"libération\",\n      \"licencier\":\"licenciement\",\n      \"lire\":\"lecture\",\n      \"livrer\":\"livraison\",\n      \"lyncher\":\"lynchage\",\n      \"maigrir\":\"amaigrissement\",\n      \"maintenir\":\"maintien\",\n      \"manifester\":\"manifestation\",\n      \"manipuler\":\"manipulation\",\n      \"manoeuvrer\":\"manoeuvre\",\n      \"marcher\":\"marche\",\n      \"marier\":\"mariage\",\n      \"massacrer\":\"massacre\",\n      \"maudire\":\"malédiction\",\n      \"médire\":\"médisance\",\n      \"mécontenter\":\"mécontentement\",\n      \"méditer\":\"méditation\",\n      \"seméfier\":\"méfiance\",\n      \"mentir\":\"mensonge\",\n      \"mépriser\":\"mépris\",\n      \"seméprendre\":\"méprise\",\n      \"modifier\":\"modification\",\n      \"mordre\":\"morsure\",\n      \"mourir\":\"mort\",\n      \"mouvoir\":\"mouvement\",\n      \"naître\":\"naissance\",\n      \"nettoyer\":\"nettoyage nettoiement\",\n      \"omettre\":\"omission\",\n      \"ouvrir\":\"ouverture\",\n      \"parachuter\":\"parachutage\",\n      \"partir\":\"départ\",\n      \"passer\":\"passage\",\n      \"peindre\":\"peinture\",\n      \"perdre\":\"perte\",\n      \"persécuter\":\"persécution\",\n      \"piller\":\"pillage\",\n      \"plonger\":\"plongée\",\n      \"polluer\":\"pollution\",\n      \"poursuivre\":\"poursuite\",\n      \"prédire\":\"prédiction\",\n      \"prendre\":\"prise\",\n      \"préparer\":\"préparation\",\n      \"prêter\":\"prêt\",\n      \"prévoir\":\"prévision météo, prévoyance prudence\",\n      \"produire\":\"production\",\n      \"prolonger\":\"prolongation\",\n      \"prouver\":\"preuve\",\n      \"protéger\":\"protection\",\n      \"publier\":\"publication\",\n      \"rapatrier\":\"rapatriement\",\n      \"regretter\":\"regret\",\n      \"répéter\":\"répétition\",\n      \"reprendre\":\"reprise\",\n      \"répliquer\":\"réplique\",\n      \"résoudre\":\"solution\",\n      \"serésoudreà\":\"résolution\",\n      \"revenir\":\"retour\",\n      \"réussir\":\"réussite\",\n      \"rompre\":\"rupture\",\n      \"sacrifier\":\"sacrifice\",\n      \"satisfaire\":\"satisfaction\",\n      \"sauver\":\"sauvetage\",\n      \"sortir\":\"sortie\",\n      \"supprimer\":\"suppression\",\n      \"suspendre\":\"suspension\",\n      \"terminer\":\"terminaison, fin\",\n      \"tomber\":\"tombée de nuit\",\n      \"tomber\":\"chute d'une personne\",\n      \"transformer\":\"transformation\",\n      \"transgresser\":\"transgression\",\n      \"trépasser\":\"trépas\",\n      \"tuer\":\"meurtre, assassinat, tuerie en masse\",\n      \"user\":\"usage\",\n      \"utiliser\":\"utilisation\",\n      \"vacciner\":\"vaccination\",\n      \"venir\":\"venue\",\n      \"violer\":\"viol\",\n      \"visiter\":\"visite\",\n      \"voler\":\"vol Flug, Diebstahl\",\n      \"être sincère\":\"sincérité\",\n      \"être honnête\":\"honnêteté\",\n      \"être gai\":\"gaîté\",\n      \"être heureux\":\"bonheur\",\n      \"être loyal\":\"loyauté\", \"être là\":\"présence\", \"être absent\":\"absence\", \"ne pas être là\":\"absence\", \"fumer\":\"fumée, fumeur, cigarrette\", \"rappeler\":\"rappel\", \"ouvrer\":\"ouverture\", \"communiquer\":\"communication\", \"neiger\": \"hiver, neige\", \"pleuvoir\": \"pluie, averse\"\n    },\n    en: {\"enable\":\"ability\", \"accept\":\"acceptance\", \"accuse\":\"accusation\", \"achieve\":\"achievement\", \"act\":\"act, action, activity\", \"add\":\"addition\", \"admire\":\"admiration\", \"advise\":\"advice\", \"agree\":\"agreement\", \"anger\":\"anger\", \"appreciate\":\"appreciation\", \"approve\":\"approval\", \"approximate\":\"approximation\", \"argue\":\"argument\", \"attend\":\"attention\", \"attract\":\"attraction\", \"base\":\"base, basis\", \"beautify\":\"beauty\", \"believe\":\"belief\", \"bore\":\"bore, boredom\", \"breathe\":\"breath\", \"calm\":\"calm, calmness\", \"care\":\"care\", \"centralize\":\"centre, centralization\", \"characterize\":\"character\", \"circulate\":\"circulation\", \"clean\":\"cleanliness\", \"clear\":\"clarity, clearance\", \"collect\":\"collection\", \"colour\":\"colour\", \"comfort\":\"comfort\", \"compare\":\"comparison\", \"compete\":\"competition\", \"complete\":\"completion\", \"conclude\":\"conclusion\", \"condition\":\"condition\", \"confide\":\"confidence\", \"confuse\":\"confusion\", \"consider\":\"consideration\", \"continue\":\"continuation, continuity\", \"cool\":\"cool, coolness\", \"correct\":\"correction, correctness\", \"create\":\"creation, creativity\", \"criticize\":\"critic\", \"accustom\":\"custom\", \"dare\":\"dare\", \"darken\":\"dark, darkness\", \"deaden\":\"death\", \"deceive\":\"deceit, deception\", \"decide\":\"decision\", \"decorate\":\"decoration\", \"deepen\":\"deep, depth\", \"defend\":\"defence\", \"define\":\"definition\", \"demonstrate\":\"demonstration\", \"depend\":\"dependent, dependence\", \"describe\":\"description\", \"destroy\":\"destruction\", \"determine\":\"determination\", \"differentiate\":\"difference\", \"direct\":\"direction\", \"disagree\":\"disagreement\", \"disappoint\":\"disappointment\", \"distance\":\"distance\", \"disturb\":\"disturbance\", \"doubt\":\"doubt\", \"dream\":\"dream\", \"dress\":\"dress\", \"drink\":\"drink, drunkenness\", \"ease\":\"ease, easiness\", \"educate\":\"education\", \"effect\":\"effect, effectiveness\", \"electrify\":\"electricity\", \"embarrass\":\"embarrassment\", \"emphasize\":\"emphasis\", \"encourage\":\"encouragement\", \"end\":\"end\", \"energize\":\"energy\", \"enjoy\":\"enjoyment\", \"entertain\":\"entertainment\", \"enthuse\":\"enthusiasm\", \"equalize\":\"equality\", \"excel\":\"excellence\", \"excite\":\"excitement\", \"excuse\":\"excuse\", \"expect\":\"expectation\", \"expend\":\"expenditure, expense\", \"experiment\":\"experiment\", \"explain\":\"explanation\", \"explode\":\"explosion\", \"express\":\"expression\", \"familiarize\":\"familiarity\", \"fashion\":\"fashion\", \"fear\":\"fear\", \"finalize\":\"final\", \"fish\":\"fish, fishing\", \"fit\":\"fit\", \"force\":\"force\", \"forget\":\"forgetfulness\", \"formalize\":\"formality\", \"frequent\":\"frequency\", \"freshen\":\"freshness\", \"frighten\":\"fright\", \"harden\":\"hardship\", \"harm\":\"harm, harmfulness\", \"overheat\":\"heat\", \"help\":\"help\", \"hope\":\"hope\", \"hurry\":\"hurry\", \"hurt\":\"hurt\", \"ice\":\"ice\", \"imagine\":\"imagination\", \"impress\":\"impression\", \"increase\":\"increase\", \"infect\":\"infection\", \"insist\":\"insistence\", \"instruct\":\"instruction\", \"intend\":\"intent, intention\", \"interest\":\"interest\", \"invent\":\"invention\", \"invite\":\"invitation, invite\", \"know\":\"knowledge\", \"enlarge\":\"enlargement\", \"laugh\":\"laugh\", \"outlaw\":\"law\", \"legalize\":\"legality\", \"lengthen\":\"length\", \"lighten\":\"light\", \"locate,\":\"location\", \"love\":\"love\", \"lower\":\"low\", \"man\":\"man, mankind\", \"mark\":\"mark\", \"match\":\"match\", \"materialize\":\"material, materialism\", \"mean\":\"meaning, meaningfulness\", \"measure\":\"measurement\", \"memorize\":\"memory\", \"mind\":\"mind, mindlessness\", \"minimize\":\"minimum\", \"mistake\":\"mistake\", \"moralize\":\"moral, morality\", \"mother\":\"mother, motherhood\", \"move\":\"move, movement\", \"murder\":\"murder\", \"rename\":\"name\", \"nationalize\":\"nation, nationalization, nationality\", \"naturalize\":\"nature, naturalist, naturalization\", \"necessitate\":\"necessity\", \"need\":\"need\", \"unnerve\":\"nerve, nervousness\", \"renew\":\"news, newness\", \"normalize\":\"normality\", \"notice\":\"notice\", \"obey\":\"obedience\", \"offend\":\"offence\", \"officiate\":\"office\", \"open\":\"openness\", \"operate\":\"operation\", \"cooperate\":\"operation\", \"opt\":\"option\", \"originate\":\"origin\", \"pain\":\"pain\", \"part\":\"part, partition\", \"impart\":\"part, partition\", \"pacify\":\"peace\", \"perfect\":\"perfection\", \"personalize\":\"person, personality\", \"personify\":\"person, personality\", \"persuade\":\"persuasion, persuasiveness\", \"play\":\"play, playfulness\", \"outplay\":\"play, playfulness\", \"please\":\"pleasure\", \"point\":\"point, pointlessness\", \"politicize\":\"politics\", \"popularize\":\"popularity\", \"power, empower\":\"power\", \"prefer\":\"preference\", \"present\":\"presence, presentation,\", \"privatize\":\"privacy, privatization\", \"profit\":\"profit, profitability\", \"progress\":\"progress, progression\", \"provide\":\"provision\", \"publicize\":\"public, publicity\", \"punish\":\"punishment\", \"purify\":\"purification, purity\", \"question\":\"question\", \"quieten\":\"quiet\", \"race\":\"race\", \"realize\":\"realism, reality\", \"reason\":\"reason\", \"receive\":\"receipt, reception,\", \"recognize\":\"recognition\", \"reflect\":\"reflection\", \"regret\":\"regret\", \"regulate\":\"regular, regularity\", \"relate\":\"relation, relationship\", \"rely\":\"reliability\", \"remark\":\"remark\", \"repair\":\"repair\", \"repeat\":\"repeat, repetition\", \"report\":\"report\", \"respect\":\"respect\", \"respond\":\"response, responsiveness\", \"rest\":\"rest\", \"enrich\":\"riches, richness\", \"right\":\"right, rightness,\", \"romanticize\":\"romance, romanticism\", \"roughen\":\"rough, roughness\", \"round\":\"round\", \"sadden\":\"sadness\", \"satisfy\":\"satisfaction\", \"school\":\"school, pre-school\", \"search\":\"search, research\", \"research\":\"search, research\", \"sense\":\"sense, sensibility, sensitivity, sensitiveness\", \"sensitize\":\"sense, sensibility, sensitivity, sensitiveness\", \"separate\":\"separation\", \"shake\":\"shake, shakiness\", \"shape\":\"shape\", \"sharpen\":\"sharpness\", \"shock\":\"shock\", \"shorten\":\"short, shortness\", \"shy\":\"shyness\", \"sicken\":\"sick, sickness\", \"signify\":\"significance\", \"silence\":\"silence\", \"simplify\":\"simplicity, simplification\", \"single\":\"single\", \"sleep\":\"sleep, sleepiness\", \"socialize\":\"society,\", \"soften\":\"softness\", \"solidify\":\"solid, solidity\", \"specialize\":\"specialty\", \"speed\":\"speed, speediness\", \"spot\":\"spot\", \"stand\":\"stand, standstill\", \"withstand\":\"stand, standstill\", \"steepen\":\"steepness\", \"stiffen\":\"stiffness\", \"strengthen\":\"strength\", \"strike\":\"strike\", \"structure\":\"structure, structuralism\", \"study\":\"student, study\", \"style\":\"style, stylishness\", \"substantiate\":\"substance\", \"succeed\":\"success, succession\", \"suggest\":\"suggestion\", \"support\":\"support, supportiveness\", \"suppose\":\"supposition\", \"presuppose\":\"supposition\", \"surprise\":\"surprise\", \"suspect\":\"suspect, suspicion\", \"sweeten\":\"sweet, sweetness\", \"symbolize\":\"symbol, symbolism\", \"sympathize\":\"sympathy\", \"systematize\":\"system, systematization\", \"talk\":\"talk, talks\", \"taste\":\"taste\", \"thank\":\"thanks, thankfulness\", \"theorize\":\"theory, theorem\", \"thicken\":\"thick, thickness\", \"thin\":\"thinness\", \"think\":\"thought, thoughtfulness,\", \"threaten\":\"threat\", \"tighten\":\"tightness\", \"tire\":\"tiredness\", \"touch\":\"touch\", \"trouble\":\"trouble\", \"trust\":\"trust, trusteeship\", \"entrust\":\"trust, trusteeship\", \"typify\":\"type\", \"understand\":\"understanding\", \"use\":\"usage, use\", \"vary\":\"variant, variety, variation\", \"violate\":\"violence\", \"wrong\":\"wrong\", \"warm\":\"warmth\", \"waste\":\"wastage, waste\", \"watch\":\"watch, watchfulness\", \"weaken\":\"weakness\", \"weigh\":\"weight\", \"outweigh\":\"weight\", \"widen\":\"width\", \"wonder\":\"wonder\", \"worry\":\"worry\", \"write\":\"writing\", \"rewrite\":\"writing\",}\n    }\n\n    const stopWords = {\n      fr: [\"!\", \"moment\", \"qu'il\", \"qu'elle\", \"qu'ils\", \"qu'elles\", \"s'\", \"a\",\"à\",\"â\",\"abord\",\"afin\",\"ah\",\"ai\",\"aie\",\"ainsi\",\"allaient\",\"allo\",\"allô\",\"allons\",\"après\",\"assez\",\"attendu\",\"au\",\"aucun\",\"aucune\",\"aujourd\",\"aujourd'hui\",\"auquel\",\"aura\",\"auront\",\"aussi\",\"autre\",\"autres\",\"aux\",\"auxquelles\",\"auxquels\",\"avaient\",\"avais\",\"avait\",\"avant\",\"avec\",\"avoir\",\"ayant\",\"b\",\"bah\",\"beaucoup\",\"bien\",\"bigre\",\"boum\",\"bravo\",\"brrr\",\"c\",\"ça\",\"car\",\"ce\",\"ceci\",\"cela\",\"celle\",\"celle-ci\",\"celle-là\",\"celles\",\"celles-ci\",\"celles-là\",\"celui\",\"celui-ci\",\"celui-là\",\"cent\",\"cependant\",\"certain\",\"certaine\",\"certaines\",\"certains\",\"certes\",\"ces\",\"cet\",\"cette\",\"ceux\",\"ceux-ci\",\"ceux-là\",\"chacun\",\"chaque\",\"cher\",\"chère\",\"chères\",\"chers\",\"chez\",\"chiche\",\"chut\",\"ci\",\"cinq\",\"cinquantaine\",\"cinquante\",\"cinquantième\",\"cinquième\",\"clac\",\"clic\",\"combien\",\"comme\",\"comment\",\"compris\",\"concernant\",\"contre\",\"couic\",\"crac\",\"d\",\"da\",\"dans\",\"de\",\"debout\",\"dedans\",\"dehors\",\"delà\",\"depuis\",\"derrière\",\"des\",\"dès\",\"désormais\",\"desquelles\",\"desquels\",\"dessous\",\"dessus\",\"deux\",\"deuxième\",\"deuxièmement\",\"devant\",\"devers\",\"devra\",\"différent\",\"différente\",\"différentes\",\"différents\",\"dire\",\"divers\",\"diverse\",\"diverses\",\"dix\",\"dix-huit\",\"dixième\",\"dix-neuf\",\"dix-sept\",\"doit\",\"doivent\",\"donc\",\"dont\",\"douze\",\"douzième\",\"dring\",\"du\",\"duquel\",\"durant\",\"e\",\"effet\",\"eh\",\"elle\",\"elle-même\",\"elles\",\"elles-mêmes\",\"en\",\"encore\",\"entre\",\"envers\",\"environ\",\"es\",\"ès\",\"est\",\"et\",\"etant\",\"étaient\",\"étais\",\"était\",\"étant\",\"etc\",\"été\",\"etre\",\"être\",\"eu\",\"euh\",\"eux\",\"eux-mêmes\",\"excepté\",\"f\",\"façon\",\"fais\",\"faisaient\",\"faisant\",\"fait\",\"feront\",\"fi\",\"flac\",\"floc\",\"font\",\"g\",\"gens\",\"h\",\"ha\",\"hé\",\"hein\",\"hélas\",\"hem\",\"hep\",\"hi\",\"ho\",\"holà\",\"hop\",\"hormis\",\"hors\",\"hou\",\"houp\",\"hue\",\"hui\",\"huit\",\"huitième\",\"hum\",\"hurrah\",\"i\",\"il\",\"ils\",\"importe\",\"j\",\"je\",\"jusqu\",\"jusque\",\"k\",\"l\",\"la\",\"là\",\"laquelle\",\"las\",\"le\",\"lequel\",\"les\",\"lès\",\"lesquelles\",\"lesquels\",\"leur\",\"leurs\",\"longtemps\",\"lorsque\",\"lui\",\"lui-même\",\"m\",\"ma\",\"maint\",\"mais\",\"malgré\",\"me\",\"même\",\"mêmes\",\"merci\",\"mes\",\"mien\",\"mienne\",\"miennes\",\"miens\",\"mille\",\"mince\",\"moi\",\"moi-même\",\"moins\",\"mon\",\"moyennant\",\"n\",\"na\",\"ne\",\"néanmoins\",\"neuf\",\"neuvième\",\"ni\",\"nombreuses\",\"nombreux\",\"non\",\"nos\",\"notre\",\"nôtre\",\"nôtres\",\"nous\",\"nous-mêmes\",\"nul\",\"o\",\"o|\",\"ô\",\"oh\",\"ohé\",\"olé\",\"ollé\",\"on\",\"ont\",\"onze\",\"onzième\",\"ore\",\"ou\",\"où\",\"ouf\",\"ouias\",\"oust\",\"ouste\",\"outre\",\"p\",\"paf\",\"pan\",\"par\",\"parmi\",\"partant\",\"particulier\",\"particulière\",\"particulièrement\",\"pas\",\"passé\",\"pendant\",\"personne\",\"peu\",\"peut\",\"peuvent\",\"peux\",\"pff\",\"pfft\",\"pfut\",\"pif\",\"plein\",\"plouf\",\"plus\",\"plusieurs\",\"plutôt\",\"pouah\",\"pour\",\"pourquoi\",\"premier\",\"première\",\"premièrement\",\"près\",\"proche\",\"psitt\",\"puisque\",\"q\",\"qu\",\"quand\",\"quant\",\"quanta\",\"quant-à-soi\",\"quarante\",\"quatorze\",\"quatre\",\"quatre-vingt\",\"quatrième\",\"quatrièmement\",\"que\",\"quel\",\"quelconque\",\"quelle\",\"quelles\",\"quelque\",\"quelques\",\"quelqu'un\",\"quels\",\"qui\",\"quiconque\",\"quinze\",\"quoi\",\"quoique\",\"r\",\"revoici\",\"revoilà\",\"rien\",\"s\",\"sa\",\"sacrebleu\",\"sans\",\"sapristi\",\"sauf\",\"se\",\"seize\",\"selon\",\"sept\",\"septième\",\"sera\",\"seront\",\"ses\",\"si\",\"sien\",\"sienne\",\"siennes\",\"siens\",\"sinon\",\"six\",\"sixième\",\"soi\",\"soi-même\",\"soit\",\"soixante\",\"son\",\"sont\",\"sous\",\"stop\",\"suis\",\"suivant\",\"sur\",\"surtout\",\"t\",\"ta\",\"tac\",\"tant\",\"te\",\"té\",\"tel\",\"telle\",\"tellement\",\"telles\",\"tels\",\"tenant\",\"tes\",\"tic\",\"tien\",\"tienne\",\"tiennes\",\"tiens\",\"toc\",\"toi\",\"toi-même\",\"ton\",\"touchant\",\"toujours\",\"tous\",\"tout\",\"toute\",\"toutes\",\"treize\",\"trente\",\"très\",\"trois\",\"troisième\",\"troisièmement\",\"trop\",\"tsoin\",\"tsouin\",\"tu\",\"u\",\"un\",\"une\",\"unes\",\"uns\",\"v\",\"va\",\"vais\",\"vas\",\"vé\",\"vers\",\"via\",\"vif\",\"vifs\",\"vingt\",\"vivat\",\"vive\",\"vives\",\"vlan\",\"voici\",\"voilà\",\"vont\",\"vos\",\"votre\",\"vôtre\",\"vôtres\",\"vous\",\"vous-mêmes\",\"vu\",\"w\",\"x\",\"y\",\"z\",\"zut\",\"alors\",\"aucuns\",\"bon\",\"devrait\",\"dos\",\"droite\",\"début\",\"essai\",\"faites\",\"fois\",\"force\",\"haut\",\"ici\",\"juste\",\"maintenant\",\"mine\",\"mot\",\"nommés\",\"nouveaux\",\"parce\",\"parole\",\"personnes\",\"pièce\",\"plupart\",\"seulement\",\"soyez\",\"sujet\",\"tandis\",\"valeur\",\"voie\",\"voient\",\"état\",\"étions\"],\n      en: [\"0o\", \"0s\", \"3a\", \"3b\", \"3d\", \"6b\", \"6o\", \"a\", \"a1\", \"a2\", \"a3\", \"a4\", \"ab\", \"able\", \"about\", \"above\", \"abst\", \"ac\", \"accordance\", \"according\", \"accordingly\", \"across\", \"act\", \"actually\", \"ad\", \"added\", \"adj\", \"ae\", \"af\", \"affected\", \"affecting\", \"affects\", \"after\", \"afterwards\", \"ag\", \"again\", \"against\", \"ah\", \"ain\", \"ain't\", \"aj\", \"al\", \"all\", \"allow\", \"allows\", \"almost\", \"alone\", \"along\", \"already\", \"also\", \"although\", \"always\", \"am\", \"among\", \"amongst\", \"amoungst\", \"amount\", \"an\", \"and\", \"announce\", \"another\", \"any\", \"anybody\", \"anyhow\", \"anymore\", \"anyone\", \"anything\", \"anyway\", \"anyways\", \"anywhere\", \"ao\", \"ap\", \"apart\", \"apparently\", \"appear\", \"appreciate\", \"appropriate\", \"approximately\", \"ar\", \"are\", \"aren\", \"arent\", \"aren't\", \"arise\", \"around\", \"as\", \"a's\", \"aside\", \"ask\", \"asking\", \"associated\", \"at\", \"au\", \"auth\", \"av\", \"available\", \"aw\", \"away\", \"awfully\", \"ax\", \"ay\", \"az\", \"b\", \"b1\", \"b2\", \"b3\", \"ba\", \"back\", \"bc\", \"bd\", \"be\", \"became\", \"because\", \"become\", \"becomes\", \"becoming\", \"been\", \"before\", \"beforehand\", \"begin\", \"beginning\", \"beginnings\", \"begins\", \"behind\", \"being\", \"believe\", \"below\", \"beside\", \"besides\", \"best\", \"better\", \"between\", \"beyond\", \"bi\", \"bill\", \"biol\", \"bj\", \"bk\", \"bl\", \"bn\", \"both\", \"bottom\", \"bp\", \"br\", \"brief\", \"briefly\", \"bs\", \"bt\", \"bu\", \"but\", \"bx\", \"by\", \"c\", \"c1\", \"c2\", \"c3\", \"ca\", \"call\", \"came\", \"can\", \"cannot\", \"cant\", \"can't\", \"cause\", \"causes\", \"cc\", \"cd\", \"ce\", \"certain\", \"certainly\", \"cf\", \"cg\", \"ch\", \"changes\", \"ci\", \"cit\", \"cj\", \"cl\", \"clearly\", \"cm\", \"c'mon\", \"cn\", \"co\", \"com\", \"come\", \"comes\", \"con\", \"concerning\", \"consequently\", \"consider\", \"considering\", \"contain\", \"containing\", \"contains\", \"corresponding\", \"could\", \"couldn\", \"couldnt\", \"couldn't\", \"course\", \"cp\", \"cq\", \"cr\", \"cry\", \"cs\", \"c's\", \"ct\", \"cu\", \"currently\", \"cv\", \"cx\", \"cy\", \"cz\", \"d\", \"d2\", \"da\", \"date\", \"dc\", \"dd\", \"de\", \"definitely\", \"describe\", \"described\", \"despite\", \"detail\", \"df\", \"di\", \"did\", \"didn\", \"didn't\", \"different\", \"dj\", \"dk\", \"dl\", \"do\", \"does\", \"doesn\", \"doesn't\", \"doing\", \"don\", \"done\", \"don't\", \"down\", \"downwards\", \"dp\", \"dr\", \"ds\", \"dt\", \"du\", \"due\", \"during\", \"dx\", \"dy\", \"e\", \"e2\", \"e3\", \"ea\", \"each\", \"ec\", \"ed\", \"edu\", \"ee\", \"ef\", \"effect\", \"eg\", \"ei\", \"eight\", \"eighty\", \"either\", \"ej\", \"el\", \"eleven\", \"else\", \"elsewhere\", \"em\", \"empty\", \"en\", \"end\", \"ending\", \"enough\", \"entirely\", \"eo\", \"ep\", \"eq\", \"er\", \"es\", \"especially\", \"est\", \"et\", \"et-al\", \"etc\", \"eu\", \"ev\", \"even\", \"ever\", \"every\", \"everybody\", \"everyone\", \"everything\", \"everywhere\", \"ex\", \"exactly\", \"example\", \"except\", \"ey\", \"f\", \"f2\", \"fa\", \"far\", \"fc\", \"few\", \"ff\", \"fi\", \"fifteen\", \"fifth\", \"fify\", \"fill\", \"find\", \"fire\", \"first\", \"five\", \"fix\", \"fj\", \"fl\", \"fn\", \"fo\", \"followed\", \"following\", \"follows\", \"for\", \"former\", \"formerly\", \"forth\", \"forty\", \"found\", \"four\", \"fr\", \"from\", \"front\", \"fs\", \"ft\", \"fu\", \"full\", \"further\", \"furthermore\", \"fy\", \"g\", \"ga\", \"gave\", \"ge\", \"get\", \"gets\", \"getting\", \"gi\", \"give\", \"given\", \"gives\", \"giving\", \"gj\", \"gl\", \"go\", \"goes\", \"going\", \"gone\", \"got\", \"gotten\", \"gr\", \"greetings\", \"gs\", \"gy\", \"h\", \"h2\", \"h3\", \"had\", \"hadn\", \"hadn't\", \"happens\", \"hardly\", \"has\", \"hasn\", \"hasnt\", \"hasn't\", \"have\", \"haven\", \"haven't\", \"having\", \"he\", \"hed\", \"he'd\", \"he'll\", \"hello\", \"help\", \"hence\", \"her\", \"here\", \"hereafter\", \"hereby\", \"herein\", \"heres\", \"here's\", \"hereupon\", \"hers\", \"herself\", \"hes\", \"he's\", \"hh\", \"hi\", \"hid\", \"him\", \"himself\", \"his\", \"hither\", \"hj\", \"ho\", \"home\", \"hopefully\", \"how\", \"howbeit\", \"however\", \"how's\", \"hr\", \"hs\", \"http\", \"hu\", \"hundred\", \"hy\", \"i\", \"i2\", \"i3\", \"i4\", \"i6\", \"i7\", \"i8\", \"ia\", \"ib\", \"ibid\", \"ic\", \"id\", \"i'd\", \"ie\", \"if\", \"ig\", \"ignored\", \"ih\", \"ii\", \"ij\", \"il\", \"i'll\", \"im\", \"i'm\", \"immediate\", \"immediately\", \"importance\", \"important\", \"in\", \"inasmuch\", \"inc\", \"indeed\", \"index\", \"indicate\", \"indicated\", \"indicates\", \"information\", \"inner\", \"insofar\", \"instead\", \"interest\", \"into\", \"invention\", \"inward\", \"io\", \"ip\", \"iq\", \"ir\", \"is\", \"isn\", \"isn't\", \"it\", \"itd\", \"it'd\", \"it'll\", \"its\", \"it's\", \"itself\", \"iv\", \"i've\", \"ix\", \"iy\", \"iz\", \"j\", \"jj\", \"jr\", \"js\", \"jt\", \"ju\", \"just\", \"k\", \"ke\", \"keep\", \"keeps\", \"kept\", \"kg\", \"kj\", \"km\", \"know\", \"known\", \"knows\", \"ko\", \"l\", \"l2\", \"la\", \"largely\", \"last\", \"lately\", \"later\", \"latter\", \"latterly\", \"lb\", \"lc\", \"le\", \"least\", \"les\", \"less\", \"lest\", \"let\", \"lets\", \"let's\", \"lf\", \"like\", \"liked\", \"likely\", \"line\", \"little\", \"lj\", \"ll\", \"ll\", \"ln\", \"lo\", \"look\", \"looking\", \"looks\", \"los\", \"lr\", \"ls\", \"lt\", \"ltd\", \"m\", \"m2\", \"ma\", \"made\", \"mainly\", \"make\", \"makes\", \"many\", \"may\", \"maybe\", \"me\", \"mean\", \"means\", \"meantime\", \"meanwhile\", \"merely\", \"mg\", \"might\", \"mightn\", \"mightn't\", \"mill\", \"million\", \"mine\", \"miss\", \"ml\", \"mn\", \"mo\", \"more\", \"moreover\", \"most\", \"mostly\", \"move\", \"mr\", \"mrs\", \"ms\", \"mt\", \"mu\", \"much\", \"mug\", \"must\", \"mustn\", \"mustn't\", \"my\", \"myself\", \"n\", \"n2\", \"na\", \"name\", \"namely\", \"nay\", \"nc\", \"nd\", \"ne\", \"near\", \"nearly\", \"necessarily\", \"necessary\", \"need\", \"needn\", \"needn't\", \"needs\", \"neither\", \"never\", \"nevertheless\", \"new\", \"next\", \"ng\", \"ni\", \"nine\", \"ninety\", \"nj\", \"nl\", \"nn\", \"no\", \"nobody\", \"non\", \"none\", \"nonetheless\", \"noone\", \"nor\", \"normally\", \"nos\", \"not\", \"noted\", \"nothing\", \"novel\", \"now\", \"nowhere\", \"nr\", \"ns\", \"nt\", \"ny\", \"o\", \"oa\", \"ob\", \"obtain\", \"obtained\", \"obviously\", \"oc\", \"od\", \"of\", \"off\", \"often\", \"og\", \"oh\", \"oi\", \"oj\", \"ok\", \"okay\", \"ol\", \"old\", \"om\", \"omitted\", \"on\", \"once\", \"one\", \"ones\", \"only\", \"onto\", \"oo\", \"op\", \"oq\", \"or\", \"ord\", \"os\", \"ot\", \"other\", \"others\", \"otherwise\", \"ou\", \"ought\", \"our\", \"ours\", \"ourselves\", \"out\", \"outside\", \"over\", \"overall\", \"ow\", \"owing\", \"own\", \"ox\", \"oz\", \"p\", \"p1\", \"p2\", \"p3\", \"page\", \"pagecount\", \"pages\", \"par\", \"part\", \"particular\", \"particularly\", \"pas\", \"past\", \"pc\", \"pd\", \"pe\", \"per\", \"perhaps\", \"pf\", \"ph\", \"pi\", \"pj\", \"pk\", \"pl\", \"placed\", \"please\", \"plus\", \"pm\", \"pn\", \"po\", \"poorly\", \"possible\", \"possibly\", \"potentially\", \"pp\", \"pq\", \"pr\", \"predominantly\", \"present\", \"presumably\", \"previously\", \"primarily\", \"probably\", \"promptly\", \"proud\", \"provides\", \"ps\", \"pt\", \"pu\", \"put\", \"py\", \"q\", \"qj\", \"qu\", \"que\", \"quickly\", \"quite\", \"qv\", \"r\", \"r2\", \"ra\", \"ran\", \"rather\", \"rc\", \"rd\", \"re\", \"readily\", \"really\", \"reasonably\", \"recent\", \"recently\", \"ref\", \"refs\", \"regarding\", \"regardless\", \"regards\", \"related\", \"relatively\", \"research\", \"research-articl\", \"respectively\", \"resulted\", \"resulting\", \"results\", \"rf\", \"rh\", \"ri\", \"right\", \"rj\", \"rl\", \"rm\", \"rn\", \"ro\", \"rq\", \"rr\", \"rs\", \"rt\", \"ru\", \"run\", \"rv\", \"ry\", \"s\", \"s2\", \"sa\", \"said\", \"same\", \"saw\", \"say\", \"saying\", \"says\", \"sc\", \"sd\", \"se\", \"sec\", \"second\", \"secondly\", \"section\", \"see\", \"seeing\", \"seem\", \"seemed\", \"seeming\", \"seems\", \"seen\", \"self\", \"selves\", \"sensible\", \"sent\", \"serious\", \"seriously\", \"seven\", \"several\", \"sf\", \"shall\", \"shan\", \"shan't\", \"she\", \"shed\", \"she'd\", \"she'll\", \"shes\", \"she's\", \"should\", \"shouldn\", \"shouldn't\", \"should've\", \"show\", \"showed\", \"shown\", \"showns\", \"shows\", \"si\", \"side\", \"significant\", \"significantly\", \"similar\", \"similarly\", \"since\", \"sincere\", \"six\", \"sixty\", \"sj\", \"sl\", \"slightly\", \"sm\", \"sn\", \"so\", \"some\", \"somebody\", \"somehow\", \"someone\", \"somethan\", \"something\", \"sometime\", \"sometimes\", \"somewhat\", \"somewhere\", \"soon\", \"sorry\", \"sp\", \"specifically\", \"specified\", \"specify\", \"specifying\", \"sq\", \"sr\", \"ss\", \"st\", \"still\", \"stop\", \"strongly\", \"sub\", \"substantially\", \"successfully\", \"such\", \"sufficiently\", \"suggest\", \"sup\", \"sure\", \"sy\", \"system\", \"sz\", \"t\", \"t1\", \"t2\", \"t3\", \"take\", \"taken\", \"taking\", \"tb\", \"tc\", \"td\", \"te\", \"tell\", \"ten\", \"tends\", \"tf\", \"th\", \"than\", \"thank\", \"thanks\", \"thanx\", \"that\", \"that'll\", \"thats\", \"that's\", \"that've\", \"the\", \"their\", \"theirs\", \"them\", \"themselves\", \"then\", \"thence\", \"there\", \"thereafter\", \"thereby\", \"thered\", \"therefore\", \"therein\", \"there'll\", \"thereof\", \"therere\", \"theres\", \"there's\", \"thereto\", \"thereupon\", \"there've\", \"these\", \"they\", \"theyd\", \"they'd\", \"they'll\", \"theyre\", \"they're\", \"they've\", \"thickv\", \"thin\", \"think\", \"third\", \"this\", \"thorough\", \"thoroughly\", \"those\", \"thou\", \"though\", \"thoughh\", \"thousand\", \"three\", \"throug\", \"through\", \"throughout\", \"thru\", \"thus\", \"ti\", \"til\", \"tip\", \"tj\", \"tl\", \"tm\", \"tn\", \"to\", \"together\", \"too\", \"took\", \"top\", \"toward\", \"towards\", \"tp\", \"tq\", \"tr\", \"tried\", \"tries\", \"truly\", \"try\", \"trying\", \"ts\", \"t's\", \"tt\", \"tv\", \"twelve\", \"twenty\", \"twice\", \"two\", \"tx\", \"u\", \"u201d\", \"ue\", \"ui\", \"uj\", \"uk\", \"um\", \"un\", \"under\", \"unfortunately\", \"unless\", \"unlike\", \"unlikely\", \"until\", \"unto\", \"uo\", \"up\", \"upon\", \"ups\", \"ur\", \"us\", \"use\", \"used\", \"useful\", \"usefully\", \"usefulness\", \"uses\", \"using\", \"usually\", \"ut\", \"v\", \"va\", \"value\", \"various\", \"vd\", \"ve\", \"ve\", \"very\", \"via\", \"viz\", \"vj\", \"vo\", \"vol\", \"vols\", \"volumtype\", \"vq\", \"vs\", \"vt\", \"vu\", \"w\", \"wa\", \"want\", \"wants\", \"was\", \"wasn\", \"wasnt\", \"wasn't\", \"way\", \"we\", \"wed\", \"we'd\", \"welcome\", \"well\", \"we'll\", \"well-b\", \"went\", \"were\", \"we're\", \"weren\", \"werent\", \"weren't\", \"we've\", \"what\", \"whatever\", \"what'll\", \"whats\", \"what's\", \"when\", \"whence\", \"whenever\", \"when's\", \"where\", \"whereafter\", \"whereas\", \"whereby\", \"wherein\", \"wheres\", \"where's\", \"whereupon\", \"wherever\", \"whether\", \"which\", \"while\", \"whim\", \"whither\", \"who\", \"whod\", \"whoever\", \"whole\", \"who'll\", \"whom\", \"whomever\", \"whos\", \"who's\", \"whose\", \"why\", \"why's\", \"wi\", \"widely\", \"will\", \"willing\", \"wish\", \"with\", \"within\", \"without\", \"wo\", \"won\", \"wonder\", \"wont\", \"won't\", \"words\", \"world\", \"would\", \"wouldn\", \"wouldnt\", \"wouldn't\", \"www\", \"x\", \"x1\", \"x2\", \"x3\", \"xf\", \"xi\", \"xj\", \"xk\", \"xl\", \"xn\", \"xo\", \"xs\", \"xt\", \"xv\", \"xx\", \"y\", \"y2\", \"yes\", \"yet\", \"yj\", \"yl\", \"you\", \"youd\", \"you'd\", \"you'll\", \"your\", \"youre\", \"you're\", \"yours\", \"yourself\", \"yourselves\", \"you've\", \"yr\", \"ys\", \"yt\", \"z\", \"zero\", \"zi\", \"zz\"],\n    }\n\n    let body = {\n      \"document\":{\n        \"type\": \"PLAIN_TEXT\",\n        \"content\": text\n      },\n      \"encodingType\":\"UTF16\"\n    }\n\n    let options = {\n        'method': 'post', \n        'mode': 'cors', \n        'cache': 'no-cache',\n        'redirect': 'follow',\n        'referrerPolicy': 'no-referrer',\n        'headers': { 'Content-Type': 'application/json' },\n        'body': JSON.stringify(body)\n      };\n\n      try {\n\n      // Fetch data and get JSON result.\n      let Response = await fetch(`https://language.googleapis.com/v1/documents:analyzeSyntax?key=${API_KEY}`,options);\n\n      let Result = await Response.json();\n      let verbs = [];\n      let adjs = [];\n      let originalTextLength = text.length;\n\n      if(!Result) return null\n\n      if(Result) {\n        console.log('annotateText', Result);\n        if (Result.tokens) {\n          /* verbs = Result.tokens.filter(token => token.partOfSpeech.tag === \"VERB\"); */\n          adjs = Result.tokens.filter(token => token.partOfSpeech.tag === \"ADJ\");\n\n          /* text = ''; */\n\n          Result.tokens.forEach(token => {\n\n            let newWord = token.lemma;\n\n            if (token.partOfSpeech.tag === \"VERB\") {\n\n              let noun = nominalisation[Result.language][newWord.toLowerCase()];\n            \n              if (noun) {\n                newWord = noun;\n              } else {\n                console.log('Nominalisation non existante :', newWord.toLowerCase());\n              }\n\n            }\n\n            if (stopWords[Result.language].includes(newWord.toLowerCase())) {\n              newWord = '';\n            }\n\n            text = this.replaceWord(text, token.text.content, newWord, token.text.beginOffset - (originalTextLength - text.length));\n            /* text += `${newWord} `; */\n\n          });\n\n          /* verbs.forEach(verb => {\n\n            var stringToGoIntoTheRegex = verb.lemma.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n            var regex = new RegExp(stringToGoIntoTheRegex + \"\\\\b\");\n\n            let noun = nominalisation[Result.language][verb.lemma.toLowerCase()];\n            \n            if (noun) {\n              text = text.replace(regex, `${noun}`);\n            } else {\n              console.log('Nominalisation non existante :', verb.lemma.toLowerCase());\n            }\n\n          }); */\n\n          console.log('Nominalisation : ', text);\n\n          /* let wordArray = text.replaceAll(\",\",\"\").replaceAll(\".\",\"\").replaceAll(\"!\",\"\").replaceAll(\"?\",\"\").split(\" \");\n\n          wordArray.forEach((word, idx) => {\n            let stopWord = stopWords[Result.language].includes(word.toLowerCase());\n\n            if (stopWord) {\n              var stringToGoIntoTheRegex = word.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n              var regex = new RegExp(stringToGoIntoTheRegex + \"\\\\b\");  \n\n              text = text.replace(regex, \"\");\n              \n            }\n          }); */\n\n          text = text.replace(/  +/g, ' ');\n\n          console.log(\"Stop Words : \", text);\n\n        }\n\n        let body2 = {\n          \"document\":{\n            \"type\": \"PLAIN_TEXT\",\n            \"content\": text\n          },\n          \"encodingType\":\"UTF16\"\n        }\n    \n        let options2 = {\n            'method': 'post', \n            'mode': 'cors', \n            'cache': 'no-cache',\n            'redirect': 'follow',\n            'referrerPolicy': 'no-referrer',\n            'headers': { 'Content-Type': 'application/json' },\n            'body': JSON.stringify(body2)\n          };\n\n\n        let Response2 = await fetch(`https://language.googleapis.com/v1/documents:analyzeEntities?key=${API_KEY}`,options2);\n\n        let Result2 = await Response2.json();\n\n        if(!Result2) return null\n\n        if(Result2) {\n\n          adjs.forEach(adj => {\n            Result2.entities.push({\n              \"name\": adj.lemma,\n              \"type\": \"CONSUMER_GOOD\",\n              \"metadata\": {},\n              \"salience\": 0.07,\n            });\n          });\n\n          return Result2;\n        }\n      }\n\n      return null;\n\n    } catch(Err) {\n      console.log('analyzeEntities',Err);\n      return [];\n    }\n\n  }\n\n}\n\n\n// EXPORT -----------------------------------------------------------------------------------------\n\nexport default CloudNaturalLanguageAPI;\n","// MAIN COMPONENT ---------------------------------------------------------------------------------\nconst API_KEY_PIXABAY = process.env.REACT_APP_PIXABAY_API_KEY;\nconst API_KEY_UNSPLASH = process.env.REACT_APP_UNSPLASH_API_KEY;\n\nclass PixaBayAPI {\n\n  static async getCorrespondingImages(words,language, nbResults = 200) {\n\n    let queryString = \"\";\n\n    words.forEach((word, idx) => {\n        queryString += word + (idx + 1 < words.length ? \"+\": \"\");\n    });\n\n    /* let options = {\n      'method': 'get', // *GET, POST, PUT, DELETE, etc.\n      'mode': 'cors', // no-cors, *cors, same-origin\n      'cache': 'no-cache',\n      'headers': { 'Content-Type': 'application/json' },\n    }; */\n\n    let url = `https://pixabay.com/api/?key=${API_KEY_PIXABAY}&q=${encodeURIComponent(queryString)}&image_type=photo&lang=${language}&safesearch=true&per_page=${nbResults}`;\n\n    if (words.length === 0) {\n      url = `https://pixabay.com/api/?key=${API_KEY_PIXABAY}&category=backgrounds&image_type=photo&lang=${language}&safesearch=true&per_page=${nbResults}`;\n    }\n\n    try {\n\n      // Fetch data and get JSON result.\n      let Response = await fetch(url); //&orientation=horizontal\n\n      let Result = await Response.json();\n\n      if(!Result) return null\n\n      if(Result) {\n        return Result;\n      }\n\n      return null;\n\n    } catch(Err) {\n      console.log('getCorrespondingImages',Err);\n      return [];\n    }\n\n  }\n\n  static async getCorrespondingImagesUnsplash(words,language, nbResults = 20) {\n\n      let queryString = \"\";\n\n      words.forEach((word, idx) => {\n          queryString += word + (idx + 1 < words.length ? \" \": \"\");\n      });\n\n      try {\n\n      // Fetch data and get JSON result.\n      let Response = await fetch(`https://api.unsplash.com/search/photos?client_id=${API_KEY_UNSPLASH}&per_page=50&query=${encodeURIComponent(queryString)}&lang=${language}`);\n\n      let Result = await Response.json();\n\n      if(!Result) return null\n\n      if(Result) {\n\n        let images = [];\n\n        Result.results.forEach(image => {\n          images.push({ previewURL: image.urls.thumb, id: image.id, tags: image.description });\n        });\n\n        Result.hits = images;\n\n        return Result;\n      }\n\n      return null;\n\n    } catch(Err) {\n      console.log('analyzeEntitiesUnsplash',Err);\n      return [];\n    }\n\n  }\n\n}\n\n\n// EXPORT -----------------------------------------------------------------------------------------\n\nexport default PixaBayAPI;\n","import React, { useRef, useState, useEffect } from 'react'\nimport CloudNaturalLanguageAPI from './CloudNaturalLanguageAPI';\nimport PixaBayAPI from './PixaBayAPI'\nimport { ArrowCircleLeftIcon, XCircleIcon, PlusCircleIcon, PlayIcon, ViewGridAddIcon, FingerPrintIcon, CursorClickIcon, CameraIcon } from '@heroicons/react/outline'\nimport Resizer from './resizer';\n\nimport { saveAs } from 'file-saver';\n\nimport ReactDOMServer from 'react-dom/server';\nimport * as htmlToImage from 'html-to-image';\n\nimport { useMediaQuery } from 'react-responsive';\n\n//const defaultText = \"La beauté est dans le regard de celui qui regarde.\";\n\n//const defaultText = \"A sign of the return of the beautiful season, this unique exhibition in the country, which showcases the poetry of the shape of the egg, is coming to Quebec for the first time. A dozen emerging and established artists take over the spaces of the mall, giving the public free rein to their imagination.\"\n\nconst defaultText = \"\";\n\n/* const TEXT_ZONE_POSITION_SPACE = \"1\";\nconst TEXT_ZONE_BG = \"rounded-md bg-gray-800 bg-opacity-20\"; */\n\nconst TEXT_ZONE_POSITION_SPACE = \"0\";\nconst TEXT_ZONE_BG_DEFAULT = \"cursor-pointer hover:bg-blue-600 hover:bg-opacity-20 rounded-md text-transparent\"; //rounded-md bg-gray-800 bg-opacity-20\n\n//const TEXT_ZONE_BG = \"cursor-pointer border-2 border-transparent hover:border-blue-600 hover:border-opacity-50 rounded-md\";\n//const TEXT_ZONE_BG = '';\n\n//const DEV_POSITION_ZONES_NUMBERS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50];\nconst DEV_POSITION_ZONES_NUMBERS = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',];\n\nconst DEFAULT_TEXT_MAX_WIDTH = 60;\n\nconst TEXT_ZONE_POSITION_CLASS = {\n\t1: {containerClass: 'items-start justify-start', zoneClass: 'mr-10 mb-10 max-w-60 rounded-br-sm', textClass: 'pt-8 pl-8 pb-4 pr-5', margins: [0, 40, 40, 0], paddings: [32, 20, 16, 32]},\n\t2: {containerClass: 'items-start justify-start', zoneClass: 'mx-10 mb-10 max-w-60 rounded-b-sm', textClass: 'pt-8 pb-3 px-4', margins: [0, 40, 40, 40], paddings: [32, 16, 12, 16]},\n\t3: {containerClass: 'items-start justify-center', zoneClass: 'mx-10 mb-10 max-w-60 rounded-b-sm text-center', textClass: 'pt-8 pb-3 px-4', margins: [0, 40, 40, 40], paddings: [32, 16, 12, 16]},\n\t4: {containerClass: 'items-start justify-end', zoneClass: 'mx-10 mb-10 max-w-60 rounded-b-sm', textClass: 'pt-8 pb-3 px-4', margins: [0, 40, 40, 40], paddings: [32, 16, 12, 16]},\n\t5: {containerClass: 'items-start justify-end', zoneClass: 'ml-10 mb-10 max-w-60 rounded-bl-sm', textClass: 'pt-8 pr-8 pb-4 pl-5', margins: [0, 0, 40, 40], paddings: [32, 32, 16, 20]},\n\t6: {containerClass: 'items-start justify-start', zoneClass: 'my-10 mr-10 max-w-60 rounded-r-sm', textClass: 'pl-8 py-3 pr-4', margins: [60, 40, 40, 0], paddings: [12, 16, 12, 32]},\n\t7: {containerClass: 'items-start justify-start', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [60, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t8: {containerClass: 'items-start justify-center', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm text-center', textClass: 'py-3 px-4', margins: [60, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t9: {containerClass: 'items-start justify-end', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [60, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t10: {containerClass: 'items-start justify-end', zoneClass: 'my-10 ml-10 max-w-60 rounded-l-sm', textClass: 'pr-8 py-3 pl-4', margins: [60, 0, 40, 40], paddings: [12, 32, 12, 16]},\n\t11: {containerClass: 'items-center justify-start', zoneClass: 'my-10 mr-10 max-w-60 rounded-r-sm', textClass: 'pl-8 py-3 pr-4', margins: [40, 40, 40, 0], paddings: [12, 16, 12, 32]},\n\t12: {containerClass: 'items-center justify-start', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [40, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t13: {containerClass: 'items-center justify-center', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm text-center', textClass: 'py-3 px-4', margins: [40, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t14: {containerClass: 'items-center justify-end', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [40, 40, 40, 40], paddings: [12, 16, 12, 16]},\n\t15: {containerClass: 'items-center justify-end', zoneClass: 'my-10 ml-10 max-w-60 rounded-l-sm', textClass: 'pr-8 py-3 pl-4', margins: [40, 0, 40, 40], paddings: [12, 32, 12, 16]},\n\t16: {containerClass: 'items-end justify-start', zoneClass: 'my-10 mr-10 max-w-60 rounded-r-sm', textClass: 'pl-8 py-3 pr-4', margins: [40, 40, 60, 0], paddings: [12, 16, 12, 32]},\n\t17: {containerClass: 'items-end justify-start', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [40, 40, 60, 40], paddings: [12, 16, 12, 16]},\n\t18: {containerClass: 'items-end justify-center', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm text-center', textClass: 'py-3 px-4', margins: [40, 40, 60, 40], paddings: [12, 16, 12, 16]},\n\t19: {containerClass: 'items-end justify-end', zoneClass: 'my-10 mx-10 max-w-60 rounded-sm', textClass: 'py-3 px-4', margins: [40, 40, 60, 40], paddings: [12, 16, 12, 16]},\n\t20: {containerClass: 'items-end justify-end', zoneClass: 'my-10 ml-10 max-w-60 rounded-l-sm', textClass: 'pr-8 py-3 pl-4', margins: [40, 0, 60, 40], paddings: [12, 32, 12, 16]},\n\t21: {containerClass: 'items-end justify-start', zoneClass: 'mr-10 mt-10 max-w-60 rounded-tr-sm', textClass: 'pb-8 pl-8 pt-4 pr-5', margins: [40, 40, 0, 0], paddings: [16, 20, 32, 32]},\n\t22: {containerClass: 'items-end justify-start', zoneClass: 'mx-10 mt-10 max-w-60 rounded-t-sm', textClass: 'pb-8 pt-3 px-4', margins: [40, 40, 0, 40], paddings: [12, 16, 32, 16]},\n\t23: {containerClass: 'items-end justify-center', zoneClass: 'mx-10 mt-10 max-w-60 rounded-t-sm text-center', textClass: 'pb-8 pt-3 px-4', margins: [40, 40, 0, 40], paddings: [12, 16, 32, 16]},\n\t24: {containerClass: 'items-end justify-end', zoneClass: 'mx-10 mt-10 max-w-60 rounded-t-sm', textClass: 'pb-8 pt-3 px-4', margins: [40, 40, 0, 40], paddings: [12, 16, 32, 16]},\n\t25: {containerClass: 'items-end justify-end', zoneClass: 'ml-10 mt-10 max-w-60 rounded-tl-sm', textClass: 'pb-8 pr-8 pt-4 pl-5', margins: [40, 0, 0, 40], paddings: [16, 32, 32, 20]}\n};\n\nconst TEXT_SHADOWS = {\n  black: \"0px 0px 2px rgba(0,0,0,0.70)\",\n  white: \"0 0px 2px rgba(255,255,255,0.50)\",\n};\n\n/* {\n  black: \"0 0px 1px rgba(0,0,0,0.50), 0 0px 15px rgba(0,0,0,0.25)\",\n  white: \"0 0px 2px rgba(255,255,255,0.50), 0 0px 15px rgba(255,255,255,0.25)\",\n}; */\n\nconst TEXT_ZONE_FONT_SIZE = {\n  0: [18.4, 23.2],\n  1: [21.6, 26.4],\n  2: [24.8, 29.6],\n  3: [28, 32.8],\n  4: [31.2, 34.4],\n  5: [34.4, 38.4],\n  6: [37.6, 41.6],\n  7: [40.8, 44.8],\n  8: [44, 48],\n  9: [47.2, 50.4],\n  10: [50.4, 53.6],\n};\n\nconst LibraryMediaContainer = ({ src, alt, onClick, hoverOptions }) => {\n\n  // STATES MANAGEMENT ------------------------------------------------------------------------------\n\n  // DATA STATES\n  const [mediaData, setMediaData] = useState({});\n  const [mediaPreviewUrl, setMediaPreviewUrl] = useState(src);\n\n  // UI LOGIC STATES\n  const [isLoading, setIsLoading] = useState(true);\n  const [isMouseOver, setIsMouseOver] = useState(false);\n\n  const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\n\n  return (<>\n    {isMobile ? \n      <div onClick={onClick} className=\"aspect-w-16 aspect-h-9 cursor-pointer\">\n        {isLoading && <div className=\"flex w-full h-full items-center justify-center\"><LoadingSpinner className=\"h-6 w-6 text-blue-600\" /></div>}\n        <img onLoad={() => setIsLoading(false)} src={mediaPreviewUrl} alt={mediaData.tags} className=\"select-none rounded-sm shadow w-full h-full object-center object-cover\" />\n        {((isMouseOver || isMobile || true) && hoverOptions.length > 0) && <div className=\"flex flex-row items-end justify-end\"><div className=\"p-1 bg-gray-800 bg-opacity-50 rounded-tl-lg rounded-br-sm\">{hoverOptions.map(option => option)}</div></div>}\n      </div>\n    :\n      <div onClick={onClick} onMouseOver={() => setIsMouseOver(true)} onMouseLeave={() => setIsMouseOver(false)} className=\"aspect-w-16 aspect-h-9 cursor-pointer\">\n        {isLoading && <div className=\"flex w-full h-full items-center justify-center\"><LoadingSpinner className=\"h-6 w-6 text-blue-600\" /></div>}\n        <img onLoad={() => setIsLoading(false)} src={mediaPreviewUrl} alt={mediaData.tags} className=\"select-none rounded-sm shadow w-full h-full object-center object-cover\" />\n        {((isMouseOver || isMobile || true) && hoverOptions.length > 0) && <div className=\"flex flex-row items-end justify-end\"><div className=\"p-1 bg-gray-800 bg-opacity-50 rounded-tl-lg rounded-tl-lg rounded-br-sm\">{hoverOptions.map(option => option)}</div></div>}\n      </div>\n    }\n  </>);\n}\n\nconst LoadingSpinner = ({ className }) => {\n  return (\n    <svg className={`animate-spin ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n    </svg>\n  );\n}\n\nconst CreationTool = ({ isHidden }) => {\n  const [text, setText] = useState(defaultText);\n  const [textMaxWidth, setTextMaxWidth] = useState(DEFAULT_TEXT_MAX_WIDTH);\n  const [searchQueryWords, setSearchQueryWords] = useState([]);\n  const [images, setImages] = useState([]);\n  const [imagesToDisplay, setImagesToDisplay] = useState([]);\n  const [language, setLanguage] = useState(\"fr\");\n  const [pixaBayData, setPixaBayData] = useState({});\n  const [thumbBgImage, setThumbBgImage] = useState(\"\");\n  const [thumbText, setThumbText] = useState(\"\");\n  const [thumbTemplate, setThumbTemplate] = useState(4);\n\n  const [playingPreview, setPlayingPreview] = useState(true);\n\n  const [thumbPreviewWidth, setThumbPreviewWidth] = useState(0);\n  const [thumbPreviewTextClass, setThumbPreviewTextClass] = useState({});\n  const [thumbTextClass, setThumbTextClass] = useState(TEXT_ZONE_POSITION_CLASS[13]);\n\n  const [thumbTextZoneAllowPreview, setThumbTextZoneAllowPreview] = useState(true);\n\n  const [costumSearchTags, setCustomSearchTags] = useState([]);\n  const [selectedSearchTags, setSelectedSearchTags] = useState([]);\n  const [searchData, setSearchData] = useState({});\n\n  const [TEXT_ZONE_BG, setTextZoneBg] = useState(TEXT_ZONE_BG_DEFAULT);\n\n  const [thumbFontSize, setThumbFontSize] = useState(4);\n\n  const thumbPreview = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingThumbImage, setIsLoadingThumbImage] = useState(false);\n  const [isThumbCreated, setIsThumbCreated] = useState(false);\n  const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\n\n  const NB_IMAGE_TO_DISPLAY = isMobile ? 21 : 20;\n\n  const analyzeEntities = (text) => {\n    CloudNaturalLanguageAPI.analyzeEntities(text).then((Result)=>{\n      console.log('analyzeEntities', Result);\n\n      setIsLoading(false);\n\n      if (Result.entities.length > 0) {\n\n        let wordsArray = [];\n        let searchWords = [];\n\n        setLanguage(Result.language);\n\n        Result.entities.forEach((words, index) => {\n\n          let word = {};\n\n          word.considered = false;\n          word.text = words.name.toLowerCase();\n          word.salience = words.salience;\n          word.searched = false;\n          word.addedSearch = false;\n\n          if (words.salience >= 0.07 && wordsArray.findIndex(word => word.text.toUpperCase() === words.name.toUpperCase()) == -1) {\n            word.considered = true;\n\n            if (((index > 0 && words.salience >= 0.50) || index < 1)) {\n              searchWords.push(words.name.toLowerCase());\n              word.searched = true;\n            }\n          }\n\n          wordsArray.push(word);\n        });\n\n        let filteredWordsArray = wordsArray.filter(word => word.considered);\n\n        /* setSearchQueryWords(filteredWordsArray); */\n\n        getCorrespondingImages(searchWords, Result.language);\n        setSelectedSearchTags([]);\n        setPlayingPreview(true);\n\n        searchPixaBayData(filteredWordsArray, Result.language, filteredWordsArray, searchWords);\n\n        console.log('wordsArray', wordsArray);\n\n      } else {\n        getCorrespondingImages([], Result.language);\n        setSelectedSearchTags([]);\n        setSearchQueryWords([]);\n        setPlayingPreview(true);\n      }\n\n      setIsLoading(false);\n\n    }).catch((Err)=>{\n      console.log('Saving API errors', Err);\n      setIsLoading(false);\n    });\n  }\n\n  const getCorrespondingImages = (words, lang) => {\n    PixaBayAPI.getCorrespondingImages(words, lang).then((Result)=>{\n      console.log('getCorrespondingImages', Result);\n\n      setImages(Result.hits);\n\n      let newImagesToDisplay = [...Result.hits];\n\n      setImagesToDisplay(newImagesToDisplay.splice(0, NB_IMAGE_TO_DISPLAY))\n\n      setIsLoading(false);\n\n      let customTags = getCustomTags(Result.hits, words);\n      setCustomSearchTags(customTags);\n\n    }).catch((Err)=>{\n      console.log('Saving API errors', Err);\n      setIsLoading(false);\n    });\n\n    /* PixaBayAPI.getCorrespondingImagesUnsplash(words, lang).then((Result)=>{\n      console.log('getCorrespondingImagesUnsplash', Result);\n\n      setImages(Result.hits);\n\n      setIsLoading(false);\n\n    }).catch((Err)=>{\n      console.log('getCorrespondingImagesUnsplash', Err);\n      setIsLoading(false);\n    }); */\n  }\n\n  const getCustomTags = (imagesFound, searchedWords) => {\n    let importantTags = {};\n\n    let importantTagsArr = [];\n\n    let wordExistInTags = false;\n\n    imagesFound.forEach(image => {\n      image.tags.split(\", \").forEach(tag => {\n        tag = tag.toLowerCase();\n        if (!importantTags[tag]) {\n          importantTags[tag] = 1;\n        } else {\n          importantTags[tag] += 1;\n        }\n      });\n    });\n\n    const objectArray = Object.entries(importantTags);\n\n    objectArray.forEach(([key, value]) => {\n      let confidence = value / imagesFound.length * 100;\n\n      if (/* confidence >= POURC_OF_CONFIDENCE */ value >= 3) {\n        if (!searchedWords.includes(key)) {\n          importantTagsArr.push({ word: key, confidence: confidence, nbImages: value });\n        }\n      }\n    });\n\n    console.log('getCustomTags', importantTagsArr);\n\n    setSelectedSearchTags([]);\n\n    return importantTagsArr;\n  }\n\n  const searchPixaBayData = (words, lang, newSearchWords, searchWords) => {\n\n    let promises = [];\n\n    const NB_TAG_OCCURENCE = 7;\n    const NB_IMAGE_TO_ANALIZE = 200;\n    const POURC_OF_CONFIDENCE = 0.5;\n\n    words.forEach(word => {\n      promises.push(PixaBayAPI.getCorrespondingImages([word.text], lang, NB_IMAGE_TO_ANALIZE).then((Result)=>{\n\n        let importantTags = {};\n\n        let importantTagsArr = [];\n\n        let wordExistInTags = false;\n\n        if (Result.hits) {\n          Result.hits.forEach(image => {\n            image.tags.split(\", \").forEach(tag => {\n              tag = tag.toLowerCase();\n              if (!importantTags[tag]) {\n                importantTags[tag] = 1;\n              } else {\n                importantTags[tag] += 1;\n              }\n            });\n          });\n  \n          const objectArray = Object.entries(importantTags);\n  \n          objectArray.forEach(([key, value]) => {\n            let confidence = value / Result.hits.length * 100;\n  \n            if (/* confidence >= POURC_OF_CONFIDENCE */ value >= NB_TAG_OCCURENCE) {\n              if (word.text.toLowerCase() === key) {\n                wordExistInTags = true;\n              }\n              importantTagsArr.push({ word: key, confidence: confidence, nbImages: value });\n            }\n          });\n  \n          return { word: word.text, tags: importantTagsArr, result: Result.hits, total: Result.total, totalHits: Result.totalHits, wordExistInTags: wordExistInTags };\n        } else {\n          return { word: word.text, tags: importantTagsArr, result: [], total: 0, totalHits: 0, wordExistInTags: false };;\n        }\n        \n      }).catch((Err)=>{\n        console.log('Saving API errors', Err);\n      }));\n    });\n\n    Promise.all(promises).then(pixaBayDatas => {\n      console.log(pixaBayDatas);\n\n      let filteredWordsToRemoveArray = pixaBayDatas.filter(word => word ? !word.wordExistInTags : true);\n\n      let tagSearchData = {};\n\n      let oneTagSearched = false;\n\n      pixaBayDatas.forEach(wordSearched => {\n        if (/* !wordSearched.wordExistInTags ||  */wordSearched.result.length < 10) {\n          newSearchWords.splice(newSearchWords.findIndex(word => word.text === wordSearched.word),1);\n        }\n        tagSearchData[wordSearched.word] = wordSearched.tags;\n      });\n\n      if (newSearchWords.length > 0) {\n        newSearchWords[0].searched = true;\n        getCorrespondingImages([newSearchWords[0].text], lang);\n      }\n\n      setSearchQueryWords(newSearchWords);\n\n      if (newSearchWords.length === 0) {\n        getCorrespondingImages([], lang);\n      }\n\n      setSearchData(tagSearchData);\n\n      /* if (searchWords.length === 1) {\n        setCustomSearchTags(tagSearchData[searchWords[0]]);\n      } else {\n        setCustomSearchTags([]);\n      } */\n\n    }).catch(reason => {\n      console.log(reason)\n    });\n    \n  }\n\n  const handleCreateThumb = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setIsThumbCreated(true);\n    analyzeEntities(text);\n    setThumbText(text);\n    /* setThumbBgImage(\"\"); */\n  }\n\n  const handleChange = (e) => {\n    const { target } = e;\n    const { value } = target;\n    e.persist();\n\n    setText(value);\n  };\n\n  const handleChangeQueryWords = (e, index) => {\n    e.preventDefault();\n    const { target } = e;\n    /* const { value } = target; */\n\n    let wordsArray = [...searchQueryWords];\n\n    let searchWords = [];\n\n    if (wordsArray[index].addedSearch) {\n      wordsArray[index].addedSearch = false;\n    } else if (wordsArray[index].searched) {\n      wordsArray.forEach(word => {\n        word.addedSearch = false;\n      });\n    } else {\n      let currentSearchWordIndex = wordsArray.findIndex(word => word.searched);\n\n      wordsArray[currentSearchWordIndex].searched = false;\n\n      wordsArray[index].searched = true;\n\n      wordsArray.forEach(word => {\n        word.addedSearch = false;\n      });\n    }\n\n    wordsArray.sort((a, b) => {\n      if ( (a.searched ? 1 : a.addedSearch ? 2 : 3) < (b.searched ? 1 : b.addedSearch ? 2 : 3) ){\n        return -1;\n      }\n      if ( (a.searched ? 1 : a.addedSearch ? 2 : 3) > (b.searched ? 1 : b.addedSearch ? 2 : 3) ){\n        return 1;\n      }\n      return 0;\n    });\n    \n\n    setSearchQueryWords(wordsArray);\n\n    wordsArray.forEach(word => {\n      if (word.searched || word.addedSearch) {\n        searchWords.push(word.text);\n      }\n    });\n\n    /* if (searchWords.length === 1) {\n      setCustomSearchTags(searchData[searchWords[0]]);\n    } else {\n      setCustomSearchTags([]);\n    } */\n\n    PixaBayAPI.getCorrespondingImages(searchWords, language).then((Result)=>{\n\n      console.log('getCorrespondingImages', Result);\n\n      setImages(Result.hits);\n      let newImagesToDisplay = [...Result.hits];\n      setImagesToDisplay(newImagesToDisplay.splice(0, NB_IMAGE_TO_DISPLAY))\n      setIsLoading(false);\n      let customTags = getCustomTags(Result.hits, searchWords);\n      setCustomSearchTags(customTags);\n    }).catch((Err)=>{\n      console.log('Saving API errors', Err);\n      setIsLoading(false);\n    });\n\n    /* PixaBayAPI.getCorrespondingImagesUnsplash(searchWords, language).then((Result)=>{\n\n      console.log('getCorrespondingImagesUnsplash', Result);\n\n      setImages(Result.hits);\n      setIsLoading(false);\n    }).catch((Err)=>{\n      console.log('Saving API errors', Err);\n      setIsLoading(false);\n    }); */\n  };\n\n  const handleChangeAddSearchQueryWord = (e, index) => {\n    e.preventDefault();\n    const { target } = e;\n\n    let wordsArray = [...searchQueryWords];\n\n    let searchWords = [];\n\n    wordsArray[index].addedSearch = !wordsArray[index].addedSearch;\n    \n\n    wordsArray.sort((a, b) => {\n      if ( (a.searched ? 1 : a.addedSearch ? 2 : 3) < (b.searched ? 1 : b.addedSearch ? 2 : 3) ){\n        return -1;\n      }\n      if ( (a.searched ? 1 : a.addedSearch ? 2 : 3) > (b.searched ? 1 : b.addedSearch ? 2 : 3) ){\n        return 1;\n      }\n      return 0;\n    });\n    \n\n    setSearchQueryWords(wordsArray);\n\n    wordsArray.forEach(word => {\n      if (word.searched || word.addedSearch) {\n        searchWords.push(word.text);\n      }\n    });\n\n    /* if (searchWords.length === 1) {\n      setCustomSearchTags(searchData[searchWords[0]]);\n    } else {\n      setCustomSearchTags([]);\n    } */\n\n    PixaBayAPI.getCorrespondingImages(searchWords, language).then((Result)=>{\n\n      console.log('getCorrespondingImages', Result);\n\n      setImages(Result.hits);\n      let newImagesToDisplay = [...Result.hits];\n      setImagesToDisplay(newImagesToDisplay.splice(0, NB_IMAGE_TO_DISPLAY))\n      setIsLoading(false);\n      let customTags = getCustomTags(Result.hits, searchWords);\n      setCustomSearchTags(customTags);\n    }).catch((Err)=>{\n      console.log('Saving API errors', Err);\n      setIsLoading(false);\n    });\n  }\n\n  const handleChangeSelectedSearchTags = (e, index) => {\n    e.preventDefault();\n    const { target } = e;\n\n    let newSelectedSearchTags = [...selectedSearchTags];\n\n    let selectedTag = costumSearchTags[index].word;\n\n    if (newSelectedSearchTags.includes(selectedTag)) {\n      newSelectedSearchTags.splice(newSelectedSearchTags.findIndex(tag => tag === selectedTag),1);\n    } else {\n      newSelectedSearchTags.push(selectedTag);\n    }\n\n    setSelectedSearchTags(newSelectedSearchTags);\n\n    let newImagesToDisplay = [...images];\n\n    if (newSelectedSearchTags.length > 0) {\n      newImagesToDisplay = newImagesToDisplay.filter(image => {\n        let match = false;\n        newSelectedSearchTags.forEach(tag => {\n          if (!match) {\n            match = image.tags.includes(tag);\n          }\n        })\n\n        return match;\n      });\n\n      if (newImagesToDisplay.length > 0) {\n        if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n          newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n        }\n        setImagesToDisplay(newImagesToDisplay);\n      }\n    } else {\n      if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n        newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n      }\n      setImagesToDisplay(newImagesToDisplay);\n    }\n    \n  };\n\n  const handleChangeAutoSelectedSearchTags = (e, index) => {\n    e.preventDefault();\n    const { target } = e;\n\n    let newSelectedSearchTags = [...selectedSearchTags].splice(0, index + 1);\n\n    setSelectedSearchTags(newSelectedSearchTags);\n\n    let newImagesToDisplay = [...images];\n    let indexSelectedSearchTag = newSelectedSearchTags.length - 1;\n\n    if (newSelectedSearchTags.length > 0) {\n      newImagesToDisplay = newImagesToDisplay.filter(image => {\n        let match = false;\n        if (!match) {\n          match = image.tags.includes(newSelectedSearchTags[indexSelectedSearchTag]);\n        }\n\n        return match;\n      });\n\n      if (newImagesToDisplay.length > 0) {\n        if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n          newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n        }\n        setImagesToDisplay(newImagesToDisplay);\n      }\n    } else {\n      if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n        newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n      }\n      setImagesToDisplay(newImagesToDisplay);\n    }\n    \n  };\n\n  const scrollToRef = (ref) => ref.current.scrollIntoView({behavior: 'smooth'}); /* window.scrollTo(0, ref.current.offsetTop) */\n\n  useEffect(() => {\n      scrollToRef(thumbPreview);\n  }, [thumbBgImage]);\n\n  const handleChangeThumbBgImage = (e, index) => {\n    e.preventDefault();\n    const { target } = e;\n\n    /* if (!playingPreview && thumbBgImage !== \"\") {\n      setPlayingPreview(true);\n    } */\n\n    if (thumbBgImage !== imagesToDisplay[index].fullHDURL) {\n      setIsLoadingThumbImage(true);\n    }\n    \n    setThumbBgImage(imagesToDisplay[index].fullHDURL);\n  };\n\n  const handleShowSimilarImages = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let tagToSelect = \"\";\n    let nbImagesForTag = 0;\n    let currentSelectedSearchTag = selectedSearchTags.length > 0 ? selectedSearchTags[selectedSearchTags.length - 1] : \"\";\n\n    imagesToDisplay[index].tags.split(\", \").forEach(tag => {\n      let tagFound = costumSearchTags.find(costumTag => costumTag.word === tag);\n\n      if (tagFound && tagFound.nbImages > nbImagesForTag && currentSelectedSearchTag !== tag && !selectedSearchTags.includes(tag)) {\n        tagToSelect = tagFound.word;\n        nbImagesForTag = tagFound.nbImages;\n      }\n    })\n\n    if (tagToSelect !== \"\") {\n      let newSelectedSearchTags = [...selectedSearchTags]; //.splice(0, selectedSearchTags.length - 1);\n\n      /* let tagExistIdx = newSelectedSearchTags.findIndex(tag => tag === tagToSelect);\n\n      if (tagExistIdx > -1) {\n        newSelectedSearchTags.splice(tagExistIdx, 1);\n      } */\n\n      newSelectedSearchTags.push(tagToSelect);\n      setSelectedSearchTags(newSelectedSearchTags);\n\n      let newImagesToDisplay = [...images];\n\n      let indexSelectedSearchTag = newSelectedSearchTags.length - 1;\n\n      if (newSelectedSearchTags.length > 0) {\n        newImagesToDisplay = newImagesToDisplay.filter(image => {\n          let match = false;\n          if (!match) {\n            match = image.tags.includes(newSelectedSearchTags[indexSelectedSearchTag]);\n          }\n\n          return match;\n        });\n\n        if (newImagesToDisplay.length > 0) {\n          if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n            newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n          }\n          setImagesToDisplay(newImagesToDisplay);\n        }\n      } else {\n        if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n          newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n        }\n        setImagesToDisplay(newImagesToDisplay);\n      }\n    }\n  }\n\n  const checkAsSimilarImages = (index) => {\n\n    let currentSelectedSearchTag = selectedSearchTags.length > 0 ? selectedSearchTags[selectedSearchTags.length - 1] : \"\";\n\n    let asSimilarImages = false;\n\n    imagesToDisplay[index].tags.split(\", \").forEach(tag => {\n      let tagFound = costumSearchTags.find(costumTag => costumTag.word === tag);\n\n      if (tagFound && currentSelectedSearchTag !== tag && !selectedSearchTags.includes(tag)) {\n        asSimilarImages = true;\n      }\n    })\n\n    return asSimilarImages;\n  }\n\n  const handleChangeThumbTemplate = (e, template) => {\n    e.preventDefault();\n    const { target } = e;\n\n    setThumbTemplate(template);\n  }\n\n  const handleChangeThumbFontSize = (e, fontSize) => {\n    e.preventDefault();\n    const { target } = e;\n\n    setThumbFontSize(fontSize);\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      setIsLoading(true);\n      setIsThumbCreated(true);\n      analyzeEntities(text);\n      setThumbText(text);\n      setThumbBgImage(\"\");\n    }\n  }\n\n  const handlePreviousSelectedSearchTag = (e) => {\n    e.preventDefault();\n    const { target } = e;\n\n    let newSelectedSearchTags = [...selectedSearchTags].splice(0, selectedSearchTags.length - 1);\n\n    setSelectedSearchTags(newSelectedSearchTags);\n\n    let newImagesToDisplay = [...images];\n    let indexSelectedSearchTag = newSelectedSearchTags.length - 1;\n\n    if (newSelectedSearchTags.length > 0) {\n      newImagesToDisplay = newImagesToDisplay.filter(image => {\n        let match = false;\n        if (!match) {\n          match = image.tags.includes(newSelectedSearchTags[indexSelectedSearchTag]);\n        }\n\n        return match;\n      });\n\n      if (newImagesToDisplay.length > 0) {\n        if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n          newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n        }\n        setImagesToDisplay(newImagesToDisplay);\n      }\n    } else {\n      if (newImagesToDisplay.length > NB_IMAGE_TO_DISPLAY) {\n        newImagesToDisplay = newImagesToDisplay.splice(0,NB_IMAGE_TO_DISPLAY);\n      }\n      setImagesToDisplay(newImagesToDisplay);\n    }\n  }\n\n  const handleOverTextZonePosition = (e, positionNo) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { target } = e;\n\n    if (thumbTextZoneAllowPreview) {\n      setThumbPreviewTextClass(TEXT_ZONE_POSITION_CLASS[positionNo]);\n    }\n    \n  }\n\n  const handleOutTextZonePosition = (e) => {\n    e.preventDefault();\n    const { target } = e;\n\n    setThumbPreviewTextClass({});\n    setThumbTextZoneAllowPreview(true);\n    setTextZoneBg(TEXT_ZONE_BG_DEFAULT);\n  }\n\n  const handleClickTextZonePosition = (e, positionNo) => {\n    e.preventDefault();\n    const { target } = e;\n\n    let newThumbTextClass = {};\n\n    if (thumbTextZoneAllowPreview || isMobile) {\n      newThumbTextClass = {...thumbPreviewTextClass};\n      setThumbTextClass(TEXT_ZONE_POSITION_CLASS[positionNo]);\n      setThumbPreviewTextClass({});\n      setThumbTextZoneAllowPreview(false);\n      \n      setTextZoneBg(\"text-transparent\");\n    } else {\n      newThumbTextClass = {...thumbPreviewTextClass};\n      setThumbTextZoneAllowPreview(true);\n      setTextZoneBg(TEXT_ZONE_BG_DEFAULT);\n      setThumbPreviewTextClass(TEXT_ZONE_POSITION_CLASS[positionNo]);\n    }\n    \n  }\n\n  const handlePlayingPreview = (e, play) => {\n    e.preventDefault();\n    const { target } = e;\n\n    setPlayingPreview(play);\n  }\n\n  const handleSelectAllText = (e) => {\n    const { target } = e;\n    if (thumbText !== '') {\n      target.select();\n    }\n    \n  }\n\n  useEffect(() => {\n    setThumbPreviewWidth(thumbPreview.current.offsetWidth);\n  }, [thumbPreview]);\n\n  const getComputedPixelSize = (pixel) => {\n    let computedPixelSize = 0;\n    let currentThuumbPreviewWidth = thumbPreviewWidth;\n\n    if (thumbPreviewWidth === 0) {\n      currentThuumbPreviewWidth = thumbPreview.current.offsetWidth;\n      setThumbPreviewWidth(currentThuumbPreviewWidth);\n    }\n\n    computedPixelSize = currentThuumbPreviewWidth / 672 * pixel;\n\n    return computedPixelSize;\n  }\n\n  const getComputedPixelSizeSpec = (pixel, size) => {\n    let computedPixelSize = 0;\n    let currentThuumbPreviewWidth = size;\n\n    computedPixelSize = currentThuumbPreviewWidth / 672 * pixel;\n\n    return computedPixelSize;\n  }\n\n  /* const handleResize = (movementX, movementY) => {\n\n    let currentMaxWidth = {...textMaxWidth};\n\n    setTextMaxWidth(currentMaxWidth + movementX);\n\n    console.log(handleResize, movementX);\n  }; */\n\n  const handleSaveAsImage = async () => {\n\n    let container = document.createElement(\"div\");\n    container.classList.add(\"overflow-hidden\");\n    container.classList.add(\"fixed\");\n\n    let preview = document.createElement(\"div\");\n\n    let html = renderScreenShot()\n\n    preview.innerHTML = ReactDOMServer.renderToStaticMarkup(html);\n\n    document.body.appendChild(container);\n\n    container.appendChild(preview);\n\n    /* htmlToImage.toPng(preview)\n    .then(function (dataUrl) {\n\n        let link = document.createElement(\"a\");\n        link.download = \"thumb.png\";\n        link.href = dataUrl;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n\n        document.body.removeChild(container);\n    })\n    .catch(function (error) {\n        console.error('oops, something went wrong!', error);\n    }); */\n\n    let blob = await htmlToImage.toBlob(preview);\n\n    saveAs(blob, \"thumb.png\");\n    document.body.removeChild(container);\n\n  }\n\n    const renderScreenShot = () => {\n        return <div className=\"aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden\" style={{ width: \"1920px\", height: \"1080px\" }} ref={thumbPreview}>\n                <div className=\"overflow-hidden\"><img src={thumbBgImage} alt=\"ThumbBg\" className={`select-none w-full h-full object-center object-cover`} /></div>\n\n                {thumbPreview && thumbTextClass.containerClass && !thumbPreviewTextClass.containerClass && <div className={`pointer-events-none flex w-full h-full ${thumbTextClass.containerClass} ${thumbTemplate === 3 && 'bg-gray-900 bg-opacity-15'} ${thumbTemplate === 6 && 'bg-gray-50 bg-opacity-20'}`}>\n                  <div className={`min-w-min pointer-events-none ${thumbTextClass.zoneClass.replaceAll(\"sm\", \"md\")} ${thumbTemplate === 1 && 'bg-gray-900 bg-opacity-50'} ${thumbTemplate === 4 && 'bg-gray-50 bg-opacity-70'}`} style={{maxWidth: `${textMaxWidth}%`, \n                  margin: `${getComputedPixelSizeSpec(thumbTextClass.margins[0], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.margins[1], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.margins[2], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.margins[3], 1920)}px`}}>\n                    <div className={`select-none pointer-events-none font-medium ${thumbTextClass.textClass} ${thumbTemplate >= 4 ? 'text-gray-900' : 'text-white'}`} style={thumbTemplate >= 4 ? {\"textShadow\": TEXT_SHADOWS.white, \n                    padding: `${getComputedPixelSizeSpec(thumbTextClass.paddings[0], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[1], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[2], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[3], 1920)}px`,\n                    fontSize: `${getComputedPixelSizeSpec(TEXT_ZONE_FONT_SIZE[thumbFontSize][0], 1920)}px`,\n                    lineHeight: `${getComputedPixelSizeSpec(TEXT_ZONE_FONT_SIZE[thumbFontSize][1], 1920)}px`\n                    } \n                    : \n                    {\"textShadow\": TEXT_SHADOWS.black, \n                    padding: `${getComputedPixelSizeSpec(thumbTextClass.paddings[0], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[1], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[2], 1920)}px ${getComputedPixelSizeSpec(thumbTextClass.paddings[3], 1920)}px`,\n                    fontSize: `${getComputedPixelSizeSpec(TEXT_ZONE_FONT_SIZE[thumbFontSize][0], 1920)}px`,\n                    lineHeight: `${getComputedPixelSizeSpec(TEXT_ZONE_FONT_SIZE[thumbFontSize][1], 1920)}px`\n                    }}>{thumbText}</div>\n                  </div>\n                </div>}\n\n          {/* {thumbPreview && thumbTextClass.containerClass && !thumbPreviewTextClass.containerClass && <div className={`pointer-events-none flex w-full h-full ${thumbTextClass.containerClass} ${thumbTemplate === 3 && 'bg-gray-900 bg-opacity-15'} ${thumbTemplate === 6 && 'bg-gray-50 bg-opacity-20'}`} style={{ transform: `scale(${1920 / thumbPreviewWidth}, ${1920 / thumbPreviewWidth})`}}> \n            <div className={`min-w-min pointer-events-none ${thumbTextClass.zoneClass} ${thumbTemplate === 1 && 'bg-gray-900 bg-opacity-50'} ${thumbTemplate === 4 && 'bg-gray-50 bg-opacity-70'}`} style={{maxWidth: `${textMaxWidth}%`, \n            margin: `${getComputedPixelSize(thumbTextClass.margins[0])}px ${getComputedPixelSize(thumbTextClass.margins[1])}px ${getComputedPixelSize(thumbTextClass.margins[2])}px ${getComputedPixelSize(thumbTextClass.margins[3])}px`}}>\n              <div className={`select-none pointer-events-none font-medium ${thumbTextClass.textClass} ${thumbTemplate >= 4 ? 'text-gray-900' : 'text-white'}`} style={thumbTemplate >= 4 ? {\"textShadow\": TEXT_SHADOWS.white, \n              padding: `${getComputedPixelSize(thumbTextClass.paddings[0])}px ${getComputedPixelSize(thumbTextClass.paddings[1])}px ${getComputedPixelSize(thumbTextClass.paddings[2])}px ${getComputedPixelSize(thumbTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              } \n              : \n              {\"textShadow\": TEXT_SHADOWS.black, \n              padding: `${getComputedPixelSize(thumbTextClass.paddings[0])}px ${getComputedPixelSize(thumbTextClass.paddings[1])}px ${getComputedPixelSize(thumbTextClass.paddings[2])}px ${getComputedPixelSize(thumbTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              }}>{thumbText}</div>\n            </div>\n          </div>} */}\n\n        </div>\n    }\n\n  return (\n    <div className={`min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-50 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-8 lg:space-y-0 lg:space-x-40 ${isHidden ? 'hidden' : 'flex'}`}>\n      <div className=\"lg:max-w-2xl w-full space-y-3\">\n        <div className=\"flex flex-col items-start justify-start\">\n          <h2 className=\"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none\">Création simplifiée</h2>\n        </div>\n        <div className=\"flex flex-col items-center justify-center space-y-4 w-full\">\n          <div className=\"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md w-full\">\n            <div className=\"w-full\">\n              <label htmlFor=\"texte\" className=\"sr-only\">\n                Écrivez le texte qui s'affichera dans la vignette\n              </label>\n              <textarea\n                id=\"texte\"\n                onChange={handleChange}\n                value={text}\n                name=\"texte\"\n                type=\"textarea\"\n                onClick={handleSelectAllText}\n                required\n                className=\"resize-none select-all appearance-none rounded-none relative block w-full h-20 max-h-20 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Écrivez le texte qui s'affichera dans la vignette\"\n                onKeyDown={handleKeyDown}\n              />\n            </div>\n            <div onClick={handleCreateThumb} className=\"rounded-md select-none font-medium py-1 px-2 text-center text-sm text-white shadow align-middle bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500 flex items-center justify-center\">\n              {isLoading ? <LoadingSpinner className=\"h-5 w-5 text-white\" /> : 'GO'}\n            </div>\n          </div>\n          \n        </div>\n        {isThumbCreated ? <>\n\n        {(selectedSearchTags.length > 0 || searchQueryWords.length > 0) && <div className=\"flex flex-col flex-wrap item-center justify-start align-middle bg-gray-100 py-1 px-2 rounded-md w-full\">\n          <div className=\"flex flex-row flex-wrap item-center justify-start align-middle\">\n            {searchQueryWords.length > 0 && searchQueryWords.map((word, index) => {\n              return <div key={word.text + '-words'} className={`flex flex-row flex-wrap item-center justify-start align-middle rounded-full my-1 ${(word.searched || word.addedSearch) && searchQueryWords[index + 1] && (!searchQueryWords[index + 1].addedSearch) ? 'mr-8' : (word.searched || word.addedSearch) ? 'mr-px' : 'mr-1 ml-1' }`}>\n                {(!word.searched && !(word.addedSearch && !word.searched)) && <div onClick={event => handleChangeAddSearchQueryWord(event, index)}  className={\"rounded-full mx-0.5 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer border-2 text-blue-600 hover:text-blue-500 border-gray-100\"}>\n                  <PlusCircleIcon className=\"lg:h-5 lg:w-5 h-6 w-6\"/>\n                </div>}\n                <div onClick={event => handleChangeQueryWords(event, index)} className={`${word.searched && searchQueryWords[index + 1] && (searchQueryWords[index + 1].addedSearch) ? 'rounded-l-full' : word.addedSearch && searchQueryWords[index + 1] && (searchQueryWords[index + 1].addedSearch) ? '' : word.addedSearch ? 'rounded-r-full' : 'rounded-full' } py-0.5 px-2 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer border-2 select-none ` + \n                  (word.searched ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : (word.addedSearch && !word.searched) ? \"text-white bg-blue-500 hover:bg-blue-400 cursor-pointer border-2 border-blue-500 hover:border-blue-400\" : \"text-gray-900 bg-gray-300 hover:bg-gray-200 border-gray-300 hover:border-gray-200 rounded-r-full\")}>\n                  {word.text} {word.addedSearch && <XCircleIcon className=\"ml-2 h-4 w-4\"/>}\n                </div>\n              </div>\n            })}\n          </div>\n          <div className=\"flex flex-row flex-wrap item-center justify-start align-middle\">\n            {selectedSearchTags.length > 0 && <div onClick={handlePreviousSelectedSearchTag} className=\"flex flex-row flex-wrap item-center justify-start align-middle m-1 cursor-pointer\"><ArrowCircleLeftIcon className=\"lg:h-5 lg:w-5 h-6 w-6 text-blue-500\"/></div>}\n            {selectedSearchTags.map((tag, index) => {\n                return <div onClick={event => handleChangeAutoSelectedSearchTags(event, index)} value={index} key={tag + '-selectedSearchTags'} className={\"select-none rounded-md ml-1 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer \" + \n                (selectedSearchTags.length - 1 === index ? \"text-blue-500 cursor-pointer\" : \"text-gray-500 cursor-pointer\")}>\n                  {tag} {selectedSearchTags.length - 1 !== index && '/'}\n                </div>\n              })}\n          </div>\n        </div>}\n\n        {isThumbCreated && imagesToDisplay.length > 0 && !isLoading && <div className=\"flex flex-row w-full mt-1 items-center justify-center\">{isMobile ? <FingerPrintIcon className=\"h-4 w-4 text-green-500 mr-1\" /> : <CursorClickIcon className=\"h-4 w-4 text-green-500 mr-1\" />}<div className=\"select-none text-green-500 text-xs text-center\">Sélectionnez une image ci-dessous</div></div>}\n\n        <div className=\"container grid grid-cols-3 gap-1 lg:grid-cols-4 lg:gap-2 mx-auto\">\n          {imagesToDisplay.map((image, index) => {\n            return <LibraryMediaContainer key={image.id} alt={image.tags} onClick={event => handleChangeThumbBgImage(event, index)} src={image.previewURL} hoverOptions={checkAsSimilarImages(index) ? [<ViewGridAddIcon onClick={event => handleShowSimilarImages(event, index)} className=\"h-4 w-4 lg:h-5 lg:w-5 text-white hover:text-opacity-75\" />] : []} />\n          })}\n        </div></> : <></>}\n      </div>\n      <div className=\"lg:max-w-2xl w-full\" ref={thumbPreview}>\n        {isThumbCreated && thumbBgImage !== \"\" && <>\n        <div className=\"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md shadow overflow-hidden\">\n          {thumbBgImage !== \"\" && <div className=\"overflow-hidden\"><img src={thumbBgImage} alt=\"ThumbBg\" onLoad={event => {handlePlayingPreview(event, true); setIsLoadingThumbImage(false)}} onAnimationStart={event => handlePlayingPreview(event, true)} onAnimationEnd={event => handlePlayingPreview(event, false)} className={`${playingPreview ? 'zoom-in-zoom-out' : 'zoom-ended'} select-none rounded-md w-full h-full object-center object-cover`} /></div>}\n\n          <div className={`flex flex-col w-full h-full p-${TEXT_ZONE_POSITION_SPACE} space-y-${TEXT_ZONE_POSITION_SPACE}`} onMouseLeave={event => handleOutTextZonePosition(event)}>\n            {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex flex-auto flex-row space-x-${TEXT_ZONE_POSITION_SPACE}`}>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 1)} onMouseOver={event => handleOverTextZonePosition(event, 1)}>{DEV_POSITION_ZONES_NUMBERS[5]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 2)} onMouseOver={event => handleOverTextZonePosition(event, 2)}>{DEV_POSITION_ZONES_NUMBERS[6]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 3)} onMouseOver={event => handleOverTextZonePosition(event, 3)}>{DEV_POSITION_ZONES_NUMBERS[7]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 4)} onMouseOver={event => handleOverTextZonePosition(event, 4)}>{DEV_POSITION_ZONES_NUMBERS[8]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 5)} onMouseOver={event => handleOverTextZonePosition(event, 5)}>{DEV_POSITION_ZONES_NUMBERS[9]}</div>\n            </div>}\n            <div className={`flex flex-auto flex-row space-x-${TEXT_ZONE_POSITION_SPACE}`}>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 6)} onMouseOver={event => handleOverTextZonePosition(event, 6)}>{DEV_POSITION_ZONES_NUMBERS[33]}</div>}\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 7)} onMouseOver={event => handleOverTextZonePosition(event, 7)}>{DEV_POSITION_ZONES_NUMBERS[34]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 8)} onMouseOver={event => handleOverTextZonePosition(event, 8)}>{DEV_POSITION_ZONES_NUMBERS[35]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 9)} onMouseOver={event => handleOverTextZonePosition(event, 9)}>{DEV_POSITION_ZONES_NUMBERS[36]}</div>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 10)} onMouseOver={event => handleOverTextZonePosition(event, 10)}>{DEV_POSITION_ZONES_NUMBERS[37]}</div>}\n            </div>\n            <div className={`flex flex-auto flex-row space-x-${TEXT_ZONE_POSITION_SPACE}`}>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 11)} onMouseOver={event => handleOverTextZonePosition(event, 11)}>{DEV_POSITION_ZONES_NUMBERS[33]}</div>}\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 12)} onMouseOver={event => handleOverTextZonePosition(event, 12)}>{DEV_POSITION_ZONES_NUMBERS[34]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 13)} onMouseOver={event => handleOverTextZonePosition(event, 13)}>{DEV_POSITION_ZONES_NUMBERS[35]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 14)} onMouseOver={event => handleOverTextZonePosition(event, 14)}>{DEV_POSITION_ZONES_NUMBERS[36]}</div>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 15)} onMouseOver={event => handleOverTextZonePosition(event, 15)}>{DEV_POSITION_ZONES_NUMBERS[37]}</div>}\n            </div>\n            <div className={`flex flex-auto flex-row space-x-${TEXT_ZONE_POSITION_SPACE}`}>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 16)} onMouseOver={event => handleOverTextZonePosition(event, 16)}>{DEV_POSITION_ZONES_NUMBERS[33]}</div>}\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 17)} onMouseOver={event => handleOverTextZonePosition(event, 17)}>{DEV_POSITION_ZONES_NUMBERS[34]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 18)} onMouseOver={event => handleOverTextZonePosition(event, 18)}>{DEV_POSITION_ZONES_NUMBERS[35]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 19)} onMouseOver={event => handleOverTextZonePosition(event, 19)}>{DEV_POSITION_ZONES_NUMBERS[36]}</div>\n              {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 20)} onMouseOver={event => handleOverTextZonePosition(event, 20)}>{DEV_POSITION_ZONES_NUMBERS[37]}</div>}\n            </div>\n            {[1, 4, 2, 3, 5, 6].includes(thumbTemplate) && <div className={`flex flex-auto flex-row space-x-${TEXT_ZONE_POSITION_SPACE}`}>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 21)} onMouseOver={event => handleOverTextZonePosition(event, 21)}>{DEV_POSITION_ZONES_NUMBERS[33]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 22)} onMouseOver={event => handleOverTextZonePosition(event, 22)}>{DEV_POSITION_ZONES_NUMBERS[34]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 23)} onMouseOver={event => handleOverTextZonePosition(event, 23)}>{DEV_POSITION_ZONES_NUMBERS[35]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 24)} onMouseOver={event => handleOverTextZonePosition(event, 24)}>{DEV_POSITION_ZONES_NUMBERS[36]}</div>\n              <div className={`flex-auto h-full ${TEXT_ZONE_BG}`} onClick={event => handleClickTextZonePosition(event, 25)} onMouseOver={event => handleOverTextZonePosition(event, 25)}>{DEV_POSITION_ZONES_NUMBERS[37]}</div>\n            </div>}\n          </div>\n\n          {thumbPreview && thumbPreviewTextClass.containerClass && thumbTextZoneAllowPreview && <div className={`pointer-events-none flex w-full h-full ${thumbPreviewTextClass.containerClass} ${thumbTemplate === 3 && 'bg-gray-800 bg-opacity-15'}  ${thumbTemplate === 6 && 'bg-gray-50 bg-opacity-20'}`}>\n            <div className={`min-w-min pointer-events-none ${thumbPreviewTextClass.zoneClass} ${thumbTemplate === 1 && 'bg-gray-900 bg-opacity-40'} ${thumbTemplate === 4 && 'bg-gray-50 bg-opacity-60'} ${'border-3 border-blue-600 border-opacity-75'} rounded`} style={{maxWidth: `${parseInt(textMaxWidth) + 2}%`, \n            margin: `${getComputedPixelSize(thumbPreviewTextClass.margins[0] /* - (![1, 4].includes(thumbTemplate) && thumbPreviewTextClass.margins[0] === 60 ? 20 : 0) */)}px ${getComputedPixelSize(thumbPreviewTextClass.margins[1])}px ${getComputedPixelSize(thumbPreviewTextClass.margins[2] /* - (![1, 4].includes(thumbTemplate) && thumbPreviewTextClass.margins[2] === 60 ? 20 : 0) */)}px ${getComputedPixelSize(thumbPreviewTextClass.margins[3])}px`\n            }}>\n              <div className={`select-none pointer-events-none align-middle font-medium rounded ${thumbPreviewTextClass.textClass} ${thumbTemplate >= 4 ? 'text-gray-900' : 'text-white'}`} style={thumbTemplate >= 4 ? {\"textShadow\": TEXT_SHADOWS.white, \n              padding: `${getComputedPixelSize(thumbPreviewTextClass.paddings[0])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[1])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[2])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              } \n              : \n              {\"textShadow\": TEXT_SHADOWS.black, \n              padding: `${getComputedPixelSize(thumbPreviewTextClass.paddings[0])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[1])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[2])}px ${getComputedPixelSize(thumbPreviewTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              }}>{thumbText}</div>\n            </div>\n          </div>}\n\n          {thumbPreview && thumbTextClass.containerClass && !thumbPreviewTextClass.containerClass && <div className={`pointer-events-none flex w-full h-full ${thumbTextClass.containerClass} ${thumbTemplate === 3 && 'bg-gray-900 bg-opacity-15'} ${thumbTemplate === 6 && 'bg-gray-50 bg-opacity-20'}`}>\n            <div className={`min-w-min pointer-events-none ${thumbTextClass.zoneClass} ${thumbTemplate === 1 && 'bg-gray-900 bg-opacity-50'} ${thumbTemplate === 4 && 'bg-gray-50 bg-opacity-70'}`} style={{maxWidth: `${textMaxWidth}%`, \n            margin: `${getComputedPixelSize(thumbTextClass.margins[0] /* - (![1, 4].includes(thumbTemplate) && thumbTextClass.margins[0] === 60 ? 20 : 0) */)}px ${getComputedPixelSize(thumbTextClass.margins[1])}px ${getComputedPixelSize(thumbTextClass.margins[2] /* - (![1, 4].includes(thumbTemplate) && thumbTextClass.margins[2] === 60 ? 20 : 0) */)}px ${getComputedPixelSize(thumbTextClass.margins[3])}px`}}>\n              {/* <Resizer onResize={handleResize} sides={[\"left\", \"right\"]} /> */}\n              <div className={`select-none pointer-events-none font-medium ${thumbTextClass.textClass} ${thumbTemplate >= 4 ? 'text-gray-900' : 'text-white'}`} style={thumbTemplate >= 4 ? {\"textShadow\": TEXT_SHADOWS.white, \n              padding: `${getComputedPixelSize(thumbTextClass.paddings[0])}px ${getComputedPixelSize(thumbTextClass.paddings[1])}px ${getComputedPixelSize(thumbTextClass.paddings[2])}px ${getComputedPixelSize(thumbTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              } \n              : \n              {\"textShadow\": TEXT_SHADOWS.black, \n              padding: `${getComputedPixelSize(thumbTextClass.paddings[0])}px ${getComputedPixelSize(thumbTextClass.paddings[1])}px ${getComputedPixelSize(thumbTextClass.paddings[2])}px ${getComputedPixelSize(thumbTextClass.paddings[3])}px`,\n              fontSize: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][0])}px`,\n              lineHeight: `${getComputedPixelSize(TEXT_ZONE_FONT_SIZE[thumbFontSize][1])}px`\n              }}>{thumbText}</div>\n            </div>\n          </div>}\n\n          {isLoadingThumbImage && <div className=\"flex w-full h-full bg-gray-800 bg-opacity-70 items-center justify-center p-3\"><LoadingSpinner className=\"h-8 w-8 text-white\" /></div>}\n\n        </div>\n        <div className=\"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2\">\n          {thumbBgImage !== \"\" && <div className=\"relative w-full\">\n            {!playingPreview && <PlayIcon onClick={event => handlePlayingPreview(event, true)} className=\"absolute right-10 top-0 h-7 w-7 -mt-1 text-blue-600 hover:text-blue-500 cursor-pointer\" />}\n            <CameraIcon onClick={handleSaveAsImage} className=\"absolute right-1 top-0 h-7 w-7 -mt-1 text-blue-600 hover:text-blue-500 cursor-pointer\"/>\n          </div>}\n          <div className=\"flex flex-row w-3/4 md:w-full mt-0 items-center ml-1\">{isMobile ? <FingerPrintIcon className=\"h-4 w-4 text-green-500 mr-1 md:self-center self-start\" /> : <CursorClickIcon className=\"h-4 w-4 text-green-500 mr-1\" />}<div className=\"select-none text-green-500 text-xs text-left md:text-center\">Cliquez dans la vignette pour déplacer le texte</div></div>\n        </div>\n        \n        {/* {thumbBgImage !== \"\" && <div className=\"relative pt-1\">\n          <div className=\"overflow-hidden h-1 mb-4 text-xs flex rounded-full bg-blue-200\">\n            <div className=\"animationProgress shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-600\"></div>\n          </div>\n        </div>} */}\n        <div className=\"flex flex-col lg:flex-row flex-wrap item-center justify-start align-middle w-full mt-4\">\n          <div className=\"flex flex-row\">\n            <div className={\"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n              Taille du texte :\n            </div>\n            <div className={\"select-none rounded-md m-1 px-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n              <input type=\"range\" id=\"fontSize\" step={1} name=\"fontSize\" min=\"0\" max=\"10\" onChange={e => setThumbFontSize(e.target.value)} defaultValue={4} />\n            </div>\n          </div>\n          \n          {/* <div onClick={event => handleChangeThumbFontSize(event, 1)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 1 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            1\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 2)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 2 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}> \n            2\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 3)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 3 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            3\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 4)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 4 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            4\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 5)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 5 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            5\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 6)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 6 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            6\n          </div>\n          <div onClick={event => handleChangeThumbFontSize(event, 7)} className={\"select-none rounded-md m-0.5 py-0.5 px-2 text-center font-medium text-xs flex items-center justify-center align-middle cursor-pointer border-2 leading-none \" + \n            (thumbFontSize === 7 ? \"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500\" : \"text-gray-900 border-gray-50 hover:bg-blue-100 hover:border-blue-100\")}>\n            7\n          </div> */}\n          <div className=\"flex flex-row\">\n            <div className={\"select-none rounded-md m-1 lg:pl-6 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n              Largeur du texte :\n            </div>\n            <div className={\"select-none rounded-md m-1 px-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n              <input type=\"range\" id=\"textWidth\" step={1} name=\"textWidth\" min=\"0\" max=\"100\" onChange={e => setTextMaxWidth(e.target.value)} defaultValue={DEFAULT_TEXT_MAX_WIDTH} />\n            </div>\n          </div>\n          \n        </div>\n        <div className=\"container grid grid-cols-3 gap-2 mx-auto mt-4\">\n          <div onClick={event => handleChangeThumbTemplate(event, 4)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 4 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />}\n            <div className=\"flex flex-col w-full h-full shadow justify-center items-center\">\n              <div className=\"w-full rounded-t-md\"></div>\n              <div className=\"justify-center items-center text-center align-middle flex flex-row bg-gray-50 bg-opacity-75 rounded-sm\">\n                <div className=\"pt-1 pb-1 px-2 lg:px-4 text-center text-gray-900 align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(30)}px`} : {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(30)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full rounded-b-md\"></div>\n            </div>\n          </div>\n          <div onClick={event => handleChangeThumbTemplate(event, 2)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 2 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />}\n            <div className=\"flex flex-col w-full h-full shadow\">\n              <div className=\"w-full flex-auto rounded-t-md\"></div>\n              <div className=\"w-full flex-auto justify-center items-center text-center align-middle flex flex-row\">\n                <div className=\"py-2 px-24 text-center text-white align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(35)}px`} : {\"textShadow\": TEXT_SHADOWS.black, fontSize: `${getComputedPixelSize(35)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full flex-auto rounded-b-md\"></div>\n            </div>\n          </div>\n          <div onClick={event => handleChangeThumbTemplate(event, 3)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 3 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />}\n            <div className=\"bg-gray-900 bg-opacity-20\"></div>\n            <div className=\"flex flex-col w-full h-full shadow\">\n              <div className=\"w-full flex-auto rounded-t-md\"></div>\n              <div className=\"w-full flex-auto justify-center items-center text-center align-middle flex flex-row\">\n                <div className=\"py-2 px-24 text-center text-white align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.black, fontSize: `${getComputedPixelSize(35)}px`} : {\"textShadow\": TEXT_SHADOWS.black, fontSize: `${getComputedPixelSize(35)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full flex-auto rounded-b-md\"></div>\n            </div>\n          </div>\n          <div onClick={event => handleChangeThumbTemplate(event, 1)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 1 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />} \n            <div className=\"flex flex-col w-full h-full shadow justify-center items-center\">\n              <div className=\"w-full rounded-t-md\"></div>\n              <div className=\"justify-center items-center text-center align-middle flex flex-row bg-gray-900 bg-opacity-75 rounded-sm\">\n                <div className=\"pt-1 pb-1 px-2 lg:px-4 text-center text-white align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.black, fontSize: `${getComputedPixelSize(30)}px`} : {\"textShadow\": TEXT_SHADOWS.black, fontSize: `${getComputedPixelSize(30)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full rounded-b-md\"></div>\n            </div>\n          </div>\n          <div onClick={event => handleChangeThumbTemplate(event, 5)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 5 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />}\n            <div className=\"flex flex-col w-full h-full shadow\">\n              <div className=\"w-full flex-auto rounded-t-md\"></div>\n              <div className=\"w-full flex-auto justify-center items-center text-center align-middle flex flex-row\">\n                <div className=\"py-2 px-24 text-center text-gray-900 align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(35)}px`} : {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(35)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full flex-auto rounded-b-md\"></div>\n            </div>\n          </div>\n          <div onClick={event => handleChangeThumbTemplate(event, 6)} className={`w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ${thumbTemplate === 6 ? `border-blue-600 shadow ${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'}` : 'border-gray-100 bg-gray-100'} hover:border-blue-400 hover:${thumbBgImage !== \"\" ? 'bg-gray-200' : 'bg-gray-100'} cursor-pointer`}>\n            {thumbBgImage !== \"\" && <img src={thumbBgImage} alt=\"ThumbBg\" className=\"w-full h-full object-center object-cover\" />}\n            <div className=\"bg-gray-50 bg-opacity-20\"></div>\n            <div className=\"flex flex-col w-full h-full shadow\">\n              <div className=\"w-full flex-auto rounded-t-md\"></div>\n              <div className=\"w-full flex-auto justify-center items-center text-center align-middle flex flex-row\">\n                <div className=\"py-2 px-24 text-center text-gray-900 align-middle font-medium select-none\" style={isMobile ? {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(35)}px`} : {\"textShadow\": TEXT_SHADOWS.white, fontSize: `${getComputedPixelSize(35)}px`}}>Abc</div>\n              </div>\n              <div className=\"w-full flex-auto rounded-b-md\"></div>\n            </div>\n          </div>\n        </div></>}\n      </div>\n    </div>\n  )\n}\n\nexport default CreationTool;","/**\n * FcmBD - Fonctions communes pour la gestion des sources de données.\n * @namespace FcmBd\n */\nconst FcmBd = (() => {\n\n    /* ===================\n     CONSTANT DECLARATION\n    =================== */\n\n    const _DataSources = {};\n    const dataSources = { refs: [] };\n    const dataStores = {};\n    const queries = { refs: [] };\n    const tableModels = { refs: [] };\n\n    const config = {\n        GOOGLESHEET_API_KEY: '',\n        DATASOURCE_CONFIG_FETCH_URL: '',\n        DATASOURCE_CONFIG_REFRESH_RATE: 3600000,\n        DATASOURCE_CONFIG_INTERVAL: undefined,\n    };\n\n    const dataSourceType = {\n        GOOGLESHEET: \"GOOGLESHEET\",\n        API: \"API\"\n    };\n\n    const dataSourceTypeDefaultParams = {\n        GOOGLESHEET: '',\n        API: '',\n    };\n\n    const defaultDataSourceModel = {\n        id: 0,\n        ref: '',\n        type: '',\n        name: '',\n        baseUrl: '',\n        properties: {},\n        dataSets: {\n            refs: [],\n        }\n    }\n\n    const defaultDataSetModel = {\n        id: 0,\n        ref: '',\n        type: '',\n        name: '',\n        baseUrl: '',\n        dataLoaded: false,\n        storeRefreshRate: 3600000,\n        dataStoreRef: '',\n        columns: {\n            refs: [],\n        },\n    }\n\n    const defaultColumnModel = {\n        id: 0,\n        ref: '',\n        dataType: '',\n        name: '',\n        index: 0,\n    }\n\n    /* =========\n     FCMBD INIT\n    ========= */\n\n    const init = async (configModifier) => {\n\n        Object.assign(config, {...configModifier});\n\n        if (configModifier.GOOGLESHEET_API_KEY) {\n           dataSourceTypeDefaultParams.GOOGLESHEET = '?alt=json&key=' + config.GOOGLESHEET_API_KEY;\n        }\n\n        if (configModifier.DATASOURCE_CONFIG_FETCH_URL) {\n\n            await _DataSources.init(config.DATASOURCE_CONFIG_FETCH_URL);\n\n            /* config.DATASOURCE_CONFIG_INTERVAL = setInterval(function() { _DataSources.init(config.DATASOURCE_CONFIG_FETCH_URL); }, config.DATASOURCE_CONFIG_REFRESH_RATE < 360000 ? 360000 : config.DATASOURCE_CONFIG_REFRESH_RATE); */         \n        }\n\n        return true;\n        \n    }\n\n    _DataSources.initModelObject = (model) => {\n        let initData = deepParse(model);\n\n        if (initData) {\n            if (initData.dataSources) {\n                initData.dataSources.forEach(source => {\n                    _DataSources.createFromJson(source);\n                });\n            }\n\n            if (initData.queries) {\n                initData.queries.forEach(query => {\n                    addItemAndRef(queries, queries.refs, query.ref, query);\n                });\n            }\n\n            if (initData.tableModels) {\n                initData.tableModels.forEach(tableModel => {\n                    addItemAndRef(tableModels, tableModels.refs, tableModel.ref, tableModel);\n                });\n            }\n        }\n    }\n\n    /* ===============\n     DATASOURCES INIT\n    =============== */\n\n    _DataSources.init = async (url) => {\n        return await fetchQuery(url).then(data => {\n            let initData = deepParse(data);\n\n            if (initData) {\n                if (initData.dataSources) {\n                    initData.dataSources.forEach(source => {\n                        _DataSources.createFromJson(source);\n                    });\n                }\n\n                if (initData.queries) {\n                    initData.queries.forEach(query => {\n                        addItemAndRef(queries, queries.refs, query.ref, query);\n                    });\n                }\n\n                if (initData.tableModels) {\n                    initData.tableModels.forEach(tableModel => {\n                        addItemAndRef(tableModels, tableModels.refs, tableModel.ref, tableModel);\n                    });\n                }\n            }\n        });\n    }\n\n    /* ====================\n     DATASOURCES FUNCTIONS\n    ==================== */\n\n    _DataSources.add = (dataSourceRef, dataSourceModel = {}) => {\n\n        try {\n            const dataSource = dataSources[dataSourceRef];\n\n            if (!dataSource) {\n                dataSourceModel = {...JSON.parse(JSON.stringify(defaultDataSourceModel)), ...dataSourceModel};\n                addItemAndRef(dataSources, dataSources.refs, dataSourceRef, dataSourceModel);\n            } else {\n                // TODO: Si une dataSource avec le même nom existe déjà.\n                throw new Error(`Une source de données nommée '${dataSourceRef}' existe déjà.`);\n            }\n        } catch (err) {\n            console.error('FcmBd.DataSources.add() : ' + err.message);\n        }\n        \n    }\n\n    _DataSources.addDataSet = (dataSourceRef, dataSetRef, dataSetModel = {}) => {\n\n        try {\n\n            validateRequest(dataSourceRef);\n\n            const dataSource = dataSources[dataSourceRef];\n\n            const dataSets = dataSource.dataSets;\n\n            if (!dataSets[dataSetRef]) {\n                dataSetModel = {...JSON.parse(JSON.stringify(defaultDataSetModel)), ...dataSetModel};\n                addItemAndRef(dataSets, dataSets.refs, dataSetRef, dataSetModel);\n\n                if (!dataStores[dataSetModel.dataStoreRef]) {\n                    dataStores[dataSetModel.dataStoreRef] = [];\n                } else {\n                    // TODO: Si un dataStore avec le même nom existe déjà.\n                    throw new Error(`Un stockage de données nommé '${dataSetModel.dataStoreRef}' existe déjà.`);\n                }\n\n                setUpdateStoreInterval(dataSourceRef, dataSetRef);\n                \n            } else {\n                // TODO: Si un dataSet avec le même nom existe déjà.\n                throw new Error(`Un ensemble de données nommé '${dataSetRef}' existe déjà dans '${dataSourceRef}'.`);\n            }\n\n        } catch (err) {\n            console.error('FcmBd.DataSources.addDataSet() : ' + err.message);\n        }\n    }\n\n    _DataSources.addDataSetColumn = (dataSourceRef, dataSetRef, columnRef, columnModel = {}) => {\n\n        try {\n\n            validateRequest(dataSourceRef, dataSetRef);\n\n            const dataSource = dataSources[dataSourceRef];\n\n            const dataSet = dataSource.dataSets[dataSetRef];\n\n            const columns = dataSet.columns;\n\n            if (!columns[columnRef]) {\n                columnModel = {...JSON.parse(JSON.stringify(defaultColumnModel)), ...columnModel}\n                addItemAndRef(columns, columns.refs, columnRef, columnModel);\n            } else {\n                // TODO: Si une colonne avec le même nom existe déjà.\n                throw new Error(`Une colonne nommée '${columnRef}' existe déjà dans '${dataSetRef}'.`);\n            }\n\n        } catch (err) {\n            console.error('FcmBd.DataSources.addDataSetColumn() : ' + err.message);\n        }\n    }\n\n    _DataSources.remove = (dataSourceRef) => {\n        try {\n            validateRequest(dataSourceRef);\n\n            removeItemAndRef(dataSources, dataSources.refs, dataSourceRef);\n\n        } catch (err) {\n            console.error('FcmBd.DataSources.remove() : ' + err.message);\n        }\n    }\n\n    _DataSources.removeDataSet = (dataSourceRef, dataSetRef) => {\n\n        try {\n            validateRequest(dataSourceRef, dataSetRef);\n\n            const dataSource = dataSources[dataSourceRef];\n\n            const dataSet = dataSource.dataSets[dataSetRef];\n\n            clearUpdateStoreInterval(dataSourceRef, dataSetRef);\n\n            delete dataStores[dataSet.dataStoreRef];\n\n            removeItemAndRef(dataSource.dataSets, dataSource.dataSets.refs, dataSetRef);\n\n        } catch (err) {\n            console.error('FcmBd.DataSources.removeDataSet() : ' + err.message);\n        }\n    }\n\n    _DataSources.removeDataSetColumn = (dataSourceRef, dataSetRef, columnRef) => {\n\n        try {\n            validateRequest(dataSourceRef, dataSetRef, columnRef);\n\n            const dataSource = dataSources[dataSourceRef];\n\n            const dataSet = dataSource.dataSets[dataSetRef];\n\n            removeItemAndRef(dataSet.columns, dataSet.columns.refs, columnRef);\n\n        } catch (err) {\n            console.error('FcmBd.DataSources.removeDataSetColumn() : ' + err.message);\n        }\n    }\n\n    /**\n     * Ajouter une source de données\n     * \n     * @param  {string}     dataSourceRef    - Nom unique de la source de données.\n     * @param  {string}     url     - L'url pour accéder à la source de données.\n     * @param  {string}     [type]  - Type de source de données.\n     */\n    _DataSources.create = async (dataSourceRef, url, callback) => {\n\n        try {\n\n            if (dataSources[dataSourceRef]) {\n                throw new Error(`Une source de données nommée '${dataSourceRef}' existe déjà.`);\n            }\n\n            let dataSourceModel = {\n                id: dataSources.refs.length + 1,\n                type: getDataSourceType(url),\n                ref: dataSourceRef,\n            }\n\n            _DataSources.add(dataSourceRef, dataSourceModel);\n\n            let source = dataSources[dataSourceRef];\n\n            switch (source.type) {\n                case dataSourceType.GOOGLESHEET:\n                    let id = url.substring(url.indexOf(\"/d/\") + 3, url.lastIndexOf(\"/\"));\n                    source.properties.spreadsheetId = id;\n                    source.baseUrl = `https://sheets.googleapis.com/v4/spreadsheets/${id}`;\n\n                    const spreadsheet = await fetchQuery(source.baseUrl + dataSourceTypeDefaultParams[source.type]);\n\n                    source.name = spreadsheet.properties.title;\n\n                    let dataSets = [];\n\n                    for (const sheet of spreadsheet.sheets) {\n                        dataSets.push(fetchQuery(source.baseUrl + '/values/' + sheet.properties.title + dataSourceTypeDefaultParams[source.type]).then(sheetData => {\n                            let sheetId = sheet.properties.sheetId;\n                            let dataStoreRef = `${dataSourceRef}_${sheetId}`;\n                            let dataSetRef = sheet.properties.title;\n\n                            let dataSetModel = { \n                                id: sheetId,\n                                type: 'JSON',\n                                name: dataSetRef,\n                                baseUrl: '/values/' + dataSetRef,\n                                dataStoreRef: dataStoreRef\n                            };\n\n                            _DataSources.addDataSet(dataSourceRef, dataSetRef, dataSetModel);\n                            \n                            let dataSet = source.dataSets[dataSetRef];\n\n                            if (sheetData.values.length > 0) {\n                                sheetData.values[0].forEach((columnRef, colIdx) => {\n\n                                    let columnModel = { \n                                        id: colIdx + 1,\n                                        ref: columnRef,\n                                        dataType: getDataType(sheetData.values[1][colIdx]),\n                                        name: columnRef,\n                                        index: colIdx\n                                    };\n\n                                    _DataSources.addDataSetColumn(dataSourceRef, dataSetRef, columnRef, columnModel);\n                                });\n                            }\n    \n                            sheetData.values.splice(0, 1);\n    \n                            sheetData.values.forEach((row, rowIdx) => {\n                                let rowData = {};\n                                dataSet.columns.refs.forEach((column, colIdx) => {\n                                    rowData[column] = row[colIdx] ? row[colIdx] : ''\n                                });\n    \n                                dataStores[dataStoreRef].push(rowData);\n                            });\n    \n                            dataSet.dataLoaded = true;\n                        }));\n                    };\n\n                    await Promise.all(dataSets);\n\n                    break;\n                case dataSourceType.API:\n                    source.baseUrl = url;\n\n                    break;\n                default:\n                    source.baseUrl = url;\n\n                    break;\n            }\n\n            /* dataSources[dataSourceRef] = source;\n            dataSources.refs.push(dataSourceRef); */\n\n            return callback(null, dataSources[dataSourceRef]);\n        } catch (err) {\n            console.error('FcmBd.DataSources.create() : ' + err.message);\n        }\n    }\n\n    _DataSources.createFromJson = (dataSourceModel) => {\n        let dataSets = dataSourceModel.dataSets;\n\n        delete dataSourceModel.dataSets;\n\n        let dataSource = dataSourceModel;\n\n        let dataSourceRef = dataSource.ref\n\n        _DataSources.add(dataSourceRef, dataSource);\n\n        dataSets.refs.forEach(dataSetRef => {\n            let columns = dataSets[dataSetRef].columns;\n\n            delete dataSets[dataSetRef].columns\n\n            _DataSources.addDataSet(dataSourceRef, dataSetRef, dataSets[dataSetRef]);\n\n            columns.refs.forEach(columnRef => {    \n                _DataSources.addDataSetColumn(dataSourceRef, dataSetRef, columnRef, columns[columnRef]);\n            });\n        });\n    }\n\n    /**\n     * Retourne les informations d'une source de données\n     * \n     * @param  {string} name    - Nom unique de la source de données.\n     * \n     * @return {object} - Un objet contenant les informations de base de la source de données.\n     */\n    _DataSources.find = (name) => {\n        return dataSources[name];\n    }\n\n    _DataSources.list = (dataSourceRef = undefined, dataSetRef = undefined) => {\n        let list;\n\n        if (!dataSourceRef) {\n            list = dataSources.refs;\n        } else if (dataSourceRef && !dataSetRef) {\n            list = dataSources[dataSourceRef].dataSets.refs;\n        } else if (dataSourceRef && dataSetRef) {\n            list = dataSources[dataSourceRef].dataSets[dataSetRef].columns.refs;\n        }\n\n        return  list;\n    }\n\n    _DataSources.executeStoredQuery = async (queryRef, queryModifier = undefined) => {\n\n        try {\n            let query = queries[queryRef];\n\n            if (query) {\n                if (queryModifier) {\n                    query = {...query, ...queryModifier};\n                }\n\n                return _DataSources.query(query.dataSourceRef, query.liveData, query);\n            } else {\n                throw new Error(`La requête '${queryRef}' n'existe pas.`);\n            }\n        } catch (err) {\n            console.error('FcmBd.DataSources.executeStoredQuery() : ' + err.message);\n        }\n        \n    }\n\n    _DataSources.getStoredQueryTableModel = (queryRef) => {\n        try {\n            const query = queries[queryRef];\n            if (query) {\n                if (query.tableModel) {\n                    const tableModel = tableModels[query.tableModel];\n        \n                    if (tableModel) {\n                        return tableModel;\n                    } else {\n                        throw new Error(`Le modèle de tableau '${query.tableModel}' n'existe pas.`);\n                    }\n                } else {\n                    throw new Error(`Aucun modèle de tableau n'existe pour la requête '${queryRef}'.`);\n                }\n            } else {\n                throw new Error(`La requête '${queryRef}' n'existe pas.`);\n            }\n        } catch (err) {\n            console.error('FcmBd.DataSources.executeStoredQuery() : ' + err.message);\n        }\n    }\n\n    _DataSources.query = async (dataSourceRef, liveData = false, query = {}) => {\n\n        try {\n            validateRequest(dataSourceRef, query.from);\n\n            const startTime = getNowTimeStamp();\n\n            let queryResult = {\n                datasetNbRows: 0,\n                returnedNbRows: 0,\n                duration: 0,\n                data: []\n            };\n\n            let data = [];\n\n            const dataSource = dataSources[dataSourceRef];\n\n            if (dataSource) {\n\n                const dataSet = dataSource.dataSets[query.from];\n\n                if (dataSet.dataLoaded && !liveData) {\n                    data = dataStores[dataSet.dataStoreRef];\n                    queryResult.datasetNbRows = data.length;\n\n                    if (query.where) {\n                        data = where(data, query.where, dataSet.columns);\n                    }\n\n                    if (query.select && data.length > 0) {\n                        data = select(data, query.select);\n                    }\n\n                    if (query.orderBy && data.length > 0) {\n                        data = orderBy(data, query.orderBy, dataSet.columns);\n                    }\n\n                    if (query.skip && query.limit) {\n                        data = data.slice(query.skip, query.skip + query.limit);\n                    } else if (query.limit) {\n                        data = data.slice(0, query.limit);\n                    } else if (query.skip) {\n                        data = data.slice(query.skip);\n                    }\n\n                    if (query.tableModel) {\n                        let tableModel = tableModels[query.tableModel];\n\n                        if (tableModel) {\n                            queryResult.tableModel = tableModel;\n                        }\n                    }\n\n                    queryResult.returnedNbRows = data.length;\n                    queryResult.data = data;\n\n                    queryResult.duration = (getNowTimeStamp() - startTime) / 1000;\n\n                    if (queryResult.duration === 0) {\n                        queryResult.duration = 0.0001\n                    }\n\n                    return queryResult;\n\n                } else {\n                    // TODO: Load dataSet data to store (need a function for that) then rerun query() with same param.\n                    dataSet.dataLoaded = false;\n\n                    return await updateStore(dataSource.ref, dataSet.ref).then(() => _DataSources.query(dataSourceRef, false, query));\n                }\n            }\n        } catch (err) {\n            console.error('FcmBd.DataSources.query() : ' + err.message);\n        }\n\n    }\n\n    _DataSources.checkStoredQueryResultUpdated = (queryRef, lastUpdateTime) => {\n        try {\n            const query = queries[queryRef];\n            if (query) {\n\n                const dataSource = dataSources[query.dataSourceRef];\n                const dataSet = dataSource.dataSets[query.from];\n        \n                return dataSet.lastUpdateTime > lastUpdateTime;\n\n            } else {\n                throw new Error(`La requête '${queryRef}' n'existe pas.`);\n            }\n        } catch (err) {\n            console.error('FcmBd.DataSources.executeStoredQuery() : ' + err.message);\n        }\n    }\n\n    /* ==============================\n     DATA STORE MANAGEMENT FUNCTIONS\n    ============================== */\n\n    const updateStore = async (dataSourceRef, dataSetRef) => {\n\n        const dataSource = dataSources[dataSourceRef];\n        const dataSet = dataSource.dataSets[dataSetRef];\n\n        return await fetchQuery(dataSource.baseUrl + dataSet.baseUrl + dataSourceTypeDefaultParams[dataSource.type]).then(data => {\n            let updatedData = undefined;\n\n            switch (dataSource.type) {\n                case \"GOOGLESHEET\":\n\n                    updatedData = [];\n\n                    data.values.splice(0, 1);\n    \n                    data.values.forEach((row, rowIdx) => {\n                        let rowData = {};\n                        dataSet.columns.refs.forEach((column, colIdx) => {\n                            rowData[column] = row[colIdx] ? row[colIdx] : ''\n                        });\n\n                        updatedData.push(rowData);\n                    });\n                    break;\n                default:\n                    switch (dataSet.type) {\n                        case \"CSV\":\n                            updatedData = [];\n\n                            data.forEach((row, rowIdx) => {\n                                let rowData = {};\n                                dataSet.columns.refs.forEach((column, colIdx) => {\n                                    rowData[column] = row[colIdx] ? row[colIdx] : ''\n                                });\n        \n                                updatedData.push(rowData);\n                            });\n\n                        break;\n                        default:\n                            updatedData = data;\n                    }\n                break;\n            }\n\n            if (updatedData) {\n\n                if (dataStores[dataSet.dataStoreRef] && JSON.stringify(dataStores[dataSet.dataStoreRef]) !== JSON.stringify(updatedData)) {\n                    dataStores[dataSet.dataStoreRef] = updatedData;\n                    dataSet.lastUpdateTime = getNowTimeStamp();\n                }\n                \n                dataSet.dataLoaded = true;\n\n            }\n        });\n    }\n\n    const setUpdateStoreInterval = (dataSourceRef, dataSetRef) => {\n\n        const dataSource = dataSources[dataSourceRef];\n        const dataSet = dataSource.dataSets[dataSetRef];\n\n        if (!dataSet.updateStoreInterval && dataSet.storeRefreshRate) {\n            dataSet.updateStoreInterval = setInterval(function() { updateStore(dataSourceRef, dataSetRef); }, dataSet.storeRefreshRate < 1000 ? 1000 : dataSet.storeRefreshRate);\n        }\n    }\n\n    const clearUpdateStoreInterval = (dataSourceRef, dataSetRef) => {\n        \n        const dataSource = dataSources[dataSourceRef];\n        const dataSet = dataSource.dataSets[dataSetRef];\n\n        if (dataSet.updateStoreInterval) {\n            clearInterval(dataSet.updateStoreInterval);\n\n            dataSet.updateStoreInterval = undefined;\n        }\n    }\n\n    /* const resetNbUseSinceStoreUpdate = (dataSourceRef, dataSetRef) => {\n        \n        let dataSource = dataSources[dataSourceRef];\n        let dataSet = dataSource.dataSets[dataSetRef];\n\n        dataSet.nbUseSinceStoreUpdate = 0;\n    }\n\n    const incrementNbUseSinceStoreUpdate = (dataSourceRef, dataSetRef) => {\n        \n        let dataSource = dataSources[dataSourceRef];\n        let dataSet = dataSource.dataSets[dataSetRef];\n\n        if (!dataSet.nbUseSinceStoreUpdate && dataSet.nbUseSinceStoreUpdate !== 0) {\n            dataSet.nbUseSinceStoreUpdate = 1;\n        } else {\n            dataSet.nbUseSinceStoreUpdate += 1;\n        }\n    } */\n\n    /* ======================\n     DATA FETCHING FUNCTIONS\n    ====================== */\n\n    const fetchQuery = async (url) => {\n        try {\n            const response = await fetch(url);\n            const result = await handleResponse(response);\n\n            return result;\n        } catch (err) {\n\n        }\n    }\n\n    const handleResponse = (response) => {\n        let contentType = response.headers.get('content-type')\n        if (contentType.includes('application/json')) {\n          return handleJSONResponse(response)\n        } else if (contentType.includes('text/html')) {\n          return handleTextResponse(response)\n        } else if (contentType.includes('text/csv')) {\n            return handleCSVResponse(response)\n        } else {\n          // Other response types as necessary. I haven't found a need for them yet though.\n          throw new Error(`Sorry, content-type ${contentType} not supported`)\n        }\n    }\n      \n    const handleJSONResponse = (response) => {\n        return response.json()\n          .then(json => {\n            if (response.ok) {\n              return json\n            } else {\n              return Promise.reject(Object.assign({}, json, {\n                status: response.status,\n                statusText: response.statusText\n              }))\n            }\n          })\n    }\n    \n    const handleTextResponse = (response) => {\n        return response.text()\n          .then(text => {\n            if (response.ok) {\n              return text\n            } else {\n              return Promise.reject({\n                status: response.status,\n                statusText: response.statusText,\n                err: text\n              })\n            }\n          })\n    }\n\n    const handleCSVResponse = (response) => {\n        return response.text()\n          .then(text => {\n            if (response.ok) {\n              return parseCSV(text)\n            } else {\n              return Promise.reject({\n                status: response.status,\n                statusText: response.statusText,\n                err: text\n              })\n            }\n          })\n    }\n\n    /* ==============\n     QUERY FUNCTIONS\n    ============== */\n\n    const filter = (objectTocheck, filters, dataSetColumns, operator = '', keyToCheck = undefined, isMacthing = true) => {\n\n        let filterArr;\n\n        if (filters !== null && typeof filters == \"object\") {\n\n            if (Array.isArray(filters)) {\n                for (let filter of filters) {\n                    isMacthing = filter(objectTocheck, filter, dataSetColumns, operator, keyToCheck, isMacthing);\n\n                    if (operator === '$and' && !isMacthing) {\n                        break;\n                    } else if (operator === '$or' && isMacthing) {\n                        break;\n                    }\n                }\n            } else {\n                filterArr = Object.entries(filters);\n\n                for (let [key, value] of filterArr) {\n\n                    if (key.includes('$')) {\n                        \n                        if (value !== null && typeof value == \"object\") {\n                            operator = key;\n                            filters = value;\n                            isMacthing = filter(objectTocheck, filters, dataSetColumns, operator, keyToCheck, isMacthing);\n                        } else {\n                            operator = key;\n                            isMacthing = compare(convertToDataType(objectTocheck[keyToCheck], dataSetColumns[keyToCheck].dataType), convertToDataType(value, dataSetColumns[keyToCheck].dataType), operator);\n                        }\n                        \n                    } else if (value !== null && typeof value == \"object\") {\n                        operator = '';\n                        filters = value;\n                        keyToCheck = key;\n                        isMacthing = filter(objectTocheck, filters, dataSetColumns, operator, keyToCheck, isMacthing);\n                    } else {\n                        if (!keyToCheck || operator === '') {\n                            keyToCheck = key;\n                        };\n\n                        isMacthing = compare(convertToDataType(objectTocheck[keyToCheck], dataSetColumns[keyToCheck].dataType), convertToDataType(value, dataSetColumns[keyToCheck].dataType), operator);\n\n                        operator = '';\n                    }\n\n                    if (!isMacthing) {\n                        break;\n                    }\n                }\n            }\n\n        }\n\n        return isMacthing;\n\n    }\n\n    const expression = (expr, object) => {\n\n        let result;\n\n        if (expr !== null && typeof expr == \"object\") {\n            if (Array.isArray(expr)) {\n                result = [];\n\n                expr.forEach((computation, index) => {\n                    result.push(expression(computation, object));\n                });\n\n            } else {\n                for (let [key, value] of Object.entries(expr)) {\n                    if (key.includes('$')) {\n                        if ([\"$first\", \"$last\"].includes(key)) {\n                            result = aggregate(expr, object);\n                        } else {\n                            result = compute(expression(value, object), key);\n                        }\n                    }\n                }\n            }\n        } else {\n            if (typeof expr == \"string\" && expr.startsWith('$')) {\n                result = object[expr.substring(1)];\n\n                if (result === undefined) {\n                    result = expr;\n                }\n            } else {\n                result = expr;\n            }\n        }\n\n        return result;\n    }\n\n    const aggregate = (expr, array) => {\n        let aggrationResult;\n\n        for (let [operator, value] of Object.entries(expr)) {\n            switch (operator) {\n                case \"$first\":\n                    aggrationResult = expression(value, array[0]);\n                break;\n                case \"$last\":\n                    aggrationResult = expression(value, array[array.length - 1]);\n                break;\n                default:\n                    aggrationResult = expression(expr, array);\n            }\n        }\n        \n        return aggrationResult;\n    }\n\n   /*  if (expr !== null && typeof expr == \"object\") {\n        if (Array.isArray(expr)) {\n        } else {\n\n        }\n    } else {\n\n    } */\n\n    const compute = (value, operator = \"\") => {\n\n        let computedValue;\n\n        switch (operator) {\n            case \"$concat\":\n                computedValue = \"\";\n\n                value.forEach(string => {\n                    computedValue += string;\n                })\n            break;\n            case \"$lower\":\n                if (typeof value == \"string\") {\n                    computedValue = value.toLowerCase();\n                } else {\n                    computedValue = value;\n                }\n            break;\n            case \"$upper\":\n                if (typeof value == \"string\") {\n                    computedValue = value.toUpperCase();\n                } else {\n                    computedValue = value;\n                }\n            break;\n            case \"$substr\":\n                if (typeof value[0] == \"string\") {\n                    computedValue = value[0].substring(value[1], value[2]);\n                } else {\n                    computedValue = value;\n                }\n            break;\n            default:\n                computedValue = value;\n        }\n        \n        return computedValue;\n    }\n\n    const compare = (valueToCheck, valueToMatch, operator = \"\") => {\n        let isMacthing = false;\n    \n        switch (operator) {\n            case \"$gt\":\n                isMacthing = valueToCheck > valueToMatch;\n            break;\n            case \"$lt\":\n                isMacthing = valueToCheck < valueToMatch;\n            break;\n            case \"$gte\":\n                isMacthing = valueToCheck >= valueToMatch;\n            break;\n            case \"$lte\":\n                isMacthing = valueToCheck <= valueToMatch;\n            break;\n            case \"$ne\":\n                isMacthing = valueToCheck !== valueToMatch;\n            break;\n            case \"$in\":\n                isMacthing = valueToMatch.includes(valueToCheck);\n            break;\n            case \"$sameMonthAndDay\":\n                isMacthing = (valueToCheck.getUTCMonth() + 1 === valueToMatch.getUTCMonth() + 1) && (valueToCheck.getUTCDate() === valueToMatch.getUTCDate());\n            break;\n            default:\n                isMacthing = valueToCheck === valueToMatch;\n        }\n        \n        return isMacthing;\n    }\n    \n    const where = (data = [], filters = {}, dataSetColumns = {}) => {\n\n        let filteredData = data.filter(item => {\n            return filter(item, filters, dataSetColumns);\n        });\n        \n        return filteredData;\n    }\n    \n    const orderBy = (data = [], keys = [], dataSetColumns = {}) => {\n\n        let columns = keys.map(key => {\n            return Object.entries(key)[0];\n        });\n\n        let sortedData = data.sort((itemA, itemB) => {\n            let sorted = 0;\n\n            for (let [key, direction] of columns) {\n                let valueA = direction ? itemA[key] : itemB[key];\n                let valueB = direction ? itemB[key] : itemA[key];\n\n                if (dataSetColumns[key].dataType === \"number\" || dataSetColumns[key].dataType === \"date\") {\n                    valueA = convertToDataType(valueA, dataSetColumns[key].dataType);\n                    valueB = convertToDataType(valueB, dataSetColumns[key].dataType);\n\n                    if (valueA < valueB) {\n                        sorted = -1;\n                    }\n\n                    if (valueA > valueB) {\n                        sorted = 1;\n                    }\n\n                } else {\n                    sorted = valueA.localeCompare(valueB) * direction;\n                }\n\n                if (sorted !== 0) {\n                    break;\n                }\n            }\n\n            return sorted;\n\n        });\n\n        return sortedData;\n    }\n\n    const select = (data = [], select = {}) => {\n\n        let selects = Object.entries(select);\n\n        let selectedData = data.map(item => {\n            let dataRow = {};\n\n            for (let [key, value] of selects) {\n                if (value !== null && typeof value == \"object\") {\n                    dataRow[key] = expression(value, item);\n                } else {\n                    dataRow[key] = item[key];\n                }\n            }\n\n            return dataRow;\n        })\n\n        return selectedData;\n    }\n\n    /* ====================================\n     VALIDATION & ERROR HANDLING FUNCTIONS\n    ==================================== */\n\n    const validateRequest = (dataSourceRef, dataSetRef = null, columnRef = null) => {\n\n        const dataSource = dataSources[dataSourceRef];\n\n        if (!dataSource) {\n            throw new Error(`La source de données '${dataSourceRef}' n'existe pas.`);\n        } else if (dataSetRef && !dataSource.dataSets[dataSetRef]) {\n            throw new Error(`L'ensemble de données '${dataSetRef}' n'existe pas dans '${dataSourceRef}'.`);\n        } else if (columnRef && !dataSource.dataSets[dataSetRef].columns[columnRef]) {\n            throw new Error(`La colonne '${columnRef}' n'existe pas dans '${dataSetRef}'.`);\n        }\n    }\n\n    /* ==============\n     UTILS FUNCTIONS\n    ============== */\n\n    const getNowTimeStamp = () => {\n        let nowTimeStamp = new Date();\n        return nowTimeStamp.getTime();\n    }\n\n    const addItemAndRef = (object, refArr, ref, item) => {\n        item.ref = ref;\n        object[ref] = item;\n        refArr.push(ref);\n    }\n\n    const removeItemAndRef = (object, refArr, ref) => {\n        delete object[ref];\n        const index = refArr.indexOf(ref);\n        if (index > -1) {\n            refArr.splice(index, 1);\n        }\n    }\n\n    const getDataSourceType = (url) => {\n        let type;\n        if (url.indexOf(\"https://docs.google.com/spreadsheets/\") > -1) {\n            type = dataSourceType.GOOGLESHEET;\n        } else {\n            type = dataSourceType.API;\n        }\n\n        return type;\n    }\n\n    const getDataType = (value) => {\n        let type = 'string';\n        \n        if (value === '') {\n            type = 'string';\n        } else if (value === 'true' || value === 'false') {\n            type = 'boolean';\n        } else if (Date.parse(value) && (value.includes('-') || value.includes(':'))) {\n            type = 'date';\n        } else if (!isNaN(parseFloat(value))) {\n            type = 'number';\n        }\n\n        return type;\n    }\n\n    const convertToDataType = (valueToConvert, dataType) => {\n\n        let convertedValue;\n\n        switch (dataType) {\n            case \"string\":\n                convertedValue = String(valueToConvert);\n            break;\n            case \"number\":\n                convertedValue = Number(valueToConvert);\n            break;\n            case \"boolean\":\n                convertedValue = Boolean(valueToConvert);\n            break;\n            case \"date\":\n                let newDate = new Date(valueToConvert);\n\n                convertedValue = newDate;\n\n                /* convertedValue = newDate.getTime(); */\n            break;\n            default:\n                \n        }\n\n        return convertedValue;\n    }\n\n    const deepCopy = (inObject) => {\n        let outObject, value, key;\n\n        if (typeof inObject !== \"object\" || inObject == null) {\n            return inObject;\n        }\n\n        outObject = Array.isArray(inObject) ? [] : {};\n\n        for (key in inObject) {\n            value = inObject[key];\n\n            outObject[key] = deepCopy(value);\n        }\n\n        return outObject;\n    }\n\n    const deepParse = (stringToParse) => {\n        let outObject;\n\n        if (typeof stringToParse == \"string\" && isValidJSON(stringToParse)) {\n            outObject = JSON.parse(stringToParse);\n\n            if (outObject !== null && typeof outObject == \"object\") {\n               if (Array.isArray(outObject)) {\n                    outObject.forEach((item, index) => {\n                        outObject[index] = deepParse(item);\n                    });\n                } else {\n                    for (let [key, value] of Object.entries(outObject)) {\n                        outObject[key] = deepParse(value);\n                    }\n                } \n            }\n        } else {\n            outObject = stringToParse;\n        }\n\n        return outObject;\n    }\n\n    const isValidJSON = str => {\n        try {\n            JSON.parse(str);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    /**\n     * Parse takes a string of CSV data and converts it to a 2 dimensional array\n     *\n     * options\n     * - typed - infer types [false]\n     *\n     * @static\n     * @param {string} csv the CSV string to parse\n     * @param {Object} [options] an object containing the options\n     * @param {Function} [reviver] a custom function to modify the values\n     * @returns {Array} a 2 dimensional array of `[entries][values]`\n     */\n     const parseCSV = (csv, options, reviver = v => v) => {\n        const ctx = Object.create(null);\n        ctx.options = options || {};\n        ctx.reviver = reviver;\n        ctx.value = '';\n        ctx.entry = [];\n        ctx.output = [];\n        ctx.col = 1;\n        ctx.row = 1;\n    \n        const lexer = /\"|,|\\r\\n|\\n|\\r|[^\",\\r\\n]+/y;\n        const isNewline = /^(\\r\\n|\\n|\\r)$/;\n    \n        let matches = [];\n        let match = '';\n        let state = 0;\n    \n        while ((matches = lexer.exec(csv)) !== null) {\n            match = matches[0];\n        \n            switch (state) {\n                case 0: // start of entry\n                switch (true) {\n                    case match === '\"':\n                    state = 3;\n                    break;\n                    case match === ',':\n                    state = 0;\n                    valueEnd(ctx);\n                    break;\n                    case isNewline.test(match):\n                    state = 0;\n                    valueEnd(ctx);\n                    entryEnd(ctx);\n                    break;\n                    default:\n                    ctx.value += match;\n                    state = 2;\n                    break;\n                }\n                break;\n                case 2: // un-delimited input\n                switch (true) {\n                    case match === ',':\n                    state = 0;\n                    valueEnd(ctx);\n                    break;\n                    case isNewline.test(match):\n                    state = 0;\n                    valueEnd(ctx);\n                    entryEnd(ctx);\n                    break;\n                    default:\n                    state = 4;\n                    throw Error(`CSVError: Illegal state [row:${ctx.row}, col:${ctx.col}]`);\n                }\n                break;\n                case 3: // delimited input\n                switch (true) {\n                    case match === '\"':\n                    state = 4;\n                    break;\n                    default:\n                    state = 3;\n                    ctx.value += match;\n                    break;\n                }\n                break;\n                case 4: // escaped or closing delimiter\n                switch (true) {\n                    case match === '\"':\n                    state = 3;\n                    ctx.value += match;\n                    break;\n                    case match === ',':\n                    state = 0;\n                    valueEnd(ctx);\n                    break;\n                    case isNewline.test(match):\n                    state = 0;\n                    valueEnd(ctx);\n                    entryEnd(ctx);\n                    break;\n                    default:\n                    throw Error(`CSVError: Illegal state [row:${ctx.row}, col:${ctx.col}]`);\n                }\n                break;\n                default:\n                    throw Error(`CSVError: Illegal state [row:${ctx.row}, col:${ctx.col}]`);\n            }\n        }\n    \n        // flush the last value\n        if (ctx.entry.length !== 0) {\n            valueEnd(ctx);\n            entryEnd(ctx);\n        }\n    \n        return ctx.output;\n    }\n\n    const valueEnd = (ctx) => {\n        const value = ctx.options.typed ? inferType(ctx.value) : ctx.value;\n        ctx.entry.push(ctx.reviver(value, ctx.row, ctx.col));\n        ctx.value = '';\n        ctx.col++;\n    }\n    \n    const entryEnd = (ctx) => {\n        ctx.output.push(ctx.entry);\n        ctx.entry = [];\n        ctx.row++;\n        ctx.col = 1;\n    }\n\n    const inferType = (value) => {\n        const isNumber = /.\\./;\n    \n        switch (true) {\n        case value === 'true':\n        case value === 'false':\n            return value === 'true';\n        case isNumber.test(value):\n            return parseFloat(value);\n        case isFinite(value):\n            return parseInt(value);\n        default:\n            return value;\n        }\n    }\n\n    return {\n        DataSources: _DataSources,\n        init: init,\n        expression: expression,\n    }\n})();\n\nexport default FcmBd;","import React, { useState, useRef, useEffect, useLayoutEffect } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport FcmBd from './dataSource/FcmBd';\nimport * as htmlToImage from 'html-to-image';\nimport { PlayIcon, ViewGridAddIcon, PencilIcon } from '@heroicons/react/outline'\nimport { gsap } from \"gsap\";\nimport ContentEditable from \"react-contenteditable\";\n\nimport { saveAs } from 'file-saver';\n\nconst PL_DATA = [\n    { img: \"https://images.unsplash.com/photo-1517054612019-1bf855127c43?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80\", title: \"Yosemite\", titleColor: \"#a54a5e\", category: \"Parc national\", desc: \"Le parc national de Yosemite se trouve dans les montagnes de la Sierra Nevada, en Californie.\", desc2: \"Il est renommé pour ses séquoias géants centenaires et pour Tunnel View, point de vue emblématique sur la chute vertigineuse du Voile de la Mariée, et les falaises granitiques d'El Capitan et du Half Dome.\" },\n    { img: \"https://images.unsplash.com/photo-1604542246637-7994c14147bd?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1964&q=80\", title: \"Sequoia\", titleColor: \"#86836c\", category: \"Parc national\", desc: \"Le parc national de Sequoia se trouve dans les montagnes du sud de la Sierra Nevada, en Californie.\", desc2: \"Il est connu pour ses énormes séquoias, notamment le General Sherman qui domine la Giant Forest.\" },\n    { img: \"https://images.unsplash.com/photo-1598382569575-b13e69afc96c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1974&q=80\", title: \"La vallée de la Mort\", titleColor: \"#c7a685\", category: \"Parc national\", desc: \"Le parc national de la vallée de la Mort chevauche la frontière entre l'est de la Californie et le Nevada.\", desc2: \"Il est notamment connu pour le Titus Canyon, qui comprend une ville fantôme et des formations rocheuses colorées, ainsi que pour les salines du bassin de Badwater, le point le plus bas de l'Amérique du Nord.\" },\n    { img: \"https://images.unsplash.com/photo-1516302350523-4c29d47b89e0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\", title: \"Grand Canyon\", titleColor: \"#c27351\", category: \"Parc national\", desc: \"Le Grand Canyon, situé en Arizona, est une formation naturelle caractérisée par des couches de roche rouge visibles sur ses versants, révélant des millions d'années d'histoire géologique dans une coupe transversale.\", desc2: \"Le canyon, extrêmement imposant, s'étend sur environ 16 km de largeur et 446 km de longueur, avec une profondeur moyenne de 1 600 m.\" },\n    { img: \"https://images.unsplash.com/photo-1529439322271-42931c09bce1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\", title: \"Yellowstone\", titleColor: \"#ffb106\", category: \"Parc national\", desc: \"Le parc national de Yellowstone est une zone de loisirs sauvage d'environ 9000 km² surplombant un site géothermique volcanique.\", desc2: \"Principalement situé dans le Wyoming, le parc s'étend également sur des parties du Montana et de l'Idaho.\" }\n]\n\nconst CreationFromDataTool = ({ isHidden }) => {\n\n    const [playingPreview, setPlayingPreview] = useState(false);\n\n    const [thumbPreviewWidth, setThumbPreviewWidth] = useState(0);\n    const thumbPreview = useRef();\n\n    const [plData, setPlData] = useState(PL_DATA);\n\n    const [textZoneWidth, setTextZoneWidth] = useState(40);\n    const defaultEditingInput = { input: \"\", idx: -1 };\n    const [editingInput, setEditingInput] = useState(defaultEditingInput);\n\n    const titleRef = useRef();\n    const imgRef = useRef();\n\n    const [tl, setTl] = useState(null);\n\n    const handlePlayingPreview = (e, play) => {\n        e.preventDefault();\n        \n        setPlayingPreview(play);\n    }\n\n    useEffect(() => {\n        if (!isHidden) {\n\n        }\n    }, [isHidden]);\n\n    useEffect(() => {\n\n        if (playingPreview === true) {\n\n            if (tl === null) {\n                const tlNew = gsap.timeline()\n\n                const defaultLayer1In = { \n                    from: { opacity: 1, yPercent: 100, rotation:0.01 }, \n                    to: { opacity: 1, yPercent: 0, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                };\n\n                const defaultLayer2In = { \n                    from: { opacity: 1, yPercent: -100, rotation:0.01 }, \n                    to: { opacity: 1, yPercent: 0, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                };\n\n                const defaultLayer1Out = { yPercent: -100, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 };\n                const defaultLayer2Out = { opacity: 1, yPercent: 100, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 };\n\n                const defaultAnim = {\n                    layer1In : defaultLayer1In,\n                    layer2In : defaultLayer2In,\n                    layer1Out : defaultLayer1Out,\n                    layer2Out : defaultLayer2Out,\n                }\n\n                const anim1 = {\n                    layer1In : defaultLayer1In,\n                    layer2In : defaultLayer2In,\n                    layer1Out : { width: \"200%\", xPercent: 50, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                    layer2Out : { opacity: 1, xPercent: 100 - textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                }\n\n                const anim2 = {\n                    layer1In : { \n                        from: { opacity: 1, xPercent: -100 + textZoneWidth, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer2In : { \n                        from: { opacity: 1, xPercent: -100, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: -100 + textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer1Out : defaultLayer2Out,\n                    layer2Out : defaultLayer1Out,\n                }\n\n                const anim3 = {\n                    layer1In : defaultLayer1In,\n                    layer2In : defaultLayer2In,\n                    layer1Out : { width: \"95%\", xPercent: -10, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                    layer2Out : { opacity: 1, xPercent: -textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                }\n\n                const anim4 = {\n                    layer1In : { \n                        from: { opacity: 1, xPercent: 100 - textZoneWidth, width: `${(100 - textZoneWidth) * 4}%`, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: 0, width: `100%`, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer2In : { \n                        from: { opacity: 1, xPercent: 100, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: 0, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer1Out : { width: \"110%\", xPercent: 25, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                    layer2Out : { opacity: 1, xPercent: 100 - textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0.01 },\n                }\n\n                const anim5 = {\n                    layer1In : { \n                        from: { opacity: 1, xPercent: -100 + textZoneWidth, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer2In : { \n                        from: { opacity: 1, xPercent: -100, rotation:0.01 }, \n                        to: { opacity: 1, xPercent: -100 + textZoneWidth, duration: 2, ease: \"power3.inOut\", force3d: true, rotation: 0 } \n                    },\n                    layer1Out : defaultLayer2Out,\n                    layer2Out : defaultLayer1Out,\n                }\n\n                const animations = [\n                    anim1,\n                    anim2,\n                    anim3,\n                    anim4,\n                    anim5\n                    \n                    \n                ]\n\n                plData.forEach((slide, slideIdx) => {\n                    tlNew.fromTo(`#slide-${slideIdx+1} #layer-1`, animations[slideIdx].layer1In.from, animations[slideIdx].layer1In.to, `slide-${slideIdx+1}-in`/* , slideIdx * 5 */)\n                    tlNew.fromTo(`#slide-${slideIdx+1} #layer-2`, animations[slideIdx].layer2In.from, animations[slideIdx].layer2In.to, `slide-${slideIdx+1}-in`/* , slideIdx * 5 */)\n                    tlNew.fromTo(`#slide-${slideIdx+1} #layer-2 #progress`, { width: \"0%\" }, { width: \"30%\", ease: \"linear\", duration: 7, force3d: true }, `slide-${slideIdx+1}-in`/* , slideIdx * 5 + 1 */)\n\n                    if (slideIdx + 1 < plData.length) {\n                        tlNew.to(`#slide-${slideIdx+1} #layer-1`, animations[slideIdx].layer1Out, `slide-${slideIdx+2}-in`/* , (slideIdx + 1) * 5 */)\n                        tlNew.to(`#slide-${slideIdx+1} #layer-2`, animations[slideIdx].layer2Out, `slide-${slideIdx+2}-in`/* , (slideIdx + 1) * 5 */)\n                    }\n                    \n                });\n\n                setTl(tlNew);\n            } else {\n                tl.restart();\n            }\n\n            setPlayingPreview(false);\n        }\n        \n    }, [playingPreview]);\n\n    useEffect(() => {\n        if (thumbPreview.current) {\n           setThumbPreviewWidth(thumbPreview.current.offsetWidth);\n        }\n    }, [thumbPreview]);\n\n    \n    \n    const getComputedPixelSize = (pixel) => {\n        let computedPixelSize = 0;\n        let currentThumbPreviewWidth = thumbPreviewWidth;\n\n        if (thumbPreviewWidth === 0 || (thumbPreview.current && thumbPreview.current.offsetWidth !== thumbPreviewWidth)) {\n            currentThumbPreviewWidth = thumbPreview.current.offsetWidth;\n            setThumbPreviewWidth(currentThumbPreviewWidth);\n        }\n\n        computedPixelSize = currentThumbPreviewWidth / 1920 * pixel;\n\n        return computedPixelSize;\n    }\n\n    const handleSaveAsImage = async () => {\n\n        let container = document.createElement(\"div\");\n        container.classList.add(\"overflow-hidden\");\n        container.classList.add(\"fixed\");\n\n        let preview = document.createElement(\"div\");\n\n        let html = renderScreenShot()\n\n        preview.innerHTML = ReactDOMServer.renderToStaticMarkup(html);\n\n        document.body.appendChild(container);\n\n        container.appendChild(preview);\n\n        let blob = await htmlToImage.toBlob(preview);\n\n        saveAs(blob, \"thumb.png\");\n        document.body.removeChild(container);\n    }\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n        }\n    }\n\n    const renderScreenShot = () => {\n        /* return <div className=\"aspect-w-16 aspect-h-9 bg-gray-50 overflow-hidden\" style={{ width: \"1920px\", height: \"1080px\" }} ref={thumbPreview}>\n\n        </div> */\n    }\n\n    const handleChangeText = (input, value, index) => {\n        let newPlData = [...plData];\n        \n        newPlData[index][input] = value;\n\n        setPlData(newPlData);\n    }\n\n\n    return (\n        <div className={`min-h-screen flex-col items-start justify-start bg-gray-900 py-20 lg:py-12 px-4 sm:px-6 lg:px-52 space-y-10 lg:space-y-8 ${isHidden ? 'hidden' : 'flex'}`}>\n            <div className=\"w-full flex space-y-4 lg:space-y-0 flex-col lg:flex-row items-center lg:justify-between\">\n                <h2 className=\"ml-2 text-left text-3xl font-extrabold text-white select-none\">Création à partir de données</h2>\n                <div className=\"flex flex-row space-x-4 h-full items-center\">\n                    <PlayIcon onClick={event => handlePlayingPreview(event, true)} className=\"text-blue-600 hover:text-blue-500 cursor-pointer h-7 w-7\" />\n                </div>\n            </div>\n            <div className=\"lg:px-28 w-full pointer-events-none\">\n                {!isHidden && <div className=\"w-full overflow-hidden rounded-md shadow\"><div className=\"w-full aspect-w-16 aspect-h-9 bg-white overflow-hidden\" ref={thumbPreview}>\n                    <div className=\"overflow-hidden\">{/* <img src={\"https://images.unsplash.com/photo-1588345921523-c2dcdb7f1dcd?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2070&q=80\"} alt=\"ThumbBg\" onLoad={event => {handlePlayingPreview(event, true) }} onAnimationStart={event => handlePlayingPreview(event, true)} onAnimationEnd={event => handlePlayingPreview(event, false)} className={`select-none rounded-md w-full h-full object-center object-cover`} /> */}</div>\n\n                        {thumbPreview.current && thumbPreviewWidth > 0 && \n\n                        plData.map((slide, slideIdx) => {\n                            return <Slide id={`slide-${slideIdx + 1}`}>\n                                \n                                <Layer id={`layer-1`}>\n                                    <Img src={slide.img} alt={slide.title} id={`img-1`} />\n                                    {/* <div className=\"pointer-events-none bg-white h-full w-1/2 overflow-hidden\">\n                                        <img src={slide.img} alt=\"Yosemite\" className={`select-none w-full h-full object-center object-cover`} />\n                                    </div> */}\n                                </Layer>\n\n                                <Layer id={`layer-2`} className=\"justify-end\">\n                                    <div className=\"flex pointer-events-none bg-white h-full w-2/5 items-center\" style={{ padding: `${getComputedPixelSize(36)}px`}}>\n                                        <div className=\"pointer-events-none\" style={{ padding: `${getComputedPixelSize(36)}px`}} >\n                                            <Text id={`text-1`} editingInput={editingInput.input === 'category' && editingInput.idx === slideIdx}>\n                                                <ContentEditable\n                                                    tagName=\"span\"\n                                                    html={slide.category}\n                                                    className=\"focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:ring-offset-4 font-bold uppercase tracking-widest max-w-full break-normal whitespace-normal\"\n                                                    style={{ fontSize: `${getComputedPixelSize(32)}px` }}\n                                                    onPaste={(e) => {\n                                                        e.preventDefault();\n                                                        const text = e.clipboardData.getData(\"text\");\n                                                        Document.execCommand(\"insertText\", false, text);\n                                                    }}\n                                                    disabled={playingPreview}\n                                                    onFocus={() => { setEditingInput({ input: 'category', idx: slideIdx }) }}\n                                                    onBlur={() => { setEditingInput(defaultEditingInput) }}\n                                                    onChange={(e) => {\n                                                        const html = e.target.value;\n                                                        handleChangeText('category', html, slideIdx);\n                                                    }}\n                                                />\n                                            </Text>\n                                            <Text id={`text-2`} editingInput={editingInput.input === 'title' && editingInput.idx === slideIdx}>\n                                                {/* <h1 contentEditable={true} className=\"focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-bold mt-3 max-w-full break-normal whitespace-normal\" style={{ fontSize: `${getComputedPixelSize(104)}px`, lineHeight: `${getComputedPixelSize(110)}px`, color: slide.titleColor }} >{slide.title}</h1> */}\n                                                <ContentEditable\n                                                    tagName=\"h1\"\n                                                    html={slide.title}\n                                                    className=\"focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-bold mt-2 max-w-full break-normal whitespace-normal\" \n                                                    style={{ fontSize: `${getComputedPixelSize(104)}px`, lineHeight: `${getComputedPixelSize(117)}px`, color: slide.titleColor }}\n                                                    onPaste={(e) => {\n                                                        e.preventDefault();\n                                                        const text = e.clipboardData.getData(\"text\");\n                                                        Document.execCommand(\"insertText\", false, text);\n                                                    }}\n                                                    disabled={playingPreview}\n                                                    onFocus={() => { setEditingInput({ input: 'title', idx: slideIdx }) }}\n                                                    onBlur={() => { setEditingInput(defaultEditingInput) }}\n                                                    onChange={(e) => {\n                                                        const html = e.target.value;\n                                                        handleChangeText('title', html, slideIdx);\n                                                    }}\n                                                />\n                                            </Text>\n                                            <Text id={`text-3`} editingInput={editingInput.input === 'desc' && editingInput.idx === slideIdx}>\n                                                {/* <p contentEditable={true} className=\"focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-1 mt-3 max-w-full break-normal whitespace-normal\" style={{ fontSize: `${getComputedPixelSize(35)}px` }}>{slide.desc}</p> */}\n                                                <ContentEditable\n                                                    tagName=\"p\"\n                                                    html={slide.desc}\n                                                    className=\"focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-1 mt-2 max-w-full break-normal whitespace-normal\" \n                                                    style={{ fontSize: `${getComputedPixelSize(35)}px` }}\n                                                    onPaste={(e) => {\n                                                        e.preventDefault();\n                                                        const text = e.clipboardData.getData(\"text\");\n                                                        Document.execCommand(\"insertText\", false, text);\n                                                    }}\n                                                    disabled={playingPreview}\n                                                    onFocus={() => { setEditingInput({ input: 'desc', idx: slideIdx }) }}\n                                                    onBlur={() => { setEditingInput(defaultEditingInput) }}\n                                                    onChange={(e) => {\n                                                        const html = e.target.value;\n                                                        handleChangeText('desc', html, slideIdx);\n                                                    }}\n                                                />\n                                            </Text>\n                                            <div id=\"progress\" class=\"w-3/4 h-1 mt-6\" style={{ backgroundColor: slide.titleColor }}></div>\n                                        </div>\n                                    </div>\n                                </Layer>\n\n                            </Slide>\n                        })\n                        \n                        }\n\n                    </div>\n                </div>}\n            </div>\n        </div>\n    );\n}\n\nconst Slide = ({ children, id }) => {\n    return <div id={id} className=\"pointer-events-none h-full w-full\">\n        {children}\n    </div>\n}\n\nconst Layer = ({ children, id, className }) => {\n    return <div id={id} className={\"pointer-events-none flex h-full w-full absolute \" + className}>\n        {children}\n    </div>\n}\n\nconst Zone = ({ children, id }) => {\n    return <div id={id} className=\"pointer-events-none flex h-full w-full items-center justify-start\">\n        {children}\n    </div>\n}\n\nconst Img = props => {\n\n    // UI LOGIC STATES\n    const [isLoading, setIsLoading] = useState(true);\n    const [isMouseOver, setIsMouseOver] = useState(false);\n\n    const { id } = props;\n\n    const handleSwitchImg = (e) => {\n        e.preventDefault();\n        const { target } = e;\n    \n    };\n\n    return <div id={id} onMouseOver={() => setIsMouseOver(true)} onMouseLeave={() => setIsMouseOver(false)} className={`relative pointer-events-auto bg-white h-full w-3/5 overflow-hidden ${props.className && props.className}`}>\n        {isLoading && <div className=\"flex w-full h-full items-center justify-center\"><LoadingSpinner className=\"h-6 w-6 text-blue-600\" /></div>}\n        <img onLoad={() => setIsLoading(false)} src={props.src} alt={props.alt} className={`select-none w-full h-full object-center object-cover bg-white ${props.imgClassName && props.imgClassName}`} />\n        {isMouseOver && <div className=\"absolute top-0 left-0 w-full h-full flex flex-row items-center justify-center bg-gray-800 bg-opacity-30\"><ViewGridAddIcon onClick={event => handleSwitchImg(event)} className=\"text-white hover:text-white cursor-pointer h-12 w-12\" /></div>}\n    </div>\n}\n\nconst Text = props => {\n\n    // UI LOGIC STATES\n    const [isMouseOver, setIsMouseOver] = useState(false);\n\n    const { id } = props;\n\n    const handleChangeText = (e) => {\n        e.preventDefault();\n        const { target } = e;\n    \n    };\n\n    return <div id={id} onMouseOver={() => setIsMouseOver(true)} onMouseLeave={() => setIsMouseOver(false)} className={`relative pointer-events-auto ${props.className && props.className} ${isMouseOver && \"\"}`}>\n        {(isMouseOver || props.editingInput) && <div className=\"pointer-events-none absolute top-0 left-0 w-full h-full flex flex-row items-center justify-center rounded-sm ring-1 ring-blue-500 ring-offset-2\"></div>}\n        {props.children}\n        {isMouseOver && !props.editingInput && <div className=\"pointer-events-none absolute -top-0.5 -right-0.5 flex flex-row items-center justify-center rounded-sm \">\n            <div className=\"pointer-events-none p-1 bg-blue-500 rounded-tr-sm rounded-bl\">\n                <PencilIcon /* onClick={event => handleChangeText(event)} */ className=\"pointer-events-none text-white hover:text-white cursor-pointer h-4 w-4\" />\n            </div>\n        </div>}\n    </div>\n}\n\nconst LoadingSpinner = ({ className }) => {\n    return (\n      <svg className={`animate-spin ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n      </svg>\n    );\n  }\n\n  function InlineEdit(props) {\n    const [isInputActive, setIsInputActive] = useState(false);\n    const [inputValue, setInputValue] = useState(props.text);\n    const wrapperRef = useRef(null);\n    const textRef = useRef(null);\n    const inputRef = useRef(null);\n    const enter = useKeyPress(\"Enter\");\n    const esc = useKeyPress(\"Escape\");\n    // check to see if the user clicked outside of this component\n    useOnClickOutside(wrapperRef, () => {\n      if (isInputActive) {\n        props.onSetText(inputValue);\n        setIsInputActive(false);\n      }\n    });\n    // focus the cursor in the input field on edit start\n    useEffect(() => {\n      if (isInputActive) {\n        inputRef.current.focus();\n      }\n    }, [isInputActive]);\n    useEffect(() => {\n      if (isInputActive) {\n        // if Enter is pressed, save the text and case the editor\n        if (enter) {\n          props.onSetText(inputValue);\n          setIsInputActive(false);\n        }\n        // if Escape is pressed, revert the text and close the editor\n        if (esc) {\n          setInputValue(props.text);\n          setIsInputActive(false);\n        }\n      }\n    }, [enter, esc]); // watch the Enter and Escape key presses\n    return (\n      <span className=\"inline-text\" ref={wrapperRef}>\n        <span\n          ref={textRef}\n          onClick={() => setIsInputActive(true)}\n          className={`inline-text_copy inline-text_copy--${\n            !isInputActive ? \"active\" : \"hidden\"\n          }`}\n        >\n          {props.text}\n        </span>\n        <input\n          ref={inputRef}\n          // set the width to the input length multiplied by the x height\n          // it's not quite right but gets it close\n          /* style={{ width: Math.ceil(inputValue.length * 0.9) + \"ex\" }} */\n          value={inputValue}\n          onChange={e => {\n            setInputValue(e.target.value);\n          }}\n          className={`inline-text_input inline-text_input--${\n            isInputActive ? \"active\" : \"hidden\"\n          }`}\n        />\n      </span>\n    );\n  }\n\n  function useKeyPress(targetKey) {\n    // State for keeping track of whether key is pressed\n    const [keyPressed, setKeyPressed] = useState(false);\n    // If pressed key is our target key then set to true\n    function downHandler({ key }) {\n      if (key === targetKey) {\n        setKeyPressed(true);\n      }\n    }\n    // If released key is our target key then set to false\n    const upHandler = ({ key }) => {\n      if (key === targetKey) {\n        setKeyPressed(false);\n      }\n    };\n    // Add event listeners\n    useEffect(() => {\n      window.addEventListener(\"keydown\", downHandler);\n      window.addEventListener(\"keyup\", upHandler);\n      // Remove event listeners on cleanup\n      return () => {\n        window.removeEventListener(\"keydown\", downHandler);\n        window.removeEventListener(\"keyup\", upHandler);\n      };\n    }, []); // Empty array ensures that effect is only run on mount and unmount\n    return keyPressed;\n  }\n\n  function useOnClickOutside(ref, handler) {\n    useEffect(\n      () => {\n        const listener = (event) => {\n          // Do nothing if clicking ref's element or descendent elements\n          if (!ref.current || ref.current.contains(event.target)) {\n            return;\n          }\n          handler(event);\n        };\n        document.addEventListener(\"mousedown\", listener);\n        document.addEventListener(\"touchstart\", listener);\n        return () => {\n          document.removeEventListener(\"mousedown\", listener);\n          document.removeEventListener(\"touchstart\", listener);\n        };\n      },\n      // Add ref and handler to effect dependencies\n      // It's worth noting that because passed in handler is a new ...\n      // ... function on every render that will cause this effect ...\n      // ... callback/cleanup to run every render. It's not a big deal ...\n      // ... but to optimize you can wrap handler in useCallback before ...\n      // ... passing it into this hook.\n      [ref, handler]\n    );\n  }\n\n\n/* <Layer>\n\n    <div className=\"pointer-events-none bg-white h-full w-full overflow-hidden\">\n        <img src={\"https://images.unsplash.com/photo-1517054612019-1bf855127c43?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80\"} alt=\"Yosemite\" className={`select-none w-full h-full object-center object-cover`} ref={imgRef} />\n    </div>\n    \n    <div className=\"flex pointer-events-none bg-white h-full w-full items-center\" style={{ padding: `${getComputedPixelSize(36)}px`}} ref={titleRef}>\n        <div className=\"pointer-events-none\" style={{ padding: `${getComputedPixelSize(36)}px`}} >\n            <span class=\"font-bold uppercase tracking-widest\" style={{ fontSize: `${getComputedPixelSize(32)}px` }}>Parc national</span>\n            <h1 class=\"text-3xl lg:text-5xl font-bold text-yellow-600 mt-3\" style={{ fontSize: `${getComputedPixelSize(108)}px` }} >\n                Yosemite\n            </h1>\n            <p class=\"mb-1 mt-3\" style={{ fontSize: `${getComputedPixelSize(35)}px` }}>Le parc national de Yosemite se trouve dans les montagnes de la Sierra Nevada, en Californie.</p>\n        </div>\n    </div>\n    \n</Layer> */\n\nexport default CreationFromDataTool;","import React, { useState, useRef, useEffect } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport FcmBd from '../dataSource/FcmBd';\nimport * as htmlToImage from 'html-to-image';\nimport { CameraIcon } from '@heroicons/react/outline'\n\nimport { saveAs } from 'file-saver';\n\nconst BIRTHDAY_IMG_BACKGROUNDS = [\n    { img: \"https://images.unsplash.com/photo-1523755130311-9eadea3a0861?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"gray-900\", textShadow: \"0 0px 2px rgba(255,255,255,0.70)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1523757956233-94a86ff74ea5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"gray-900\", textShadow: \"0 0px 2px rgba(255,255,255,0.70)\", maxNameCol: 3 },\n    { img: \"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80\", textColor: \"gray-900\", textShadow: \"0 0px 2px rgba(255,255,255,0.70)\", maxNameCol: 3},\n    { img: \"https://images.unsplash.com/photo-1513151233558-d860c5398176?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3500&q=80\", textColor: \"white\", textShadow: \"0px 0px 2px rgba(0,0,0,0.9)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1559456751-057ed03f3143?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=5000&q=80\", textColor: \"white\", textShadow: \"0px 0px 2px rgba(0,0,0,0.9)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=6400&q=80\", textColor: \"white\", textShadow: \"0px 0px 2px rgba(0,0,0,0.9)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1519306980079-d14db7cebf33?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80\", textColor: \"white\", textShadow: \"0px 0px 2px rgba(0,0,0,0.9)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1498673394965-85cb14905c89?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"white\", textShadow: \"0px 0px 2px rgba(0,0,0,0.9)\", maxNameCol: 6 }\n];\n\n/* { img: \"https://images.unsplash.com/photo-1523755130311-9eadea3a0861?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"gray-900\", textShadow: \"0 0px 2px rgba(255,255,255,0.40), 0 0px 15px rgba(255,255,255,0.15)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1523757956233-94a86ff74ea5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"gray-900\", textShadow: \"0 0px 2px rgba(255,255,255,0.40), 0 0px 15px rgba(255,255,255,0.15)\", maxNameCol: 3 },\n    { img: \"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 3},\n    { img: \"https://images.unsplash.com/photo-1513151233558-d860c5398176?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3500&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1559456751-057ed03f3143?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=5000&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=6400&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1519306980079-d14db7cebf33?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 6 },\n    { img: \"https://images.unsplash.com/photo-1498673394965-85cb14905c89?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80\", textColor: \"white\", textShadow: \"0 0px 2px rgba(0,0,0,0.40), 0 0px 15px rgba(0,0,0,0.15)\", maxNameCol: 6 } */\n\nconst BIRTHDAY_TITLES = [\n    \"Joyeux anniversaire!\",\n    \"Bonne fête!\",\n    \"Bon anniversaire!\",\n    \"Nos fêtés de la journée!\"\n];\n\nconst BirthdayTool = ({ isHidden }) => {\n\n    const [date, setDate] = useState(\"2021-09-20\");\n    const [birthdays, setBirthdays] = useState([]);\n    const [bgImgIdx, setBgImgIdx] = useState(0);\n    const [titleIdx, setTitleIdx] = useState(0);\n\n    const [playingPreview, setPlayingPreview] = useState(true);\n\n    const [thumbPreviewWidth, setThumbPreviewWidth] = useState(0);\n    const thumbPreview = useRef();\n\n    const handleLoadBirthdays = () => {\n        let query = { \n            select: {\n                nom: 1,\n                prenom: 1,\n                date: 1,\n            }, \n            from: 'Fetes',\n            where: { \"date\": { \"$sameMonthAndDay\": date }},\n            orderBy: [{ nom: 1 }, { prenom: 1 }]\n        };\n\n        console.log(FcmBd.DataSources.find('TestData'));\n\n        FcmBd.DataSources.query('TestData', false, query).then(results => {\n            incrBgImgIdx();\n            setPlayingPreview(false);\n            setBirthdays(results.data);\n        });\n    }\n\n    const incrBgImgIdx = () => {\n        let newBgImgIdx = bgImgIdx + 1;\n        let newTitleIdx = titleIdx + 1;\n\n        if (BIRTHDAY_IMG_BACKGROUNDS.length > newBgImgIdx) {\n            setBgImgIdx(newBgImgIdx);\n        } else {\n            setBgImgIdx(0);\n        }\n\n        if (BIRTHDAY_TITLES.length > newTitleIdx) {\n            setTitleIdx(newTitleIdx);\n        } else {\n            setTitleIdx(0);\n        }\n    }\n\n    const handlePlayingPreview = (e, play) => {\n        e.preventDefault();\n\n        if (!play) {\n            incrBgImgIdx();\n        }\n        \n        setPlayingPreview(play);\n    }\n\n    useEffect(() => {\n        if (!isHidden) {\n            let query = { \n                select: {\n                    nom: 1,\n                    prenom: 1,\n                    date: 1,\n                }, \n                from: 'Fetes',\n                where: { \"date\": { \"$sameMonthAndDay\": date }},\n                orderBy: [{ nom: 1 }, { prenom: 1 }]\n            };\n    \n            FcmBd.DataSources.query('TestData', false, query).then(results => {\n                setBirthdays(results.data);\n            });\n\n            /* FcmBd.DataSources.executeStoredQuery(\"HoraireSimonsEquipeA\").then(results => {\n                console.log('FcmBd.DataSources.executeStoredQuery(\"HoraireSimonsEquipeA\")', results);\n            }) */\n        }\n    }, [isHidden]);\n\n    useEffect(() => {\n        if (thumbPreview.current) {\n           setThumbPreviewWidth(thumbPreview.current.offsetWidth); \n        }\n    }, [thumbPreview]);\n    \n    const getComputedPixelSize = (pixel) => {\n        let computedPixelSize = 0;\n        let currentThumbPreviewWidth = thumbPreviewWidth;\n\n        if (thumbPreviewWidth === 0 || (thumbPreview.current && thumbPreview.current.offsetWidth !== thumbPreviewWidth)) {\n            currentThumbPreviewWidth = thumbPreview.current.offsetWidth;\n            setThumbPreviewWidth(currentThumbPreviewWidth);\n        }\n\n        computedPixelSize = currentThumbPreviewWidth / 1920 * pixel;\n\n        return computedPixelSize;\n    }\n\n    const handleSaveAsImage = async () => {\n\n        let container = document.createElement(\"div\");\n        container.classList.add(\"overflow-hidden\");\n        container.classList.add(\"fixed\");\n\n        let preview = document.createElement(\"div\");\n\n        let html = renderScreenShot()\n\n        preview.innerHTML = ReactDOMServer.renderToStaticMarkup(html);\n\n        document.body.appendChild(container);\n\n        container.appendChild(preview);\n\n        /* htmlToImage.toPng(preview)\n        .then(function (dataUrl) {\n\n            let link = document.createElement(\"a\");\n            link.download = \"thumb.png\";\n            link.href = dataUrl;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n\n            document.body.removeChild(container);\n        })\n        .catch(function (error) {\n            console.error('oops, something went wrong!', error);\n        }); */\n\n        let blob = await htmlToImage.toBlob(preview);\n\n        saveAs(blob, \"thumb.png\");\n        document.body.removeChild(container);\n\n        /* htmlToImage.toBlob(preview)\n        .then(function (blob) {\n\n            let url = URL.createObjectURL(blob);\n\n            let link = document.createElement(\"a\");\n            link.download = \"thumb.png\";\n            link.href = url;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n\n            document.body.removeChild(container);\n        }); */\n    }\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            handleLoadBirthdays();\n        }\n    }\n\n    const renderScreenShot = () => {\n        return <div className=\"aspect-w-16 aspect-h-9 bg-gray-50 overflow-hidden\" style={{ width: \"1920px\", height: \"1080px\" }} ref={thumbPreview}>\n        <div className=\"overflow-hidden\"><img src={BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].img} alt=\"ThumbBg\" className={`select-none w-full h-full object-center object-cover`} /></div>\n\n            {thumbPreview.current && <div className=\"pointer-events-none flex w-full h-full items-start justify-start\" style={{ padding: `48px`}}>\n                <div className=\"flex-col items-center justify-center rounded-lg\"  style={{ padding: `48px 60px`}}>\n                    <h2 className={`text-left w-full font-permanentmarker text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{ textShadow: BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow, fontSize: `108px`, lineHeight: `108px` }}>{BIRTHDAY_TITLES[titleIdx]}</h2>\n                    <div className={`grid grid-rows-${birthdays.length > BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].maxNameCol ? Math.ceil(birthdays.length / 2) : birthdays.length} grid-flow-col`} style={{ marginTop: `60px`, columnGap: `120px`, rowGap: `36px` }}>\n                        {birthdays.map((birthday, index) => {\n                            return <div key={`nom_${index}`} className={`text-left font-indieflower tracking-widest text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{ textShadow: BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow, fontSize: `66px`, lineHeight: `66px`, letterSpacing: `6px` }}><span className=\"font-bold\">{`${birthday.prenom}`}</span> <span className=\"font-bold\">{`${birthday.nom}`}</span></div>\n                        })}\n                    </div>\n                </div>\n            </div>}\n\n        </div>\n    }\n\n\n    return (\n        <div className={`min-h-screen flex-col items-start justify-start bg-gray-50 py-20 lg:py-12 px-4 sm:px-6 lg:px-52 space-y-10 lg:space-y-8 ${isHidden ? 'hidden' : 'flex'}`}>\n            <div className=\"w-full flex space-y-4 lg:space-y-0 flex-col lg:flex-row items-center lg:justify-between\">\n                <h2 className=\"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none\">Fêtes automatisées</h2>\n                <div className=\"flex flex-row space-x-4 h-full items-center\">\n                    <input id=\"date\" type=\"date\" value={date} onKeyDown={handleKeyDown} onChange={event => setDate(event.target.value)} /* onBlur={handleLoadBirthdays} */  className=\"h-8 form-input appearance-none rounded-none relative block max-h-20 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\" />\n                    <CameraIcon onClick={handleSaveAsImage} className=\"text-blue-600 hover:text-blue-500 cursor-pointer h-7 w-7\"/>\n                </div>\n            </div>\n            <div className=\"lg:px-28 w-full\">\n                {!isHidden && <div className=\"w-full overflow-hidden rounded-md shadow\"><div className=\"w-full aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden\" ref={thumbPreview}>\n                    <div className=\"overflow-hidden\"><img src={BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].img} alt=\"ThumbBg\" onLoad={event => {handlePlayingPreview(event, true) }} onAnimationStart={event => handlePlayingPreview(event, true)} onAnimationEnd={event => handlePlayingPreview(event, false)} className={`${playingPreview ? 'zoom-in-zoom-out' : 'zoom-ended'} select-none rounded-md w-full h-full object-center object-cover`} /></div>\n                    {/* <div className=\"overflow-hidden\"><video crossorigin=\"anonymous\"  muted=\"true\" autoplay=\"true\" loop=\"true\" src={\"http://dev.medias.netsign.tv/videos/154753_1.mp4#t=0,20\"} alt=\"ThumbBg\" className={`select-none rounded-md w-full h-full object-center object-cover`} /></div> */}\n                    {/* <div className=\"pointer-events-none flex w-full h-full items-start justify-center\">\n                        <h2 className=\"mt-20 text-left text-5xl font-indieflower font-extrabold text-white select-none\">Joyeux anniversaire!</h2>\n                    </div>\n                    <div className=\"pointer-events-none flex w-full h-full items-center justify-center\">\n                        <div className={`grid grid-rows-${birthdays.length > 5 ? Math.ceil(birthdays.length / 2) : birthdays.length} grid-flow-col gap-y-10 gap-x-20`}>\n                            {birthdays.map((birthday, index) => {\n                                return <div className=\"text-center text-3xl text-white select-none font-bold\">{`${birthday.prenom} ${birthday.nom}`}</div>\n                            })}\n                        </div>\n                    </div> */}\n\n                    {/* <div className=\"pointer-events-none flex w-full h-full items-start justify-start p-8\">\n                            <div className=\"flex-col items-center justify-center pt-10 pb-12 px-10 space-y-10 rounded-lg\">\n                                <h2 className=\"text-center rounded-lg w-full white-glassmorphism text-5xl font-permanentmarker text-white select-none\" style={{\"textShadow\": \"0 0px 2px rgba(0,0,0,0.20), 0 0px 15px rgba(0,0,0,0.15)\"}}>Joyeux anniversaire!</h2>\n                                <div className={`grid rounded-lg white-glassmorphism max-w-max grid-rows-${birthdays.length > 3 ? Math.ceil(birthdays.length / 2) : birthdays.length} grid-flow-col gap-y-4 gap-x-20`}>\n                                    {birthdays.map((birthday, index) => {\n                                        return <div><p className=\"text-left text-3xl font-indieflower text-white select-none font-extrabold\" style={{\"textShadow\": \"0 0px 2px rgba(0,0,0,0.20), 0 0px 15px rgba(0,0,0,0.15)\"}}>{`${birthday.prenom} ${birthday.nom}`}</p></div>\n                                    })}\n                                </div>\n                            </div>\n                    </div> */}\n\n                    {thumbPreview.current && <div className=\"pointer-events-none flex w-full h-full items-start justify-start\" style={{ padding: `${getComputedPixelSize(48)}px`}}>\n                        <div className=\"flex-col items-center justify-center rounded-lg\"  style={{ padding: `${getComputedPixelSize(48)}px ${getComputedPixelSize(60)}px`}}>\n                            <h2 className={`text-left w-full font-permanentmarker text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{ textShadow: BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow, fontSize: `${getComputedPixelSize(108)}px`, lineHeight: `${getComputedPixelSize(108)}px` }}>{BIRTHDAY_TITLES[titleIdx]}</h2>\n                            <div className={`grid grid-rows-${birthdays.length > BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].maxNameCol ? Math.ceil(birthdays.length / 2) : birthdays.length} grid-flow-col`} style={{ marginTop: `${getComputedPixelSize(60)}px`, columnGap: `${getComputedPixelSize(120)}px`, rowGap: `${getComputedPixelSize(36)}px` }}>\n                                {birthdays.map((birthday, index) => {\n                                    return <div key={`nom_${index}`} className={`text-left font-indieflower text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{ textShadow: BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow, fontSize: `${getComputedPixelSize(66)}px`, lineHeight: `${getComputedPixelSize(66)}px`, letterSpacing: `${getComputedPixelSize(6)}px` }}><span className=\"font-bold\">{`${birthday.prenom}`}</span> <span className=\"font-bold\">{`${birthday.nom}`}</span></div>\n                                })}\n                            </div>\n                        </div>\n                    </div>}\n\n\n                    {/* <div className=\"pointer-events-none flex w-full h-full items-start justify-start p-8\">  \n                        <div className=\"flex-col items-center justify-center space-y-2\">\n                            <h2 className={`text-left white-glassmorphism max-w-max text-6xl py-8 px-10 rounded-lg font-permanentmarker text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{\"textShadow\": BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow }}>Joyeux anniversaire!</h2>\n                            <div className={`grid py-8 px-10 max-w-max white-glassmorphism rounded-lg grid-rows-${birthdays.length > BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].maxNameCol ? BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].maxNameCol : birthdays.length} grid-flow-col gap-y-4 gap-x-20`}>\n                                {birthdays.map((birthday, index) => {\n                                    return <div className={`text-left font-indieflower tracking-widest text-${BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textColor} select-none`} style={{\"textShadow\": BIRTHDAY_IMG_BACKGROUNDS[bgImgIdx].textShadow }}><span className=\"font-bold text-4xl\">{`${birthday.prenom}`}</span> <span className=\"font-bold text-4xl\">{`${birthday.nom}`}</span></div>\n                                })}\n                            </div>\n                        </div>\n                    </div> */}\n                    </div>\n                </div>}\n            </div>\n        </div>\n    );\n}\n\nexport default BirthdayTool;","const dataSourceType = {\n    GOOGLESHEET: \"GOOGLESHEET\",\n    API: \"API\"\n};\n\nconst alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\nconst API_KEY_GOOGLE_SHEET = process.env.REACT_APP_GOOGLE_SHEET_API_KEY;\n\nfunction DataSource() {\n    // CONFIG\n    this.id = 0;\n    this.name = \"\";\n    this.properties = {};\n    this.fetchQuery = \"\";\n    this.type = \"\";\n    this.dataRefreshRate = 60000;\n\n    // STATUS\n    this.valid = false;\n    this.dataLoaded = false;\n\n    // MODEL\n    this.fieldNames = [];\n    this.idFieldName = \"\";\n    this.ressources = [];\n    this.dataSets = [];\n\n    // CONTROLLER\n    this.intervalPopulateDynamicFields = undefined;\n    this.intervalUpdateData = undefined;\n\n    // DATA STORING AND MANAGEMENT\n    this.data = null;\n    this.formatedData = null;\n    this.dataRefIndex = {};\n    this.dynamicFields = [];\n}\n\nDataSource.prototype.load = async function(url) {\n\n    // https://docs.google.com/spreadsheets/d/1gwYEvp4q0Zp2-b1DJcO1k3NoBO-BS5pZa6FwmyiXH1w/edit?usp=sharing\n\n    let promises = [];\n    let promises2 = [];\n\n    // Étape 1 : On détermine le type\n    if (url.indexOf(\"https://docs.google.com/spreadsheets/\") > -1) {\n        this.type = dataSourceType.GOOGLESHEET;\n    } else {\n        this.type = dataSourceType.API;\n    }\n\n    // Étape 2 : On va chercher les informations qu'on peut selon le type\n    switch (this.type) {\n        case dataSourceType.GOOGLESHEET:\n            let id = url.substring(url.indexOf(\"/d/\") + 3, url.lastIndexOf(\"/\"));\n\n            this.properties.spreadsheetId = id;\n\n            this.fetchQuery = `https://sheets.googleapis.com/v4/spreadsheets/${id}`;\n\n            promises.push(fetch(this.fetchQuery + '?alt=json&key=' + API_KEY_GOOGLE_SHEET)\n            .then(handleResponse)\n            .then(data => {\n                this.name = data.properties.title;\n                data.sheets.forEach((sheet, index) => {\n                    /* this.ressources.push({ name: sheet.properties.title, id: sheet.properties.sheetId, dataSets: []}); */\n\n                    this.dataSets.push({ name: sheet.properties.title, id: sheet.properties.sheetId, data: [], columns: []});\n\n                    promises2.push(fetch(this.fetchQuery + '/values/' + sheet.properties.title + '?alt=json&key=' + API_KEY_GOOGLE_SHEET)\n                    .then(handleResponse)\n                    .then(data => {\n\n                        // On ajoute un dataSet\n                        /* this.ressources[index].dataSets.push({ data: [], columns: [], headerRowNo: 1 }); */\n\n                        if (data.values.length > 0) {\n                            this.dataSets[index].columns = data.values[0].map((column, index) => {\n                                return { id: index + 1, name: column, title: column, index: index };\n                            });\n                        }\n\n                        data.values.splice(0, 1);\n\n                        data.values.forEach((row, rowIdx) => {\n                            \n                            /* for (let i = 0; i < this.dataSets[index].columns.length; i++) {\n\n                                if (!this.dataSets[index].data[rowIdx]) {\n                                    this.dataSets[index].data.push([]);\n                                }\n\n                                this.dataSets[index].data[rowIdx].push((row[i] ? row[i] : ''));\n                            } */\n                            let rowData = {};\n                            this.dataSets[index].columns.forEach((column, colIdx) => {\n                                rowData[column.name] = row[colIdx] ? row[colIdx] : ''\n                            });\n\n                            this.dataSets[index].data.push(rowData);\n                        });\n                        \n\n                        // On essaye de trouver les tableaux (range) disponnible dans la feuille\n                        /* let dataSetIdx = 0;\n                        let dataSetRowIdx = 0;\n                        let dataSetCellIdx = 0;\n\n                        let maxDataSetCellIdx = 0; */\n\n                        /* data.values.forEach((row, rowIdx) => {\n\n                            if (row.length > 0) {\n                               this.ressources[index].dataSets[dataSetIdx].data.push([]);\n                            } else if ((this.ressources[index].dataSets[dataSetIdx].dataRange) && this.ressources[index].dataSets[dataSetIdx].dataRange.length === 2) {\n                                dataSetIdx += 1;\n                                dataSetRowIdx = 0;\n                                dataSetCellIdx = 0;\n\n                                if (!this.ressources[index].dataSets[dataSetIdx]) {\n                                    this.ressources[index].dataSets.push({ data: [], columns: [], headerRowNo: 1 });\n                                }\n                            } \n                            \n                            row.forEach((cell, cellIdx) => {\n                                if (cell !== '') {\n\n                                    if (!this.ressources[index].dataSets[dataSetIdx].dataRange) {\n                                        this.ressources[index].dataSets[dataSetIdx].dataRange = [`${alphabet[cellIdx]}${rowIdx + 1}`];\n                                    }\n\n                                    if (this.ressources[index].dataSets[dataSetIdx].dataRange.length === 1) {\n                                        this.ressources[index].dataSets[dataSetIdx].columns.push({ name: cell });\n                                    } else if (!this.ressources[index].dataSets[dataSetIdx].columns[dataSetCellIdx].exempleValue) {\n                                        this.ressources[index].dataSets[dataSetIdx].columns[dataSetCellIdx].exempleValue = cell;\n                                    }\n\n                                    if (row.length === cellIdx + 1 && this.ressources[index].dataSets[dataSetIdx].dataRange.length === 1) {\n                                        this.ressources[index].dataSets[dataSetIdx].dataRange.push(`${alphabet[cellIdx]}`);\n                                    }\n\n                                    this.ressources[index].dataSets[dataSetIdx].data[dataSetRowIdx].push(cell);\n                                    dataSetCellIdx += 1;\n\n                                    if (maxDataSetCellIdx < cellIdx) {\n                                        maxDataSetCellIdx = cellIdx;\n                                    }\n\n                                } else if ((this.ressources[index].dataSets[dataSetIdx].dataRange) && this.ressources[index].dataSets[dataSetIdx].dataRange.length === 1) {\n                                    this.ressources[index].dataSets[dataSetIdx].dataRange.push(`${alphabet[cellIdx]}`);\n                                    \n                                    dataSetIdx += 1;\n\n                                    if (!this.ressources[index].dataSets[dataSetIdx]) {\n                                        this.ressources[index].dataSets.push({ data: [], columns: [], headerRowNo: 1 });\n                                    }\n                                }\n                            });\n                            \n                            if (row.length > 0) {\n                               dataSetCellIdx = 0;\n                               dataSetRowIdx += 1;\n                            }\n                            \n                        }); */\n        \n                        return true;\n                    })\n                    .catch(error => {\n                        return true;\n                    }));\n\n                });\n                this.valid = true;\n\n                return true;\n            })\n            .catch(error => {\n                return false;\n            }));\n\n            break;\n        case dataSourceType.API:\n            this.fetchQuery = url;\n            break;\n        default:\n            this.fetchQuery = url;\n            break;\n    }\n\n    return await Promise.all(promises).then(initializations => {\n        let valid = true;\n\n        initializations.forEach(initialization => {\n            if (!initialization) {\n                valid = false;\n            }\n        })\n        \n        /* return valid; */\n\n        return Promise.all(promises2).then(initializations => {\n            let valid = true;\n    \n            initializations.forEach(initialization => {\n                if (!initialization) {\n                    valid = false;\n                }\n            })\n    \n            return valid;\n        });\n    });\n}\n\nDataSource.prototype.init = function(name, fetchQuery, type, dataRefreshRate) {\n    this.name = name;\n    this.fetchQuery = fetchQuery;\n    this.type = type;\n    this.dataRefreshRate = dataRefreshRate;\n\n    this.loadData();\n}\n\nDataSource.prototype.getType = function() {\n    if (this.url.indexOf(\"https://docs.google.com/spreadsheets/\") > -1) {\n        this.type = dataSourceType.GOOGLESHEET;\n    } else {\n        this.type = dataSourceType.API;\n    }\n}\n\nDataSource.prototype.getFetchQuery = function() {\n    switch (this.type) {\n        case dataSourceType.GOOGLESHEET:\n            let id = this.url.substring(this.url.indexOf(\"/d/\") + 3, this.url.lastIndexOf(\"/\"));\n            this.fetchQuery = `https://spreadsheets.google.com/feeds/list/${id}/3/public/values?alt=json`;\n            break;\n        case dataSourceType.API:\n            this.fetchQuery = this.url;\n            break;\n        default:\n            this.fetchQuery = this.url;\n            break;\n    }\n}\n\nDataSource.prototype.setData = function(data) {\n    this.dataLoaded = data ? true : false;\n\n    switch (this.type) {\n        case \"GOOGLESHEET\":\n            this.data = data.values;\n            break;\n        default:\n            this.data = data;\n        break;\n    }\n\n    this.postProcessData();\n}\n\nDataSource.prototype.getData = function() {\n    return this.data;\n}\n\nDataSource.prototype.getName = function() {\n    return this.name;\n}\n\nDataSource.prototype.setId = function(id) {\n    this.id = id;\n}\n\nDataSource.prototype.getId = function() {\n    return this.id;\n}\n\nDataSource.prototype.asyncLoadData = async function() {\n    const response = await fetch(this.fetchQuery);\n    const data = handleResponse(await response).then(data => this.setData(data))\n    .catch(error => {\n        /* console.log(error); */\n    });\n}\n\nDataSource.prototype.loadData = function() {\n    fetch(this.fetchQuery)\n    .then(handleResponse)\n    .then(data => {\n        this.setData(data);\n        this.valid = true;\n    })\n    .catch(error => {\n        console.log(error);\n        let datasource = this\n        setTimeout(function() { datasource.loadData(); }, 1000);\n    });\n}\n\nfunction handleResponse(response) {\n    let contentType = response.headers.get('content-type')\n    if (contentType.includes('application/json')) {\n      return handleJSONResponse(response)\n    } else if (contentType.includes('text/html')) {\n      return handleTextResponse(response)\n    } else {\n      // Other response types as necessary. I haven't found a need for them yet though.\n      throw new Error(`Sorry, content-type ${contentType} not supported`)\n    }\n}\n  \nfunction handleJSONResponse(response) {\n    return response.json()\n      .then(json => {\n        if (response.ok) {\n          return json\n        } else {\n          return Promise.reject(Object.assign({}, json, {\n            status: response.status,\n            statusText: response.statusText\n          }))\n        }\n      })\n}\n\nfunction handleTextResponse(response) {\n    return response.text()\n      .then(text => {\n        if (response.ok) {\n          return text\n        } else {\n          return Promise.reject({\n            status: response.status,\n            statusText: response.statusText,\n            err: text\n          })\n        }\n      })\n}\n\nDataSource.prototype.addDynamicField = function(column, id, elementId) {\n\n    if (this.dynamicFields.findIndex(dynamicField => dynamicField.elementId === elementId) === -1) {\n        this.dynamicFields.push({ column: column, id: id, elementId: elementId });   \n    }\n    \n}\n\nDataSource.prototype.postProcessData = function() {\n\n    if (this.fieldNames.length === 0) {\n        this.retreiveFieldNames(this.data[0]);\n    }\n    \n    this.formatDataToModel(this.data, this.fieldNames);\n\n    if (!this.intervalUpdateData) {\n        let datasource = this\n        this.intervalUpdateData = setInterval(function() { datasource.asyncLoadData(); }, this.dataRefreshRate);\n    }\n    \n}\n\nDataSource.prototype.retreiveFieldNames = function(object) {\n\n    switch (this.type) {\n        case \"GOOGLESHEET\":\n            this.fieldNames = object;\n            this.idFieldName = object[0];\n            this.data = this.data.splice(1, this.data.length - 1);\n            break;\n        default:\n            \n        break;\n    }\n}\n\n\nDataSource.prototype.formatDataToModel = function(data, model) {\n\n    let formatedData = [];\n\n    switch (this.type) {\n        case \"GOOGLESHEET\":\n            data.forEach((item, index) => {\n                let formatedItem = {};\n\n                model.forEach((field, index) => {\n                    formatedItem[field] = item[index];\n                });\n\n                this.dataRefIndex[item[0]] = index;\n\n                formatedData.push(formatedItem);\n            });\n            break;\n        default:\n            \n        break;\n    }\n\n    this.formatedData = formatedData;\n}\n\nDataSource.prototype.getElementByProperty = function(element, property, value) {\n    return this[element].find(result => result[property] === value);\n}\n\nDataSource.prototype.queryDataSet = function(dataSetId, query = []) {\n\n    let dataSet = this.getElementByProperty('dataSets', 'id', dataSetId);\n\n    if (query.length === 0) {\n        query = dataSet.columns;\n    }\n\n    return this.queryObjectsArray(dataSet.data, query);\n\n}\n\nDataSource.prototype.queryObjectsArray = function(data, query) {\n\n    /* query = [\n        {\n            name: 1,\n            filters: {},\n            format: '',\n            width: 30,\n            textDescriptions: {},\n            display: true\n        }\n    ]; */\n\n    let queryResult = [];\n\n    let formatedQueryRow = [];\n    let formatedQueryColumn = '';\n\n    data.forEach(row => {\n\n        formatedQueryRow = [];\n        formatedQueryColumn = '';\n\n        query.forEach(column => {\n            formatedQueryColumn = row[column.name];\n\n            formatedQueryRow.push(formatedQueryColumn);\n        });\n\n        queryResult.push(formatedQueryRow);\n\n    });\n\n    return queryResult;\n}\n\nexport default DataSource;","import DataSource from './DataSource';\n\nfunction DataSourceManager() {\n    this.dataSources = [];\n    this.dynamicFieldsToUpdate = [];\n}\n\nDataSourceManager.prototype.init = function() {\n\n}\n\nDataSourceManager.prototype.find = function(id) {\n    let myDataSource = null;\n\n    for (var key in this.dataSources) {\n        if (this.dataSources[key] && this.dataSources[key].getId() === id) {\n            myDataSource = this.dataSources[key];\n        }\n    }\n    return myDataSource;\n}\n\nDataSourceManager.prototype.getDataSources = function() {\n    return this.dataSources;\n}\n\nDataSourceManager.prototype.add = function(dataSource) {\n\n    dataSource.setId(this.dataSources.length + 1);\n\n    this.dataSources.push(dataSource);\n}\n\nDataSourceManager.prototype.remove = function(id) {\n    var dataSourceIndex = 0;\n    for (var key in this.dataSources) {\n        if (this.dataSources[key] && this.dataSources[key].getId() === id) {\n            break;\n        }\n        dataSourceIndex = dataSourceIndex + 1;\n    }\n\n    if (dataSourceIndex > 0) {\n        this.dataSources.splice(dataSourceIndex, 1);\n    }\n}\n\nDataSourceManager.prototype.addDynamicFieldToUpdate = function(dynamicField) {\n    this.dynamicFieldsToUpdate.push(dynamicField);\n}\n\nDataSourceManager.prototype.updateDynamicFields = function() {\n    if (this.dynamicFieldsToUpdate.length > 0) {\n\t\tfor (let i = 0; i > this.dynamicFieldsToUpdate.length; i++) {\n\t\t\tthis.dynamicFieldsToUpdate[i].dataSource.populateDynamicField(this.dynamicFieldsToUpdate[i].column, this.dynamicFieldsToUpdate[i].id, this.dynamicFieldsToUpdate[i].elementId);\n\t\t}\n\t}\n}\n\nexport default DataSourceManager;\n","import React, { useState, useRef, useEffect } from 'react'\nimport { CheckCircleIcon, XCircleIcon, TableIcon, DatabaseIcon } from '@heroicons/react/outline'\nimport DataSource from './DataSource';\nimport DataSourceManager from './DataSourceManager';\nimport FcmBd from './FcmBd';\n\nconst LoadingSpinner = ({ className }) => {\n    return (\n      <svg className={`animate-spin ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n      </svg>\n    );\n}\n\nconst dataSourceManager = new DataSourceManager();\n\nconst DataSourceTool = ({ isHidden }) => {\n\n    const [url, setUrl] = useState(\"https://docs.google.com/spreadsheets/d/1gwYEvp4q0Zp2-b1DJcO1k3NoBO-BS5pZa6FwmyiXH1w/edit?usp=sharing\");\n    const [dataSources, setDataSources] = useState([]);\n    const [selectedDataSource, setSelectedDataSource] = useState([]);\n\n    const [thumbPreviewWidth, setThumbPreviewWidth] = useState(0);\n    const thumbPreview = useRef();\n\n    const [thumbFontSize, setThumbFontSize] = useState(10);\n    const [thumbTablePadding, setThumbTablePadding] = useState(1);\n    const [thumbTableWidth, setThumbTableWidth] = useState(100);\n    const [totalColumnWidth, setTotalColumnWidth] = useState(0);\n    const [maxNbRows, setMaxNbRows] = useState(0);\n\n    const [htmlTable, setHtmlTable] = useState(<></>);\n\n    const [query, setQuery] = useState([]);\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [isValidSource, setIsValidSource] = useState(true);\n\n    const handleChange = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();        \n    \n        setUrl(value);\n    };\n\n    useEffect(() => {\n        /* FcmBd.DataSources.init('RXBK03'); */\n        FcmBd.init({ GOOGLESHEET_API_KEY: process.env.REACT_APP_GOOGLE_SHEET_API_KEY });\n        FcmBd.DataSources.create('TestData', \"https://docs.google.com/spreadsheets/d/1gwYEvp4q0Zp2-b1DJcO1k3NoBO-BS5pZa6FwmyiXH1w/edit?usp=sharing\", async (req, res) => {});\n\n        /* try {\n            FcmBd.DataSources.init('http://dev.app.netsign.tv/ExternalAjax/router/getDataSource?s=4eb0194ddf4d6c7a72dca4fd3149e92e').then(result => console.log(\"find SimonsTestData\", FcmBd.DataSources.find('SimonsTestData')));\n        } catch (e) {\n\n        } */\n\n    }, [])\n\n    const handleAddDataSource = (e) => {\n        e.preventDefault();\n\n        if (url) {\n            setIsLoading(true);\n            createDataSource();\n        } else {\n            setIsLoading(true);\n            let query = { \n                select: {\n                    nom: 1,\n                    prenom: 1,\n                    equipe: 1,\n                    pause: 1,\n                    debut: 1,\n                    fin: 1\n                }, \n                from: 'Simons',\n                where: { $and: [{ pause: 'A'}, {equipe: 121}] },\n                orderBy: [{ nom: 1 }, { prenom: 1 }],\n                limit: 200,\n                skip: 0\n            };\n\n            FcmBd.DataSources.query('TestData', false, query).then(queryResult => {\n                console.log('FcmBd.DataSources.query(\"TestData\")', queryResult);\n                setIsLoading(false);\n            });\n        }\n        \n    }\n\n    const createDataSource = () => {\n\n        FcmBd.DataSources.create('TestData2', url, async (req, res) => {\n\n            let find = FcmBd.DataSources.find('TestData2');\n\n            /* let query = { \n                select: ['nom', 'prenom', 'equipe', 'pause', 'debut', 'fin'], \n                from: 'Simons', \n                orderBy: ['equipe', 'nom', 'prenom'] \n            }; */\n\n            let query = { \n                select: {\n                    nom: 1,\n                    prenom: 1,\n                    equipe: 1,\n                    pause: 1,\n                    debut: 1,\n                    fin: 1\n                }, \n                from: 'Simons',\n                where: { equipe: 9 },\n                orderBy: [{ nom: 1 }, { prenom: 1 }],\n                limit: 200,\n                skip: 0\n            };\n\n            let queryResult = await FcmBd.DataSources.query('TestData2', true, query);\n\n            console.log('FcmBd.DataSources.find(\"TestData\")', find);\n            console.log('FcmBd.DataSources.query(\"TestData\")', queryResult);\n        });        \n\n        let newDataSource = new DataSource();\n\n        newDataSource.load(url).then(valid => {\n            if (valid) {\n                dataSourceManager.add(newDataSource);\n                console.log(newDataSource);\n\n                setDataSources(dataSourceManager.getDataSources());\n                setUrl('');\n                setIsLoading(false);\n            }\n        });\n    }\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            setIsLoading(true);\n            createDataSource();\n        }\n      }\n\n    const handleSelectDataSource = (dataSourceIdx, dataSetId) => {\n        setSelectedDataSource([dataSourceIdx, dataSetId]);\n\n        let newQuery = dataSources[dataSourceIdx].getElementByProperty('dataSets', 'id', dataSetId).columns.map(column => {\n            return {...column, filters: {}, format: '', width: 0, textAlign: 'left', textDescriptions: {}, display: true };\n        });\n\n        setQuery(newQuery);\n    }\n\n    const handleChangeQueryColumn = (e, colIndex) => {\n        const target = e.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n        e.persist();\n\n        let newQuery = [...query];\n\n        newQuery[colIndex][name] = value;\n\n        setQuery(newQuery);\n    }\n\n    const handleChangeQueryColumnSpecific = (e, name, value, colIndex) => {\n        e.persist();\n\n        let newQuery = [...query];\n\n        newQuery[colIndex][name] = value;\n\n        setQuery(newQuery);\n    }\n\n    const sum = (items, prop) => {\n        return items.reduce( function(a, b){\n            return a + parseInt(b[prop]);\n        }, 0);\n    }\n\n    const getMaxNbRows = (previewWidth, fontSize, tablePadding, windowPadding) => {\n\n        let screenHeight = previewWidth / 16 * 9;\n        let minHeaderFontSize = getComputedPixelSize(fontSize * 1.25);\n        let minBannerSpace = 0;\n        let minTablePadding = getComputedPixelSize(tablePadding < 2 ? 2 : 0);\n        let minWindowPadding = getComputedPixelSize(windowPadding);\n        let minCellPadding = getComputedPixelSize(tablePadding / 3);\n        let minCellFontSize = getComputedPixelSize(fontSize);\n\n\n        let newMaxNbRows = Math.floor((screenHeight - minHeaderFontSize - minBannerSpace - (minTablePadding * 2) - (minWindowPadding * 2)) / ((minCellPadding * 2) + minCellFontSize + 1));\n\n        return newMaxNbRows;\n    }\n\n    useEffect(() => {\n\n        let tables = [];\n\n        if (selectedDataSource && selectedDataSource.length > 0) {\n\n            let screenHeight = thumbPreviewWidth / 16 * 9;\n            let minHeaderFontSize = getComputedPixelSize(thumbFontSize * 1.25);\n            let minHeaderPadding = getComputedPixelSize(thumbTablePadding * 1.5);\n            let minBannerSpace = 0;\n            let minTablePadding = 0;\n            let minWindowPadding = getComputedPixelSize(25);\n            let minCellPadding = getComputedPixelSize(thumbTablePadding);\n            let minCellFontSize = getComputedPixelSize(thumbFontSize);\n\n            let newMaxNbRows = Math.floor((screenHeight - minHeaderFontSize - minBannerSpace - (minTablePadding * 2) - (minWindowPadding * 2) - (minHeaderPadding * 2)) / ((minCellPadding * 2) + minCellFontSize + 1));\n\n            for (let i = 0;i < 1; i++) {\n\n                let columns = query.filter(column => column.display === true);\n                let data = dataSources[selectedDataSource[0]].queryDataSet(selectedDataSource[1], query.filter(column => column.display === true)).slice(newMaxNbRows * i, (newMaxNbRows * i) + newMaxNbRows);\n\n                if (data.length > 0) {\n                    let table = <div className=\"table rounded-sm overflow-hidden\"\n                                style={{ \n                                    /* padding: `${getComputedPixelSize(thumbTablePadding < 2 ? 2 : 0)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding / 3)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding / 3)}px`, */\n                                    width: `${thumbTableWidth}%`,\n                                    marginLeft: `${i === 0 ? 0 : getComputedPixelSize(10)}px`\n                                }}\n                            >\n                                <div className=\"table-header-group bg-gray-200 bg-opacity-90\">\n                                    <div className=\"table-row\">\n                                        {columns.map(column => {\n                                            return <div className=\"table-cell align-middle font-medium select-none leading-none truncate\" \n                                            style={{ \n                                                padding: `${getComputedPixelSize(thumbTablePadding * 1.5)}px ${getComputedPixelSize(thumbTablePadding * 3)}px ${getComputedPixelSize(thumbTablePadding * 1.5)}px ${getComputedPixelSize(thumbTablePadding * 3)}px`,\n                                                fontSize: `${getComputedPixelSize(thumbFontSize * 1.25)}px`,\n                                                lineHeight: `${getComputedPixelSize(thumbFontSize * 1.25)}px`,\n                                                width: (column.width > 0 ? `${column.width}%` : 'auto'),\n                                                textAlign: column.textAlign\n                                            }}\n                                            >{column.title}</div>\n                                        })}\n                                    </div>\n                                </div>\n                                <div className=\"table-row-group bg-white bg-opacity-90\"\n                                    style={{ \n                                        padding: `${getComputedPixelSize(thumbTablePadding)}px 0`,\n                                    }}\n                                >\n                                    {data.map(row => {\n                                        return <div className=\"table-row\">\n                                            {row.map((cell, index) => {\n                                                return <div className=\"table-cell align-middle select-none leading-none truncate border-t border-gray-300\" \n                                                    style={{ \n                                                        padding: `${getComputedPixelSize(thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding * 3)}px ${getComputedPixelSize(thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding * 3)}px`,\n                                                        fontSize: `${getComputedPixelSize(thumbFontSize)}px`,\n                                                        lineHeight: `${getComputedPixelSize(thumbFontSize)}px`,\n                                                        textAlign: columns[index].textAlign\n                                                    }}\n                                                >{cell}</div>\n                                            })}\n                                        </div>\n                                    })}\n                                </div>\n                            </div>\n\n                    tables.push(table);\n                }\n                \n            }\n\n            setMaxNbRows(newMaxNbRows);\n        }\n\n        setHtmlTable(tables);\n\n    }, [thumbPreviewWidth, thumbFontSize, thumbTablePadding, dataSources, selectedDataSource, query, thumbTableWidth]);\n\n    /* useEffect(() => {\n        let totalWidth = sum(query, 'width');\n\n        console.log(totalWidth);\n\n        totalWidth = 100 - totalWidth;\n\n        setTotalColumnWidth(totalWidth);\n    }, [query]); */\n\n    useEffect(() => {\n        setThumbPreviewWidth(thumbPreview.current.offsetWidth);\n    }, [thumbPreview]);\n    \n    const getComputedPixelSize = (pixel) => {\n    let computedPixelSize = 0;\n    let currentThuumbPreviewWidth = thumbPreviewWidth;\n\n    if (thumbPreviewWidth === 0) {\n        currentThuumbPreviewWidth = thumbPreview.current.offsetWidth;\n        setThumbPreviewWidth(currentThuumbPreviewWidth);\n    }\n\n    computedPixelSize = currentThuumbPreviewWidth / 672 * pixel;\n\n    return computedPixelSize;\n    }\n\n    return (\n        <div className={`min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-50 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-20 lg:space-y-0 lg:space-x-40 ${isHidden ? 'hidden' : 'flex'}`}>\n            <div className=\"max-w-2xl w-full space-y-3\">\n                <div className=\"flex flex-col items-start justify-start\">\n                    <h2 className=\"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none\">Source de données</h2>\n                </div>\n                <div className=\"flex flex-col items-center justify-center space-y-4 w-full\">\n                    <div className=\"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md w-full\">\n                        <div className=\"w-full flex flex-col\">\n                            <input\n                                id=\"texte\"\n                                onChange={handleChange}\n                                value={url}\n                                name=\"dataSourceUrl\"\n                                type=\"text\"\n                                required\n                                className=\"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                                placeholder=\"Entrez l'url de la source de données\"\n                                onKeyDown={handleKeyDown}\n                            />\n                        </div>\n                        <div onClick={handleAddDataSource} className={`rounded-md select-none h-9 w-9 font-medium text-center text-sm text-white align-middle border-2 flex items-center justify-center ${isValidSource ? 'cursor-pointer shadow bg-blue-600 hover:bg-blue-500 border-blue-600 hover:border-blue-500' : 'pointer-event-none bg-gray-100 border-gray-100'}`}>\n                            {isLoading ? <LoadingSpinner className=\"h-5 w-5 text-white\" /> : isValidSource ? <CheckCircleIcon className=\"h-6 w-6 text-white\" /> : <XCircleIcon className=\"h-6 w-6 text-gray-300\" />}\n                        </div>\n                    </div>                \n                </div>\n                <div className=\"flex flex-row space-x-2 items-start justify-start\">\n                    {dataSources.map((dataSource, dSrcIndex) => {\n                        return <div key={dSrcIndex} className={`cursor-pointer flex flex-row items-center py-3 px-4 space-x-4 justify-center rounded-md border shadow-sm ${false ? 'text-white bg-blue-500 hover:bg-blue-400 border-blue-500 hover:border-blue-400' : 'text-gray-900 bg-gray-100 hover:bg-gray-100 border-gray-100 hover:border-gray-100'}`}>\n                            <div className=\"flex flex-col items-start justify-start space-y-1\">\n                                <div className=\"leading-none font-medium\">{dataSource.name}</div>\n                                <div className=\"leading-none font-light text-xs\">{dataSource.type}</div>\n                                <div className=\"flex flex-row items-start justify-start space-x-2 pt-2\">\n                                    {dataSource.dataSets.map((dataSet, rIndex) => {\n                                        return <div key={rIndex} onClick={() => handleSelectDataSource(dSrcIndex, dataSet.id)}\n                                                className={`cursor-pointer flex flex-row items-center justify-center py-0.5 px-2 rounded-sm border bg-transparent ${selectedDataSource.length > 0 && selectedDataSource[0] === dSrcIndex && selectedDataSource[1] === dataSet.id ? 'text-white bg-blue-500 border-blue-500' : 'text-gray-600 border-gray-300 hover:border-blue-500 hover:text-blue-500'}`}>\n                                                    <div className=\"text-xs\">{dataSet.name}</div>\n                                                </div>\n                                    })}\n                                </div>\n                            </div>\n                            \n                        </div>\n                    })}\n                    {/* {dataSources.map((dataSource, dSrcIndex) => {\n                        return <div key={dSrcIndex} className=\"flex flex-row items-center justify-start space-x-4 py-2 px-4 rounded-md w-full\">\n                            <div className=\"font-bold pr-4\">{dataSource.name}</div>\n                            {dataSources.length > 0 && dataSource.ressources.map((ressource, rIndex) => {\n                                return <div key={rIndex} className=\"flex flex-row items-center justify-start space-x-4\">\n                                    {ressource.dataSets.map((dataSet, dSetIndex) => {\n                                        return <div key={dSetIndex} onClick={() => setSelectedDataSource([dSrcIndex, rIndex, dSetIndex])} \n                                        className={`cursor-pointer flex flex-row items-center justify-start space-x-2 py-0.5 px-3 rounded-full border shadow-sm border-gray-200  ${selectedDataSource.length > 0 && selectedDataSource[0] === dSrcIndex && selectedDataSource[1] === rIndex && selectedDataSource[2] === dSetIndex ? 'text-white bg-blue-500 hover:bg-blue-400 border-blue-500 hover:border-blue-400' : 'text-gray-900 bg-gray-200 hover:bg-gray-100 hover:border-gray-200'}`}>\n                                            <TableIcon className=\"h-6 w-6\" />\n                                            <div className=\"text-sm pr-0.5\">{`${ressource.name}!${dataSet.dataRange[0]}:${dataSet.dataRange[1]}`}</div>\n                                        </div>\n                                    })}\n                                </div>\n                            })}\n                        </div>\n                    })} */}\n                </div>\n\n                {query.length > 0 && \n                    <div className=\"flex flex-col item-start justify-start space-y-2 bg-gray-100 p-2 rounded-md w-full\">\n                        <div className=\"table w-full rounded-sm\">\n                            <div className=\"table-header-group\">\n                                <div className=\"table-row\">\n                                    <div className=\"table-cell text-xs font-medium py-1 px-2\"></div>\n                                    <div className=\"table-cell text-xs font-medium py-1 px-2\">Titre</div>\n                                    <div className=\"table-cell text-xs font-medium py-1 px-2 text-center\">Afficher</div>\n                                    <div className=\"table-cell text-xs font-medium py-1 px-2\">Alignement</div>\n                                    <div className=\"table-cell text-xs font-medium py-1 px-2\">Largeur</div>\n                                    {/* <div className=\"table-cell text-xs font-medium\">Style</div> */}\n                                </div>\n                            </div>\n                            <div className=\"table-row-group\">\n                                {query.map((column, index) => {\n                                    return <div className=\"table-row\" key={column.name}>\n                                        <div className=\"table-cell text-xs py-1 px-1 text-center align-middle\">{index + 1}</div>\n                                        <div className=\"table-cell py-1 px-2 align-middle\">\n                                            <input\n                                                id={`title-${index}`}\n                                                onChange={event => handleChangeQueryColumn(event, index)}\n                                                value={column.title}\n                                                name='title'\n                                                type=\"text\"\n                                                autoComplete=\"off\"\n                                                className=\"resize-none appearance-none rounded-none relative block h-6 w-full px-2 py-1 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                                                placeholder=\"Titre\"\n                                            />\n                                        </div>\n                                        <div className=\"table-cell py-1 px-2 text-center align-middle\">\n                                            <input type=\"checkbox\" id={`display-${index}`} name=\"display\" checked={column.display} onChange={event => handleChangeQueryColumn(event, index)} className=\"appearance-none cursor-pointer checked:bg-blue-500 checked:border-transparent\" />\n                                        </div>\n                                        <div className=\"table-cell py-1 px-2 align-middle\">\n                                            <div className=\"flex flex-row space-x-1\">\n                                                <div onClick={event => handleChangeQueryColumnSpecific(event, 'textAlign', 'left', index)} className=\"cursor-pointer\">\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-6 w-6 ${column.textAlign === 'left' && 'text-blue-500'}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M 4 6 h 16 M 4 12 h 8 m -8 6 h 12\" />\n                                                    </svg>\n                                                </div>\n                                                <div onClick={event => handleChangeQueryColumnSpecific(event, 'textAlign', 'center', index)} className=\"cursor-pointer\">\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-6 w-6 ${column.textAlign === 'center' && 'text-blue-500'}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M 4 6 h 16 M 8 12 h 8 m -10 6 h 12\" />\n                                                    </svg>\n                                                </div>\n                                                <div onClick={event => handleChangeQueryColumnSpecific(event, 'textAlign', 'right', index)} className=\"cursor-pointer\">\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-6 w-6 ${column.textAlign === 'right' && 'text-blue-500'}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M 4 6 h 16 M 12 12 h 8 m -12 6 h 12\" />\n                                                    </svg>\n                                                </div>\n\n                                            </div>\n                                            \n                                        </div>\n                                        <div className=\"table-cell py-1 px-2 align-middle\">\n                                            <div className=\"flex flex-row\">\n                                                <input type=\"range\" className=\"cursor-pointer\" id={`width-${index}`} step={1} name=\"width\" min=\"0\" max={100} onChange={event => handleChangeQueryColumn(event, index)} defaultValue={0} />\n                                                <div className=\"text-xs px-2\">{column.width}</div>\n                                            </div>\n                                        </div>\n                                        {/* <div className=\"table-cell\"></div> */}\n                                    </div>\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                }\n            </div>\n            <div className=\"max-w-2xl w-full space-y-3\" ref={thumbPreview}>\n                {selectedDataSource && selectedDataSource.length > 0 && <>\n                <div className=\"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md shadow overflow-hidden\">\n                    <div className=\"w-full h-full gradientBackground\"></div>\n                    \n                        <div className=\"flex flex-row w-full h-full items-start justify-start\"\n                            style={{\n                                padding: `${getComputedPixelSize(25)}px ${getComputedPixelSize(25)}px ${getComputedPixelSize(25)}px ${getComputedPixelSize(25)}px`\n                            }}\n                        >\n                            {/* <div className=\"flex flex-col items-start justify-start\">\n                                <h2 className=\"text-left font-extrabold text-white select-none\"\n                                style={{\n                                    fontSize: `${getComputedPixelSize(18)}px`,\n                                    paddingBottom: `${getComputedPixelSize(thumbTablePadding * 2)}px`\n                                }}\n                                >{dataSources[selectedDataSource[0]].dataSets.find(dataSet => dataSet.id === selectedDataSource[1]).name}</h2>\n                            </div> */}\n                            {/* <div className=\"table rounded-sm bg-white bg-opacity-90\"\n                                style={{ \n                                    padding: `${getComputedPixelSize(thumbTablePadding < 2 ? 2 : 0)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding / 3)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding < 2 ? 2 : thumbTablePadding / 3)}px`,\n                                    width: `${thumbTableWidth}%`\n                                }}\n                            >\n                                <div className=\"table-header-group\">\n                                    <div className=\"table-row\">\n                                        {query.filter(column => column.display === true).map(column => {\n                                            return <div className=\"table-cell font-medium select-none leading-none\" \n                                            style={{ \n                                                padding: `${getComputedPixelSize(thumbTablePadding * 2)}px ${getComputedPixelSize(thumbTablePadding * 3)}px ${getComputedPixelSize(thumbTablePadding * 2)}px ${getComputedPixelSize(thumbTablePadding * 3)}px`,\n                                                fontSize: `${getComputedPixelSize(thumbFontSize * 1.25)}px`,\n                                                width: (column.width > 0 ? `${column.width}%` : 'auto')\n                                            }}\n                                            >{column.title}</div>\n                                        })}\n                                    </div>\n                                </div>\n                                <div className=\"table-row-group\">\n                                    {dataSources[selectedDataSource[0]].queryDataSet(selectedDataSource[1], query.filter(column => column.display === true)).slice(0, maxNbRows).map(row => {\n                                        return <div className=\"table-row\">\n                                            {row.map(cell => {\n                                                return <div className=\"table-cell select-none leading-none\" \n                                                    style={{ \n                                                        padding: `${getComputedPixelSize(thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding * 3)}px ${getComputedPixelSize(thumbTablePadding)}px ${getComputedPixelSize(thumbTablePadding * 3)}px`,\n                                                        fontSize: `${getComputedPixelSize(thumbFontSize)}px`,\n                                                    }}\n                                                >{cell}</div>\n                                            })}\n                                        </div>\n                                    })}\n                                </div>\n                            </div> */}\n\n                            {htmlTable}\n\n                        </div>\n                </div>\n\n                <div className=\"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2\">\n                    <div>{`${maxNbRows}/${dataSources[selectedDataSource[0]].queryDataSet(selectedDataSource[1], query.filter(column => column.display === true)).length}`}</div>\n                </div>\n\n                <div className=\"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2\">\n\n                    <div className=\"flex flex-col lg:flex-row flex-wrap item-center justify-start align-middle w-full mt-4\">\n                        <div className=\"flex flex-row\">\n                            <div className={\"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                            Taille du texte :\n                            </div>\n                            <div className={\"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                <input type=\"range\" id=\"fontSize\" step={0.1} name=\"fontSize\" min=\"4\" max=\"25\" onChange={e => setThumbFontSize(parseFloat(e.target.value))} defaultValue={10} />\n                            </div>\n                            <div className={\"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                {thumbFontSize}\n                            </div>\n                        </div>\n                        <div className=\"flex flex-row\">\n                            <div className={\"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                            Largeur du tableau :\n                            </div>\n                            <div className={\"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                <input type=\"range\" id=\"padding\" step={1} name=\"padding\" min=\"0\" max=\"100\" onChange={e => setThumbTableWidth(parseInt(e.target.value))} defaultValue={100} />\n                            </div>\n                            <div className={\"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                {thumbTableWidth}\n                            </div>\n                        </div>\n                        <div className=\"flex flex-row\">\n                            <div className={\"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                            Espacement :\n                            </div>\n                            <div className={\"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                <input type=\"range\" id=\"padding\" step={0.1} name=\"padding\" min=\"1\" max=\"10\" onChange={e => setThumbTablePadding(parseFloat(e.target.value))} defaultValue={1} />\n                            </div>\n                            <div className={\"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50\"}>\n                                {thumbTablePadding}\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n                </>\n                }\n\n            </div>\n        </div>\n    );\n}\n\nexport default DataSourceTool;","import React, { Fragment, useState, useRef, useEffect } from 'react'\nimport { CheckCircleIcon, XCircleIcon, TableIcon, DatabaseIcon } from '@heroicons/react/outline'\nimport FcmBd from './FcmBd';\n\n\nimport { Listbox, Transition } from '@headlessui/react'\nimport { CheckIcon, SelectorIcon } from '@heroicons/react/solid'\n\nconst LoadingSpinner = ({ className }) => {\n    return (\n      <svg className={`animate-spin ${className}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n      </svg>\n    );\n}\n\nconst ListeDeroulante = ({ list, onChange }) => {\n    const [selected, setSelected] = useState('');\n\n    const handleChange = (value) => {        \n        onChange(value);\n        setSelected(value);\n    };\n\n    return (\n        <div className=\"w-72\">\n        <Listbox value={selected} onChange={handleChange}>\n            <div className=\"relative\">\n            <Listbox.Button className=\"relative border border-gray-200 w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm\">\n                <span className=\"block truncate\">{selected || 'Choisir'}</span>\n                <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                <SelectorIcon\n                    className=\"w-5 h-5 text-gray-400\"\n                    aria-hidden=\"true\"\n                />\n                </span>\n            </Listbox.Button>\n            <Transition\n                as={Fragment}\n                leave=\"transition ease-in duration-100\"\n                leaveFrom=\"opacity-100\"\n                leaveTo=\"opacity-0\"\n            >\n                <Listbox.Options className=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none z-10 sm:text-sm\">\n                {list.map((item, itemIdx) => (\n                    <Listbox.Option\n                    key={itemIdx}\n                    className={({ active }) =>\n                        `${active ? 'text-blue-900 bg-blue-100' : 'text-gray-900'}\n                            cursor-default select-none relative py-2 pl-10 pr-4`\n                    }\n                    value={item}\n                    >\n                    {({ selected, active }) => (\n                        <>\n                        <span\n                            className={`${\n                            selected ? 'font-medium' : 'font-normal'\n                            } block truncate`}\n                        >\n                            {item}\n                        </span>\n                        {selected ? (\n                            <span\n                            className={`${\n                                active ? 'text-blue-600' : 'text-blue-600'\n                            }\n                                    absolute inset-y-0 left-0 flex items-center pl-3`}\n                            >\n                            <CheckIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                            </span>\n                        ) : null}\n                        </>\n                    )}\n                    </Listbox.Option>\n                ))}\n                </Listbox.Options>\n            </Transition>\n            </div>\n        </Listbox>\n        </div>\n    )\n}\n\nconst VisualQueryBuilderTool = ({ isHidden }) => {\n\n    const [dataSource, setDataSource] = useState();\n    const [dataSet, setDataSet] = useState();\n\n    const [columns, setColumns] = useState();\n    const [where, setWhere] = useState();\n    const [orderBy, setOrderBy] = useState();\n    const [limit, setLimit] = useState();\n    const [skip, setSkip] = useState();\n\n    const [query, setQuery] = useState();\n    const [queryResult, setQueryResult] = useState();\n\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleChangeColumns = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();\n        setColumns(value);    \n    };\n\n    const handleChangeWhere = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();\n        setWhere(value);    \n    };\n\n    const handleChangeOrderBy = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();\n        setOrderBy(value);    \n    };\n\n    const handleChangeLimit = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();\n        setLimit(value);    \n    };\n\n    const handleChangeSkip = (e) => {\n        const { target } = e;\n        const { value } = target;\n        e.persist();\n        setSkip(value);    \n    };\n\n    /* const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            let newQuery = buildQuery(dataSet, columns, where, orderBy, limit, skip);\n            setQuery(newQuery);\n            FcmBd.DataSources.query(dataSource, false, newQuery).then(result => setQueryResult(result));\n        }\n      } */\n\n    const handleExecuteQuery = (e) => {\n        let newQuery = buildQuery(dataSet, columns, where, orderBy, limit, skip);\n        setQuery(newQuery);\n        FcmBd.DataSources.query(dataSource, false, newQuery).then(result => setQueryResult(result));\n    }\n\n    useEffect(() => {\n        if (dataSet) {\n            let select = {};\n            \n            FcmBd.DataSources.list(dataSource, dataSet).forEach(column => {\n                select[column] = 1;\n            })\n\n            let newColums = JSON.stringify(select).replaceAll(\",\",\", \").replaceAll(\":\",\": \").replaceAll(\"{\",\"{ \").replaceAll(\"}\",\" }\");\n\n            setColumns(newColums);\n\n            let newQuery = buildQuery(dataSet, newColums);\n            \n            setQuery(newQuery);\n\n            FcmBd.DataSources.query(dataSource, false, newQuery).then(result => setQueryResult(result));\n        }\n    }, [dataSource, dataSet]);\n\n    const buildQuery = (from, select, filtre = undefined, ordre = undefined, limite = undefined, depart = undefined) => {\n        let query = {};\n\n        if (from) {\n            query.from = from;\n        }\n\n        if (isJsonString(select)) {\n            query.select = JSON.parse(select);\n        }\n\n        if (isJsonString(filtre)) {\n            query.where = JSON.parse(filtre);\n        }\n\n        if (isJsonString(ordre)) {\n            query.orderBy = JSON.parse(ordre);\n        }\n\n        if (limite !== \"\" && limite !== undefined) {\n            query.limit = parseFloat(limite);\n        }\n\n        if (depart !== \"\" && depart !== undefined) {\n            query.skip = parseFloat(depart);\n        }\n\n        return query;\n    }\n\n    const isJsonString = (str) => {\n        try {\n            JSON.parse(str);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    }\n\n    return (\n        <div className={`min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-100 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-20 lg:space-y-0 lg:space-x-20 ${isHidden ? 'hidden' : 'flex'}`}>\n            <div className=\"max-w-xl w-full space-y-7\">\n                <div className=\"flex flex-col items-start justify-start\">\n                    <h2 className=\"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none\">Concepteur de tableau</h2>\n                </div>\n                <div className=\"flex flex-col items-center justify-center space-y-4 w-full\">\n                    <div className=\"bg-white shadow overflow-hidden sm:rounded-lg w-full\">\n                        <div className=\"px-4 py-5 sm:px-6\">\n                            <h3 className=\"select-none text-lg leading-6 font-medium text-gray-900\">Nouveau tableau</h3>\n                            <p className=\"select-none mt-1 max-w-2xl text-sm text-gray-500\">Définissez les données à afficher.</p>\n                        </div>\n                        <div className=\"border-t border-gray-200\">\n                            <dl>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Source</dt>\n                                    <dd className=\"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                                        <div className=\"flex flex-col space-y-1 w-full\">\n                                            <ListeDeroulante list={FcmBd.DataSources.list()} onChange={setDataSource} />\n                                            {dataSource && <ListeDeroulante list={FcmBd.DataSources.list(dataSource)} onChange={setDataSet} />}\n                                        </div>\n                                    </dd>\n                                </div>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Colonnes</dt>\n                                    <dd className=\"select-none mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2\">{/* <pre>{columns && JSON.stringify(columns, null, 4)}</pre> */}\n                                        <textarea\n                                            id=\"columns\"\n                                            onChange={handleChangeColumns}\n                                            value={columns}\n                                            name=\"columns\"\n                                            type=\"textarea\"\n                                            required\n                                            className=\"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs\"\n                                            placeholder=\"Colonnes à afficher\"\n                                        />\n                                    </dd>\n                                </div>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Filtres</dt>\n                                    <dd className=\"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                                        <textarea\n                                            id=\"where\"\n                                            onChange={handleChangeWhere}\n                                            value={where}\n                                            name=\"where\"\n                                            type=\"textarea\"\n                                            required\n                                            className=\"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs\"\n                                            placeholder=\"Condition d'affichage\"\n                                        />\n                                    </dd>\n                                </div>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Tri</dt>\n                                    <dd className=\"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                                        <textarea\n                                            id=\"orderBy\"\n                                            onChange={handleChangeOrderBy}\n                                            value={orderBy}\n                                            name=\"orderBy\"\n                                            type=\"textarea\"\n                                            required\n                                            className=\"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs\"\n                                            placeholder=\"Tri\"\n                                        />\n                                    </dd>\n                                </div>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Limite</dt>\n                                    <dd className=\"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                                        <input\n                                            id=\"limit\"\n                                            onChange={handleChangeLimit}\n                                            value={limit}\n                                            name=\"limit\"\n                                            type=\"number\"\n                                            required\n                                            className=\"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                                            placeholder=\"Nombre maximum de lignes retournées\"\n                                        />\n                                    </dd>\n                                </div>\n                                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                                    <dt className=\"select-none text-sm font-medium text-gray-500\">Saut</dt>\n                                    <dd className=\"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                                        <input\n                                            id=\"skip\"\n                                            onChange={handleChangeSkip}\n                                            value={skip}\n                                            name=\"skip\"\n                                            type=\"number\"\n                                            required\n                                            className=\"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                                            placeholder=\"Ligne de départ\"\n                                        />\n                                    </dd>\n                                </div>\n                                <div className=\"px-4 py-5 sm:px-6 justify-end flex border-t border-gray-200\">\n                                    <div onClick={handleExecuteQuery} className=\"w-1/5 rounded-md select-none font-medium py-1 px-2 text-center text-sm text-white shadow align-middle bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500 flex items-center justify-center\">\n                                        {isLoading ? <LoadingSpinner className=\"h-5 w-5 text-white\" /> : 'Exécuter'}\n                                    </div>\n                                </div>\n                            </dl>\n                        </div>\n                    </div>              \n                </div>\n            </div>\n            <div className=\"max-w-5xl overscroll-auto w-full space-y-3\">\n\n                {query && queryResult && <>\n\n                <div className=\"\">\n                    <div className=\"flex flex-row items-start justify-start space-x-2\">\n                        <div className=\"px-5 py-2 bg-white shadow sm:rounded-lg\">\n                            <h3 className=\"select-none text-xs text-gray-500\">Nb. rangées</h3>\n                            <p className=\"select-none text-sm font-medium text-gray-900\">{`${queryResult.returnedNbRows}/${queryResult.datasetNbRows}`}</p>\n                        </div>\n                        <div className=\"px-5 py-2 bg-white shadow sm:rounded-lg\">\n                            <h3 className=\"select-none text-xs text-gray-500\">Durée</h3>\n                            <p className=\"select-none text-sm font-medium text-gray-900\">{`${queryResult.duration}s`}</p>\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"table rounded-lg overflow-hidden w-full shadow\">\n                    <div className=\"table-header-group bg-gray-900 bg-opacity-90\">\n                        <div className=\"table-row\">\n                            {Object.keys(query.select).map(column => {\n                                return <div key={`${column}_header`} className=\"py-2 px-2 table-cell text-sm align-middle text-white font-medium select-none leading-none truncate\">{column}</div>\n                            })}\n                        </div>\n                    </div>\n                    {queryResult && queryResult.data && queryResult.data.length > 0 && <div className=\"table-row-group bg-white bg-opacity-90\">\n                        {queryResult.data.map((row, rowIdx) => {\n                            return <div key={`row_${rowIdx}`} className=\"table-row\">\n                                {Object.keys(query.select).map((cell, colIdx) => {\n                                    return <div key={`${cell}_${colIdx + 1}`} className=\"py-1 px-2 table-cell text-xs align-middle select-none leading-none truncate border-t border-gray-300\">{row[cell]}</div>\n                                })}\n                            </div>\n                        })}\n                    </div>}\n                </div>\n                \n                </>}\n\n            </div>\n        </div>\n    );\n}\n\nexport default VisualQueryBuilderTool;","import React, { useState, useEffect } from 'react'\nimport './App.css';\nimport { CreationTool, CreationFromDataTool, DataSourceTool, VisualQueryBuilderTool, BirthdayTool } from './modules';\nimport { DatabaseIcon, PhotographIcon, TableIcon, GiftIcon, CollectionIcon } from '@heroicons/react/outline'\nimport { useMediaQuery } from 'react-responsive';\n\nfunction App() {\n\n  const [currentTool, setCurrentTool] = useState(\"CreationTool\");\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [password, setPassword] = useState([]);\n\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n\n  const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\n\n  const handleChangePassword = (e, index) => {\n    const { target } = e;\n    const { value } = target;\n    e.persist();\n\n    if (isWrongPassword) {\n      setIsWrongPassword(false);\n    }\n\n    let newPassword = [...password];\n\n    newPassword.push(value);\n\n    if (newPassword.length === 6) {\n      let authorized = (parseInt(newPassword[0]) * 10 + parseInt(newPassword[1])) + (parseInt(newPassword[2]) * 10 + parseInt(newPassword[3])) + (parseInt(newPassword[4]) * 10 + parseInt(newPassword[5])) === 150;\n\n      if (authorized) {\n        setIsAuthorized(authorized);\n      } else {\n        newPassword = [];\n        setIsWrongPassword(true)\n      }\n    }\n\n    const nextfield = document.querySelector(\n      `input[name=password-${parseInt(newPassword.length) + 1}]`\n    );\n\n    // If found, focus the next field\n    if (nextfield !== null) {\n      nextfield.focus();\n    }\n\n    setPassword(newPassword);\n  };\n\n  const handleOnFocusPassword = (e, current) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (current !== (password.length + 1)) {\n      const nextfield = document.querySelector(\n        `input[name=password-${password.length + 1}]`\n      );\n  \n      // If found, focus the next field\n      if (nextfield !== null) {\n        nextfield.focus();\n      }\n    }\n  }\n\n  const handleKeyDownPassword = (e, index) => {\n    if (e.key === 'Backspace') {\n      e.preventDefault();\n      let newPassword = [...password];\n\n      if (newPassword.length > 0) {\n        newPassword.splice(newPassword.length - 1, 1);\n      }\n      \n      const nextfield = document.querySelector(\n        `input[name=password-${newPassword.length + 1}]`\n      );\n  \n      // If found, focus the next field\n      if (nextfield !== null) {\n        nextfield.focus();\n      }\n\n      setPassword(newPassword);\n    }\n  }\n\n  return (\n    <>\n    {isAuthorized ? \n    <>\n      <div className=\"z-50 fixed flex flex-row lg:flex-col lg:max-w-min lg:min-h-screen p-3 space-x-4 lg:space-x-0 lg:space-y-4 rounded-br-md bg-white shadow lg:bg-transparent lg:shadow-none\">\n        <PhotographIcon onClick={() => setCurrentTool(\"CreationTool\")} className={`h-6 w-6 text-${currentTool === \"CreationTool\" ? \"blue-600\" : \"gray-400\"} hover:text-blue-500 cursor-pointer`} />\n        <CollectionIcon onClick={() => setCurrentTool(\"CreationFromDataTool\")} className={`h-6 w-6 text-${currentTool === \"CreationFromDataTool\" ? \"blue-600\" : \"gray-400\"} hover:text-blue-500 cursor-pointer`} />\n        <GiftIcon onClick={() => setCurrentTool(\"BirthdayTool\")} className={`h-6 w-6 text-${currentTool === \"BirthdayTool\" ? \"blue-600\" : \"gray-400\"} hover:text-blue-500 cursor-pointer`} />\n        <DatabaseIcon onClick={() => setCurrentTool(\"DataSourceTool\")} className={`h-6 w-6 text-${currentTool === \"DataSourceTool\" ? \"blue-600\" : \"gray-400\"} hover:text-blue-500 cursor-pointer`} />\n        <TableIcon onClick={() => setCurrentTool(\"VisualQueryBuilderTool\")} className={`h-6 w-6 text-${currentTool === \"VisualQueryBuilderTool\" ? \"blue-600\" : \"gray-400\"} hover:text-blue-500 cursor-pointer`} />\n      </div>\n      <CreationTool isHidden={currentTool !== \"CreationTool\"} />\n      {currentTool === \"CreationFromDataTool\" && <CreationFromDataTool isHidden={currentTool !== \"CreationFromDataTool\"} />}\n      <BirthdayTool isHidden={currentTool !== \"BirthdayTool\"} />\n      <DataSourceTool isHidden={currentTool !== \"DataSourceTool\"} />\n      <VisualQueryBuilderTool isHidden={currentTool !== \"VisualQueryBuilderTool\"} />\n    </>\n    :\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-2xl w-full space-y-4\">\n        <div className=\"flex flex-col items-center justify-center\">\n          <h3 className=\"text-center text-xl font-medium text-gray-900\">Netsign.tv</h3>\n          <h2 className=\"mt-1 text-center text-3xl font-extrabold text-gray-900\">Création simplifiée</h2>\n          <p className=\"mt-3 text-center text-sm text-blue-500\">\n            Entrez le code d'accès\n          </p>\n        </div>\n        <div className=\"flex flex-col items-center justify-center space-y-4\">\n          <div className={`flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md ${isWrongPassword && 'shake'}`}>\n              <input\n                id=\"password-1\"\n                name=\"password-1\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 0)}\n                value={password[0] ? password[0] : ''}\n                autoFocus={!isMobile}\n                onClick={event => handleOnFocusPassword(event, 1)}\n                onKeyDown={event => handleKeyDownPassword(event, 0)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n              <input\n                id=\"password-2\"\n                name=\"password-2\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 1)}\n                value={password[1] ? password[1] : ''}\n                onClick={event => handleOnFocusPassword(event, 2)}\n                onKeyDown={event => handleKeyDownPassword(event, 1)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n              <input\n                id=\"password-3\"\n                name=\"password-3\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 2)}\n                value={password[2] ? password[2] : ''}\n                onClick={event => handleOnFocusPassword(event, 3)}\n                onKeyDown={event => handleKeyDownPassword(event, 2)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n              <input\n                id=\"password-4\"\n                name=\"password-4\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 3)}\n                value={password[3] ? password[3] : ''}\n                onClick={event => handleOnFocusPassword(event, 4)}\n                onKeyDown={event => handleKeyDownPassword(event, 3)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n              <input\n                id=\"password-5\"\n                name=\"password-5\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 4)}\n                value={password[4] ? password[4] : ''}\n                onClick={event => handleOnFocusPassword(event, 5)}\n                onKeyDown={event => handleKeyDownPassword(event, 4)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n              <input\n                id=\"password-6\"\n                name=\"password-6\"\n                type=\"password\"\n                pattern=\"[0-9]*\" \n                inputMode=\"numeric\"\n                onChange={event => handleChangePassword(event, 5)}\n                value={password[5] ? password[5] : ''}\n                onClick={event => handleOnFocusPassword(event, 6)}\n                onKeyDown={event => handleKeyDownPassword(event, 5)}\n                required\n                className=\"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n          </div>\n          <div className=\"flex flex-col items-center justify-center\">\n            <p className=\"text-center text-xs text-gray-300\">\n              v 1.5.0\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    }\n    {/* <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-2xl w-full space-y-8\"> */}\n        \n        {/* ÉTAPE 1 */}\n        {/* <div>\n          <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Que voulez vous créer ?</h2>\n        </div>\n        <div className=\"flex flex-row item-center justify-center space-x-6\">\n          <div className=\"rounded-md py-4 px-6 shadow w-48 align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600\">\n            <p className=\"font-medium text-white text-center align-middle\">\n              Vignette\n            </p>\n          </div>\n\n          <div className=\"rounded-md py-4 px-6 shadow w-48 align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600\">\n            <p className=\"font-medium text-white text-center\">\n              Liste de lecture\n            </p>\n          </div>\n        </div> */}\n\n        {/* ÉTAPE 2 */}\n\n        {/* VIGNETTE */}\n        {/* <div className=\"flex flex-col items-center justify-center\">\n          <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Contenu de la vignette</h2>\n          <p className=\"mt-2 text-center text-sm text-indigo-500\">\n            Ajoutez un titre, des textes, images, etc\n          </p>\n        </div>\n        <div className=\"flex flex-col items-center justify-center space-y-4\">\n          <div className=\"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md\">\n            <div className=\"self-center font-medium text-center text-lg text-gray-500 mx-1\">\n              Titre\n            </div>\n            <div>\n              <label htmlFor=\"prenom\" className=\"sr-only\">\n                Titre\n              </label>\n              <input\n                id=\"prenom\"\n                name=\"prenom\"\n                type=\"text\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"\"\n              />\n            </div>\n          </div>\n          <div className=\"rounded-full font-medium text-center text-2xl text-white shadow align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600 hover:border-indigo-500 h-8 w-8 flex items-center justify-center\">\n              +\n          </div>\n        </div> */}\n\n        {/* LISTE DE LECTURE */}\n        {/* <div className=\"flex flex-col items-center justify-center\">\n          <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Contenu de la liste de lecture</h2>\n          <p className=\"mt-2 text-center text-sm text-indigo-500 w-1/2\">\n            Choisissez un format de contenu prédéfini ou créez en un adapter à vos besoins\n          </p>\n        </div>\n        <div className=\"flex flex-row item-center justify-center space-x-6 \">\n          <div className=\"rounded-md py-4 px-6 shadow w-48 align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600 hover:border-indigo-500\">\n            <p className=\"font-medium text-white text-center align-middle\">\n              Anniversaires\n            </p>\n          </div>\n\n          <div className=\"rounded-md py-4 px-6 text-gray-400 hover:text-indigo-500 border-dashed border-gray-400 hover:border-indigo-500 border-2 shadow w-48 align-middle cursor-pointer\">\n            <p className=\"font-medium text-center\">\n              Créer +\n            </p>\n          </div>\n        </div> */}\n\n        {/* ANNIVERSAIRES */}\n        {/* <div className=\"flex flex-col items-center justify-center\">\n          <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Anniversaires à souligner</h2>\n          <p className=\"mt-2 text-center text-sm text-indigo-500 w-1/2 align-middle\">\n            Ajoutez les anniversaires que vous souhaitez souligner chaque année\n          </p>\n        </div>\n        <div className=\"flex flex-col items-center justify-center space-y-4\">\n          <div className=\"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md\">\n            <div className=\"self-center font-medium text-center text-lg text-gray-500 mx-1\">\n                1\n            </div>\n            <div>\n              <label htmlFor=\"prenom\" className=\"sr-only\">\n                Prénom\n              </label>\n              <input\n                id=\"prenom\"\n                name=\"prenom\"\n                type=\"text\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Prénom\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"nom\" className=\"sr-only\">\n                Nom\n              </label>\n              <input\n                id=\"nom\"\n                name=\"nom\"\n                type=\"text\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Nom\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"dateNaissance\" className=\"sr-only\">\n                Date de naissance\n              </label>\n              <input\n                id=\"dateNaissance\"\n                name=\"dateNaissance\"\n                type=\"date\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-500 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Date de naissance\"\n              />\n            </div>\n          </div>\n          <div className=\"rounded-full font-medium text-center text-2xl text-white shadow align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600 hover:border-indigo-500 h-8 w-8 flex items-center justify-center\">\n              +\n          </div>\n        </div> */}\n\n        {/* <div className=\"flex flex-col items-center justify-center\">\n          <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Que voulez-vous annoncer ?</h2>\n          <p className=\"mt-2 text-center text-sm text-indigo-500 w-1/2 align-middle\">\n            Écrivez le texte qui s'affichera dans la vignette\n          </p>\n        </div>\n        <div className=\"flex flex-col items-center justify-center space-y-4 w-full\">\n          <div className=\"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md w-full\">\n            <div className=\"w-full\">\n              <label htmlFor=\"texte\" className=\"sr-only\">\n                Texte\n              </label>\n              <textarea\n                id=\"texte\"\n                name=\"texte\"\n                type=\"textarea\"\n                required\n                className=\"appearance-none rounded-none relative block w-full min-h-28 max-h-28 px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Texte\"\n              />\n            </div>\n          </div>\n          <div className=\"rounded-md font-medium py-1 px-3 text-center text-sm text-white shadow align-middle bg-indigo-600 hover:bg-indigo-500 cursor-pointer border-2 border-indigo-600 hover:border-indigo-500 flex items-center justify-center\">\n              Créer la vignette!\n          </div>\n        </div> */}\n        \n        {/* <form className=\"flex flex-row mt-8 space-x-4\" action=\"#\" method=\"POST\">\n          <div>\n            <label htmlFor=\"prenom\" className=\"sr-only\">\n              Prénom\n            </label>\n            <input\n              id=\"prenom\"\n              name=\"prenom\"\n              type=\"prenom\"\n              required\n              className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Prénom\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"nom\" className=\"sr-only\">\n              Nom\n            </label>\n            <input\n              id=\"nom\"\n              name=\"nom\"\n              type=\"nom\"\n              required\n              className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Nom\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"dateNaissance\" className=\"sr-only\">\n              Date de naissance\n            </label>\n            <input\n              id=\"dateNaissance\"\n              name=\"dateNaissance\"\n              type=\"date\"\n              required\n              className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-500 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Date de naissance\"\n            />\n          </div>\n          \n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember-me\"\n                name=\"remember-me\"\n                type=\"checkbox\"\n                className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n                Remember\n              </label>\n            </div>\n          </div>\n        </form> */}\n      {/* </div>\n    </div> */}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
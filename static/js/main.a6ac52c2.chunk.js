(this.webpackJsonpnetsign_react_app=this.webpackJsonpnetsign_react_app||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),s=n.n(c),o=(n(32),n(9)),l=n(3),i=(n(33),n(2)),d=n.n(i),u=n(6),f=n(10),x=n(20),m=n(21),p=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"analyzeEntities",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={document:{type:"PLAIN_TEXT",content:t},encodingType:"UTF8"},a={method:"post",mode:"cors",cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.prev=2,e.next=5,fetch("https://language.googleapis.com/v1/documents:analyzeEntities?key=".concat("AIzaSyB_G4h_ieTxS9887-cy9uQhFG25nDN-0iU"),a);case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent){e.next=11;break}return e.abrupt("return",null);case 11:if(!c){e.next=13;break}return e.abrupt("return",c);case 13:return e.abrupt("return",null);case 16:return e.prev=16,e.t0=e.catch(2),console.log("analyzeEntities",e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),h="9038251-9744656b30d3839e753549b56",b="lW928RQmwlCfkfVVMqcBwDHtkJpwVR_r58ovOPAhN8Q",g=function(){function e(){Object(x.a)(this,e)}return Object(m.a)(e,null,[{key:"getCorrespondingImages",value:function(){var e=Object(u.a)(d.a.mark((function e(t,n){var a,r,c,s,o,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:200,r="",t.forEach((function(e,n){r+=e+(n+1<t.length?"+":"")})),c="https://pixabay.com/api/?key=".concat(h,"&q=").concat(encodeURIComponent(r),"&image_type=photo&lang=").concat(n,"&safesearch=true&per_page=").concat(a),0===t.length&&(c="https://pixabay.com/api/?key=".concat(h,"&category=backgrounds&image_type=photo&lang=").concat(n,"&safesearch=true&per_page=").concat(a)),e.prev=5,e.next=8,fetch(c);case 8:return s=e.sent,e.next=11,s.json();case 11:if(o=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:if(!o){e.next=16;break}return e.abrupt("return",o);case 16:return e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(5),console.log("getCorrespondingImages",e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCorrespondingImagesUnsplash",value:function(){var e=Object(u.a)(d.a.mark((function e(t,n){var a,r,c,s,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>2&&void 0!==o[2]?o[2]:20,a="",t.forEach((function(e,n){a+=e+(n+1<t.length?" ":"")})),e.prev=3,e.next=6,fetch("https://api.unsplash.com/search/photos?client_id=".concat(b,"&per_page=50&query=").concat(encodeURIComponent(a),"&lang=").concat(n));case 6:return r=e.sent,e.next=9,r.json();case 9:if(c=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:if(!c){e.next=17;break}return s=[],c.results.forEach((function(e){s.push({previewURL:e.urls.thumb,id:e.id,tags:e.description})})),c.hits=s,e.abrupt("return",c);case 17:return e.abrupt("return",null);case 20:return e.prev=20,e.t0=e.catch(3),console.log("analyzeEntitiesUnsplash",e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),j=n(7),y=n(1),v=n(22),O=n(23),w=n.n(O),N=n(25),S=n(18),C="0",k="cursor-pointer hover:bg-blue-600 hover:bg-opacity-20 rounded-md text-transparent",D=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E={1:{containerClass:"items-start justify-start",zoneClass:"mr-10 mb-10 max-w-60 rounded-br-sm",textClass:"pt-8 pl-8 pb-4 pr-5",margins:[0,40,40,0],paddings:[32,20,16,32]},2:{containerClass:"items-start justify-start",zoneClass:"mx-10 mb-10 max-w-60 rounded-b-sm",textClass:"pt-8 pb-3 px-4",margins:[0,40,40,40],paddings:[32,16,12,16]},3:{containerClass:"items-start justify-center",zoneClass:"mx-10 mb-10 max-w-60 rounded-b-sm text-center",textClass:"pt-8 pb-3 px-4",margins:[0,40,40,40],paddings:[32,16,12,16]},4:{containerClass:"items-start justify-end",zoneClass:"mx-10 mb-10 max-w-60 rounded-b-sm",textClass:"pt-8 pb-3 px-4",margins:[0,40,40,40],paddings:[32,16,12,16]},5:{containerClass:"items-start justify-end",zoneClass:"ml-10 mb-10 max-w-60 rounded-bl-sm",textClass:"pt-8 pr-8 pb-4 pl-5",margins:[0,0,40,40],paddings:[32,32,16,20]},6:{containerClass:"items-start justify-start",zoneClass:"my-10 mr-10 max-w-60 rounded-r-sm",textClass:"pl-8 py-3 pr-4",margins:[60,40,40,0],paddings:[12,16,12,32]},7:{containerClass:"items-start justify-start",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[60,40,40,40],paddings:[12,16,12,16]},8:{containerClass:"items-start justify-center",zoneClass:"my-10 mx-10 max-w-60 rounded-sm text-center",textClass:"py-3 px-4",margins:[60,40,40,40],paddings:[12,16,12,16]},9:{containerClass:"items-start justify-end",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[60,40,40,40],paddings:[12,16,12,16]},10:{containerClass:"items-start justify-end",zoneClass:"my-10 ml-10 max-w-60 rounded-l-sm",textClass:"pr-8 py-3 pl-4",margins:[60,0,40,40],paddings:[12,32,12,16]},11:{containerClass:"items-center justify-start",zoneClass:"my-10 mr-10 max-w-60 rounded-r-sm",textClass:"pl-8 py-3 pr-4",margins:[40,40,40,0],paddings:[12,16,12,32]},12:{containerClass:"items-center justify-start",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[40,40,40,40],paddings:[12,16,12,16]},13:{containerClass:"items-center justify-center",zoneClass:"my-10 mx-10 max-w-60 rounded-sm text-center",textClass:"py-3 px-4",margins:[40,40,40,40],paddings:[12,16,12,16]},14:{containerClass:"items-center justify-end",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[40,40,40,40],paddings:[12,16,12,16]},15:{containerClass:"items-center justify-end",zoneClass:"my-10 ml-10 max-w-60 rounded-l-sm",textClass:"pr-8 py-3 pl-4",margins:[40,0,40,40],paddings:[12,32,12,16]},16:{containerClass:"items-end justify-start",zoneClass:"my-10 mr-10 max-w-60 rounded-r-sm",textClass:"pl-8 py-3 pr-4",margins:[40,40,60,0],paddings:[12,16,12,32]},17:{containerClass:"items-end justify-start",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[40,40,60,40],paddings:[12,16,12,16]},18:{containerClass:"items-end justify-center",zoneClass:"my-10 mx-10 max-w-60 rounded-sm text-center",textClass:"py-3 px-4",margins:[40,40,60,40],paddings:[12,16,12,16]},19:{containerClass:"items-end justify-end",zoneClass:"my-10 mx-10 max-w-60 rounded-sm",textClass:"py-3 px-4",margins:[40,40,60,40],paddings:[12,16,12,16]},20:{containerClass:"items-end justify-end",zoneClass:"my-10 ml-10 max-w-60 rounded-l-sm",textClass:"pr-8 py-3 pl-4",margins:[40,0,60,40],paddings:[12,32,12,16]},21:{containerClass:"items-end justify-start",zoneClass:"mr-10 mt-10 max-w-60 rounded-tr-sm",textClass:"pb-8 pl-8 pt-4 pr-5",margins:[40,40,0,0],paddings:[16,20,32,32]},22:{containerClass:"items-end justify-start",zoneClass:"mx-10 mt-10 max-w-60 rounded-t-sm",textClass:"pb-8 pt-3 px-4",margins:[40,40,0,40],paddings:[12,16,32,16]},23:{containerClass:"items-end justify-center",zoneClass:"mx-10 mt-10 max-w-60 rounded-t-sm text-center",textClass:"pb-8 pt-3 px-4",margins:[40,40,0,40],paddings:[12,16,32,16]},24:{containerClass:"items-end justify-end",zoneClass:"mx-10 mt-10 max-w-60 rounded-t-sm",textClass:"pb-8 pt-3 px-4",margins:[40,40,0,40],paddings:[12,16,32,16]},25:{containerClass:"items-end justify-end",zoneClass:"ml-10 mt-10 max-w-60 rounded-tl-sm",textClass:"pb-8 pr-8 pt-4 pl-5",margins:[40,0,0,40],paddings:[16,32,32,20]}},T="0px 0px 2px rgba(0,0,0,0.70)",z="0 0px 2px rgba(255,255,255,0.50)",M={0:[18.4,23.2],1:[21.6,26.4],2:[24.8,29.6],3:[28,32.8],4:[31.2,34.4],5:[34.4,38.4],6:[37.6,41.6],7:[40.8,44.8],8:[44,48],9:[47.2,50.4],10:[50.4,53.6]},B=function(e){var t=e.src,n=(e.alt,e.onClick),r=e.hoverOptions,c=Object(a.useState)({}),s=Object(l.a)(c,2),o=s[0],i=(s[1],Object(a.useState)(t)),d=Object(l.a)(i,2),u=d[0],f=(d[1],Object(a.useState)(!0)),x=Object(l.a)(f,2),m=x[0],p=x[1],h=Object(a.useState)(!1),b=Object(l.a)(h,2),g=b[0],j=b[1],v=Object(S.useMediaQuery)({query:"(max-width: 760px)"});return Object(y.jsx)(y.Fragment,{children:v?Object(y.jsxs)("div",{onClick:n,className:"aspect-w-16 aspect-h-9 cursor-pointer",children:[m&&Object(y.jsx)("div",{className:"flex w-full h-full items-center justify-center",children:Object(y.jsx)(I,{className:"h-6 w-6 text-blue-600"})}),Object(y.jsx)("img",{onLoad:function(){return p(!1)},src:u,alt:o.tags,className:"select-none rounded-sm shadow w-full h-full object-center object-cover"}),(g||v)&&r.length>0&&Object(y.jsx)("div",{className:"flex flex-row items-end justify-end",children:Object(y.jsx)("div",{className:"p-1 bg-gray-800 bg-opacity-50 rounded-tl-lg rounded-br-sm",children:r.map((function(e){return e}))})})]}):Object(y.jsxs)("div",{onClick:n,onMouseOver:function(){return j(!0)},onMouseLeave:function(){return j(!1)},className:"aspect-w-16 aspect-h-9 cursor-pointer",children:[m&&Object(y.jsx)("div",{className:"flex w-full h-full items-center justify-center",children:Object(y.jsx)(I,{className:"h-6 w-6 text-blue-600"})}),Object(y.jsx)("img",{onLoad:function(){return p(!1)},src:u,alt:o.tags,className:"select-none rounded-sm shadow w-full h-full object-center object-cover"}),(g||v)&&r.length>0&&Object(y.jsx)("div",{className:"flex flex-row items-end justify-end",children:Object(y.jsx)("div",{className:"p-1 bg-gray-800 bg-opacity-50 rounded-tl-lg rounded-tl-lg rounded-br-sm",children:r.map((function(e){return e}))})})]})})},I=function(e){var t=e.className;return Object(y.jsxs)("svg",{className:"animate-spin ".concat(t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(y.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(y.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},H=function(e){var t=e.isHidden,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(60),x=Object(l.a)(i,2),m=x[0],h=x[1],b=Object(a.useState)([]),O=Object(l.a)(b,2),H=O[0],A=O[1],F=Object(a.useState)([]),L=Object(l.a)(F,2),q=L[0],G=L[1],R=Object(a.useState)([]),U=Object(l.a)(R,2),P=U[0],W=U[1],Q=Object(a.useState)("fr"),V=Object(l.a)(Q,2),J=V[0],_=V[1],Y=Object(a.useState)({}),$=Object(l.a)(Y,2),K=($[0],$[1],Object(a.useState)("")),X=Object(l.a)(K,2),Z=X[0],ee=X[1],te=Object(a.useState)(""),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(4),se=Object(l.a)(ce,2),oe=se[0],le=se[1],ie=Object(a.useState)(!0),de=Object(l.a)(ie,2),ue=de[0],fe=de[1],xe=Object(a.useState)(0),me=Object(l.a)(xe,2),pe=me[0],he=me[1],be=Object(a.useState)({}),ge=Object(l.a)(be,2),je=ge[0],ye=ge[1],ve=Object(a.useState)(E[13]),Oe=Object(l.a)(ve,2),we=Oe[0],Ne=Oe[1],Se=Object(a.useState)(!0),Ce=Object(l.a)(Se,2),ke=Ce[0],De=Ce[1],Ee=Object(a.useState)([]),Te=Object(l.a)(Ee,2),ze=Te[0],Me=Te[1],Be=Object(a.useState)([]),Ie=Object(l.a)(Be,2),He=Ie[0],Ae=Ie[1],Fe=Object(a.useState)({}),Le=Object(l.a)(Fe,2),qe=(Le[0],Le[1]),Ge=Object(a.useState)(k),Re=Object(l.a)(Ge,2),Ue=Re[0],Pe=Re[1],We=Object(a.useState)(4),Qe=Object(l.a)(We,2),Ve=Qe[0],Je=Qe[1],_e=Object(a.useRef)(),Ye=Object(a.useState)(!1),$e=Object(l.a)(Ye,2),Ke=$e[0],Xe=$e[1],Ze=Object(a.useState)(!1),et=Object(l.a)(Ze,2),tt=et[0],nt=et[1],at=Object(a.useState)(!1),rt=Object(l.a)(at,2),ct=rt[0],st=rt[1],ot=Object(S.useMediaQuery)({query:"(max-width: 760px)"}),lt=ot?21:20,it=function(e){p.analyzeEntities(e).then((function(e){if(console.log("analyzeEntities",e),Xe(!1),e.entities.length>0){var t=[],n=[];_(e.language),e.entities.forEach((function(e,a){var r={considered:!1};r.text=e.name.toLowerCase(),r.salience=e.salience,r.searched=!1,r.addedSearch=!1,e.salience>=.07&&-1==t.findIndex((function(t){return t.text.toUpperCase()===e.name.toUpperCase()}))&&(r.considered=!0,(a>0&&e.salience>=.5||a<1)&&(n.push(e.name.toLowerCase()),r.searched=!0)),t.push(r)}));var a=t.filter((function(e){return e.considered}));dt(n,e.language),Ae([]),fe(!0),ft(a,e.language,a,n),console.log("wordsArray",t)}else dt([],e.language),Ae([]),A([]),fe(!0);Xe(!1)})).catch((function(e){console.log("Saving API errors",e),Xe(!1)}))},dt=function(e,t){g.getCorrespondingImages(e,t).then((function(t){console.log("getCorrespondingImages",t),G(t.hits);var n=Object(o.a)(t.hits);W(n.splice(0,lt)),Xe(!1);var a=ut(t.hits,e);Me(a)})).catch((function(e){console.log("Saving API errors",e),Xe(!1)}))},ut=function(e,t){var n={},a=[];return e.forEach((function(e){e.tags.split(", ").forEach((function(e){e=e.toLowerCase(),n[e]?n[e]+=1:n[e]=1}))})),Object.entries(n).forEach((function(n){var r=Object(l.a)(n,2),c=r[0],s=r[1],o=s/e.length*100;s>=3&&(t.includes(c)||a.push({word:c,confidence:o,nbImages:s}))})),console.log("getCustomTags",a),Ae([]),a},ft=function(e,t,n,a){var r=[];e.forEach((function(e){r.push(g.getCorrespondingImages([e.text],t,100).then((function(t){var n={},a=[],r=!1;return t.hits.forEach((function(e){e.tags.split(", ").forEach((function(e){e=e.toLowerCase(),n[e]?n[e]+=1:n[e]=1}))})),Object.entries(n).forEach((function(n){var c=Object(l.a)(n,2),s=c[0],o=c[1],i=o/t.hits.length*100;o>=7&&(e.text.toLowerCase()===s&&(r=!0),a.push({word:s,confidence:i,nbImages:o}))})),{word:e.text,tags:a,result:t.hits,total:t.total,totalHits:t.totalHits,wordExistInTags:r}})).catch((function(e){console.log("Saving API errors",e)})))})),Promise.all(r).then((function(e){console.log(e);e.filter((function(e){return!e.wordExistInTags}));var a={};e.forEach((function(e){e.result.length<10&&n.splice(n.findIndex((function(t){return t.text===e.word})),1),a[e.word]=e.tags})),A(n),0===n.length&&dt([],t),qe(a)})).catch((function(e){console.log(e)}))};Object(a.useEffect)((function(){_e.current.scrollIntoView({behavior:"smooth"})}),[Z]);var xt=function(e){var t=He.length>0?He[He.length-1]:"",n=!1;return P[e].tags.split(", ").forEach((function(e){ze.find((function(t){return t.word===e}))&&t!==e&&!He.includes(e)&&(n=!0)})),n},mt=function(e,t){e.preventDefault();e.target;le(t)},pt=function(e,t){e.preventDefault(),e.stopPropagation();e.target;ke&&ye(E[t])},ht=function(e,t){e.preventDefault();e.target;ke||ot?(Object(f.a)({},je),Ne(E[t]),ye({}),De(!1),Pe("text-transparent")):(Object(f.a)({},je),De(!0),Pe(k),ye(E[t]))},bt=function(e,t){e.preventDefault();e.target;fe(t)};Object(a.useEffect)((function(){he(_e.current.offsetWidth)}),[_e]);var gt=function(e){var t=pe;return 0===pe&&(t=_e.current.offsetWidth,he(t)),t/672*e},jt=function(e,t){return t/672*e},yt=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).classList.add("overflow-hidden"),t.classList.add("fixed"),n=document.createElement("div"),a=vt(),n.innerHTML=w.a.renderToStaticMarkup(a),document.body.appendChild(t),t.appendChild(n),e.next=10,N.a(n);case 10:r=e.sent,Object(v.saveAs)(r,"thumb.png"),document.body.removeChild(t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){return Object(y.jsxs)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden",style:{width:"1920px",height:"1080px"},ref:_e,children:[Object(y.jsx)("div",{className:"overflow-hidden",children:Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"select-none w-full h-full object-center object-cover"})}),_e&&we.containerClass&&!je.containerClass&&Object(y.jsx)("div",{className:"pointer-events-none flex w-full h-full ".concat(we.containerClass," ").concat(3===oe&&"bg-gray-900 bg-opacity-15"," ").concat(6===oe&&"bg-gray-50 bg-opacity-20"),children:Object(y.jsx)("div",{className:"min-w-min pointer-events-none ".concat(we.zoneClass.replaceAll("sm","md")," ").concat(1===oe&&"bg-gray-900 bg-opacity-50"," ").concat(4===oe&&"bg-gray-50 bg-opacity-70"),style:{maxWidth:"".concat(m,"%"),margin:"".concat(jt(we.margins[0],1920),"px ").concat(jt(we.margins[1],1920),"px ").concat(jt(we.margins[2],1920),"px ").concat(jt(we.margins[3],1920),"px")},children:Object(y.jsx)("div",{className:"select-none pointer-events-none font-medium ".concat(we.textClass," ").concat(oe>=4?"text-gray-900":"text-white"),style:oe>=4?{textShadow:z,padding:"".concat(jt(we.paddings[0],1920),"px ").concat(jt(we.paddings[1],1920),"px ").concat(jt(we.paddings[2],1920),"px ").concat(jt(we.paddings[3],1920),"px"),fontSize:"".concat(jt(M[Ve][0],1920),"px"),lineHeight:"".concat(jt(M[Ve][1],1920),"px")}:{textShadow:T,padding:"".concat(jt(we.paddings[0],1920),"px ").concat(jt(we.paddings[1],1920),"px ").concat(jt(we.paddings[2],1920),"px ").concat(jt(we.paddings[3],1920),"px"),fontSize:"".concat(jt(M[Ve][0],1920),"px"),lineHeight:"".concat(jt(M[Ve][1],1920),"px")},children:ae})})})]})};return Object(y.jsxs)("div",{className:"min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-50 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-8 lg:space-y-0 lg:space-x-40 ".concat(t?"hidden":"flex"),children:[Object(y.jsxs)("div",{className:"lg:max-w-2xl w-full space-y-3",children:[Object(y.jsx)("div",{className:"flex flex-col items-start justify-start",children:Object(y.jsx)("h2",{className:"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none",children:"Cr\xe9ation simplifi\xe9e"})}),Object(y.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:Object(y.jsxs)("div",{className:"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md w-full",children:[Object(y.jsxs)("div",{className:"w-full",children:[Object(y.jsx)("label",{htmlFor:"texte",className:"sr-only",children:"\xc9crivez le texte qui s'affichera dans la vignette"}),Object(y.jsx)("textarea",{id:"texte",onChange:function(e){var t=e.target.value;e.persist(),s(t)},value:c,name:"texte",type:"textarea",onClick:function(e){var t=e.target;""!==ae&&t.select()},required:!0,className:"resize-none select-all appearance-none rounded-none relative block w-full h-20 max-h-20 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"\xc9crivez le texte qui s'affichera dans la vignette",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),Xe(!0),st(!0),it(c),re(c),ee(""))}})]}),Object(y.jsx)("div",{onClick:function(e){e.preventDefault(),Xe(!0),st(!0),it(c),re(c)},className:"rounded-md select-none font-medium py-1 px-2 text-center text-sm text-white shadow align-middle bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500 flex items-center justify-center",children:Ke?Object(y.jsx)(I,{className:"h-5 w-5 text-white"}):"GO"})]})}),ct?Object(y.jsxs)(y.Fragment,{children:[(He.length>0||H.length>0)&&Object(y.jsxs)("div",{className:"flex flex-col flex-wrap item-center justify-start align-middle bg-gray-100 py-1 px-2 rounded-md w-full",children:[Object(y.jsx)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle",children:H.length>0&&H.map((function(e,t){return Object(y.jsxs)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle rounded-full my-1 ".concat((e.searched||e.addedSearch)&&H[t+1]&&!H[t+1].addedSearch?"mr-8":e.searched||e.addedSearch?"mr-px":"mr-1 ml-1"),children:[!e.searched&&!(e.addedSearch&&!e.searched)&&Object(y.jsx)("div",{onClick:function(e){return function(e,t){e.preventDefault(),e.target;var n=Object(o.a)(H),a=[];n[t].addedSearch=!n[t].addedSearch,n.sort((function(e,t){return(e.searched?1:e.addedSearch?2:3)<(t.searched?1:t.addedSearch?2:3)?-1:(e.searched?1:e.addedSearch?2:3)>(t.searched?1:t.addedSearch?2:3)?1:0})),A(n),n.forEach((function(e){(e.searched||e.addedSearch)&&a.push(e.text)})),g.getCorrespondingImages(a,J).then((function(e){console.log("getCorrespondingImages",e),G(e.hits);var t=Object(o.a)(e.hits);W(t.splice(0,lt)),Xe(!1);var n=ut(e.hits,a);Me(n)})).catch((function(e){console.log("Saving API errors",e),Xe(!1)}))}(e,t)},className:"rounded-full mx-0.5 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer border-2 text-blue-600 hover:text-blue-500 border-gray-100",children:Object(y.jsx)(j.j,{className:"lg:h-5 lg:w-5 h-6 w-6"})}),Object(y.jsxs)("div",{onClick:function(e){return function(e,t){e.preventDefault(),e.target;var n=Object(o.a)(H),a=[];if(n[t].addedSearch)n[t].addedSearch=!1;else if(n[t].searched)n.forEach((function(e){e.addedSearch=!1}));else{var r=n.findIndex((function(e){return e.searched}));n[r].searched=!1,n[t].searched=!0,n.forEach((function(e){e.addedSearch=!1}))}n.sort((function(e,t){return(e.searched?1:e.addedSearch?2:3)<(t.searched?1:t.addedSearch?2:3)?-1:(e.searched?1:e.addedSearch?2:3)>(t.searched?1:t.addedSearch?2:3)?1:0})),A(n),n.forEach((function(e){(e.searched||e.addedSearch)&&a.push(e.text)})),g.getCorrespondingImages(a,J).then((function(e){console.log("getCorrespondingImages",e),G(e.hits);var t=Object(o.a)(e.hits);W(t.splice(0,lt)),Xe(!1);var n=ut(e.hits,a);Me(n)})).catch((function(e){console.log("Saving API errors",e),Xe(!1)}))}(e,t)},className:"".concat(e.searched&&H[t+1]&&H[t+1].addedSearch?"rounded-l-full":e.addedSearch&&H[t+1]&&H[t+1].addedSearch?"":e.addedSearch?"rounded-r-full":"rounded-full"," py-0.5 px-2 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer border-2 select-none ")+(e.searched?"text-white bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500":e.addedSearch&&!e.searched?"text-white bg-blue-500 hover:bg-blue-400 cursor-pointer border-2 border-blue-500 hover:border-blue-400":"text-gray-900 bg-gray-300 hover:bg-gray-200 border-gray-300 hover:border-gray-200 rounded-r-full"),children:[e.text," ",e.addedSearch&&Object(y.jsx)(j.m,{className:"ml-2 h-4 w-4"})]})]},e.text+"-words")}))}),Object(y.jsxs)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle",children:[He.length>0&&Object(y.jsx)("div",{onClick:function(e){e.preventDefault();e.target;var t=Object(o.a)(He).splice(0,He.length-1);Ae(t);var n=Object(o.a)(q),a=t.length-1;t.length>0?(n=n.filter((function(e){var n=!1;return n||(n=e.tags.includes(t[a])),n}))).length>0&&(n.length>lt&&(n=n.splice(0,lt)),W(n)):(n.length>lt&&(n=n.splice(0,lt)),W(n))},className:"flex flex-row flex-wrap item-center justify-start align-middle m-1 cursor-pointer",children:Object(y.jsx)(j.a,{className:"lg:h-5 lg:w-5 h-6 w-6 text-blue-500"})}),He.map((function(e,t){return Object(y.jsxs)("div",{onClick:function(e){return function(e,t){e.preventDefault(),e.target;var n=Object(o.a)(He).splice(0,t+1);Ae(n);var a=Object(o.a)(q),r=n.length-1;n.length>0?(a=a.filter((function(e){var t=!1;return t||(t=e.tags.includes(n[r])),t}))).length>0&&(a.length>lt&&(a=a.splice(0,lt)),W(a)):(a.length>lt&&(a=a.splice(0,lt)),W(a))}(e,t)},value:t,className:"select-none rounded-md ml-1 text-center text-sm lg:text-xs flex items-center justify-center align-middle cursor-pointer "+(He.length-1===t?"text-blue-500 cursor-pointer":"text-gray-500 cursor-pointer"),children:[e," ",He.length-1!==t&&"/"]},e+"-selectedSearchTags")}))]})]}),ct&&P.length>0&&!Ke&&Object(y.jsxs)("div",{className:"flex flex-row w-full mt-1 items-center justify-center",children:[ot?Object(y.jsx)(j.f,{className:"h-4 w-4 text-green-500 mr-1"}):Object(y.jsx)(j.d,{className:"h-4 w-4 text-green-500 mr-1"}),Object(y.jsx)("div",{className:"select-none text-green-500 text-xs text-center",children:"S\xe9lectionnez une image ci-dessous"})]}),Object(y.jsx)("div",{className:"container grid grid-cols-3 gap-1 lg:grid-cols-4 lg:gap-2 mx-auto",children:P.map((function(e,t){return Object(y.jsx)(B,{alt:e.tags,onClick:function(e){return function(e,t){e.preventDefault(),e.target,Z!==P[t].fullHDURL&&nt(!0),ee(P[t].fullHDURL)}(e,t)},src:e.previewURL,hoverOptions:xt(t)?[Object(y.jsx)(j.l,{onClick:function(e){return function(e,t){e.preventDefault(),e.stopPropagation();var n="",a=0,r=He.length>0?He[He.length-1]:"";if(P[t].tags.split(", ").forEach((function(e){var t=ze.find((function(t){return t.word===e}));t&&t.nbImages>a&&r!==e&&!He.includes(e)&&(n=t.word,a=t.nbImages)})),""!==n){var c=Object(o.a)(He);c.push(n),Ae(c);var s=Object(o.a)(q),l=c.length-1;c.length>0?(s=s.filter((function(e){var t=!1;return t||(t=e.tags.includes(c[l])),t}))).length>0&&(s.length>lt&&(s=s.splice(0,lt)),W(s)):(s.length>lt&&(s=s.splice(0,lt)),W(s))}}(e,t)},className:"h-4 w-4 lg:h-5 lg:w-5 text-white hover:text-opacity-75"})]:[]},e.id)}))})]}):Object(y.jsx)(y.Fragment,{})]}),Object(y.jsx)("div",{className:"lg:max-w-2xl w-full",ref:_e,children:ct&&""!==Z&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md shadow overflow-hidden",children:[""!==Z&&Object(y.jsx)("div",{className:"overflow-hidden",children:Object(y.jsx)("img",{src:Z,alt:"ThumbBg",onLoad:function(e){bt(e,!0),nt(!1)},onAnimationStart:function(e){return bt(e,!0)},onAnimationEnd:function(e){return bt(e,!1)},className:"".concat(ue?"zoom-in-zoom-out":"zoom-ended"," select-none rounded-md w-full h-full object-center object-cover")})}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full p-".concat(C," space-y-").concat(C),onMouseLeave:function(e){return(t=e).preventDefault(),t.target,ye({}),De(!0),void Pe(k);var t},children:[[1,4,2,3,5,6].includes(oe)&&Object(y.jsxs)("div",{className:"flex flex-auto flex-row space-x-".concat(C),children:[Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,1)},onMouseOver:function(e){return pt(e,1)},children:D[5]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,2)},onMouseOver:function(e){return pt(e,2)},children:D[6]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,3)},onMouseOver:function(e){return pt(e,3)},children:D[7]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,4)},onMouseOver:function(e){return pt(e,4)},children:D[8]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,5)},onMouseOver:function(e){return pt(e,5)},children:D[9]})]}),Object(y.jsxs)("div",{className:"flex flex-auto flex-row space-x-".concat(C),children:[[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,6)},onMouseOver:function(e){return pt(e,6)},children:D[33]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,7)},onMouseOver:function(e){return pt(e,7)},children:D[34]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,8)},onMouseOver:function(e){return pt(e,8)},children:D[35]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,9)},onMouseOver:function(e){return pt(e,9)},children:D[36]}),[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,10)},onMouseOver:function(e){return pt(e,10)},children:D[37]})]}),Object(y.jsxs)("div",{className:"flex flex-auto flex-row space-x-".concat(C),children:[[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,11)},onMouseOver:function(e){return pt(e,11)},children:D[33]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,12)},onMouseOver:function(e){return pt(e,12)},children:D[34]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,13)},onMouseOver:function(e){return pt(e,13)},children:D[35]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,14)},onMouseOver:function(e){return pt(e,14)},children:D[36]}),[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,15)},onMouseOver:function(e){return pt(e,15)},children:D[37]})]}),Object(y.jsxs)("div",{className:"flex flex-auto flex-row space-x-".concat(C),children:[[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,16)},onMouseOver:function(e){return pt(e,16)},children:D[33]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,17)},onMouseOver:function(e){return pt(e,17)},children:D[34]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,18)},onMouseOver:function(e){return pt(e,18)},children:D[35]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,19)},onMouseOver:function(e){return pt(e,19)},children:D[36]}),[1,4,2,3,5,6].includes(oe)&&Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,20)},onMouseOver:function(e){return pt(e,20)},children:D[37]})]}),[1,4,2,3,5,6].includes(oe)&&Object(y.jsxs)("div",{className:"flex flex-auto flex-row space-x-".concat(C),children:[Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,21)},onMouseOver:function(e){return pt(e,21)},children:D[33]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,22)},onMouseOver:function(e){return pt(e,22)},children:D[34]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,23)},onMouseOver:function(e){return pt(e,23)},children:D[35]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,24)},onMouseOver:function(e){return pt(e,24)},children:D[36]}),Object(y.jsx)("div",{className:"flex-auto h-full ".concat(Ue),onClick:function(e){return ht(e,25)},onMouseOver:function(e){return pt(e,25)},children:D[37]})]})]}),_e&&je.containerClass&&ke&&Object(y.jsx)("div",{className:"pointer-events-none flex w-full h-full ".concat(je.containerClass," ").concat(3===oe&&"bg-gray-800 bg-opacity-15","  ").concat(6===oe&&"bg-gray-50 bg-opacity-20"),children:Object(y.jsx)("div",{className:"min-w-min pointer-events-none ".concat(je.zoneClass," ").concat(1===oe&&"bg-gray-900 bg-opacity-40"," ").concat(4===oe&&"bg-gray-50 bg-opacity-60"," ","border-3 border-blue-600 border-opacity-75"," rounded"),style:{maxWidth:"".concat(parseInt(m)+2,"%"),margin:"".concat(gt(je.margins[0]),"px ").concat(gt(je.margins[1]),"px ").concat(gt(je.margins[2]),"px ").concat(gt(je.margins[3]),"px")},children:Object(y.jsx)("div",{className:"select-none pointer-events-none align-middle font-medium rounded ".concat(je.textClass," ").concat(oe>=4?"text-gray-900":"text-white"),style:oe>=4?{textShadow:z,padding:"".concat(gt(je.paddings[0]),"px ").concat(gt(je.paddings[1]),"px ").concat(gt(je.paddings[2]),"px ").concat(gt(je.paddings[3]),"px"),fontSize:"".concat(gt(M[Ve][0]),"px"),lineHeight:"".concat(gt(M[Ve][1]),"px")}:{textShadow:T,padding:"".concat(gt(je.paddings[0]),"px ").concat(gt(je.paddings[1]),"px ").concat(gt(je.paddings[2]),"px ").concat(gt(je.paddings[3]),"px"),fontSize:"".concat(gt(M[Ve][0]),"px"),lineHeight:"".concat(gt(M[Ve][1]),"px")},children:ae})})}),_e&&we.containerClass&&!je.containerClass&&Object(y.jsx)("div",{className:"pointer-events-none flex w-full h-full ".concat(we.containerClass," ").concat(3===oe&&"bg-gray-900 bg-opacity-15"," ").concat(6===oe&&"bg-gray-50 bg-opacity-20"),children:Object(y.jsx)("div",{className:"min-w-min pointer-events-none ".concat(we.zoneClass," ").concat(1===oe&&"bg-gray-900 bg-opacity-50"," ").concat(4===oe&&"bg-gray-50 bg-opacity-70"),style:{maxWidth:"".concat(m,"%"),margin:"".concat(gt(we.margins[0]),"px ").concat(gt(we.margins[1]),"px ").concat(gt(we.margins[2]),"px ").concat(gt(we.margins[3]),"px")},children:Object(y.jsx)("div",{className:"select-none pointer-events-none font-medium ".concat(we.textClass," ").concat(oe>=4?"text-gray-900":"text-white"),style:oe>=4?{textShadow:z,padding:"".concat(gt(we.paddings[0]),"px ").concat(gt(we.paddings[1]),"px ").concat(gt(we.paddings[2]),"px ").concat(gt(we.paddings[3]),"px"),fontSize:"".concat(gt(M[Ve][0]),"px"),lineHeight:"".concat(gt(M[Ve][1]),"px")}:{textShadow:T,padding:"".concat(gt(we.paddings[0]),"px ").concat(gt(we.paddings[1]),"px ").concat(gt(we.paddings[2]),"px ").concat(gt(we.paddings[3]),"px"),fontSize:"".concat(gt(M[Ve][0]),"px"),lineHeight:"".concat(gt(M[Ve][1]),"px")},children:ae})})}),tt&&Object(y.jsx)("div",{className:"flex w-full h-full bg-gray-800 bg-opacity-70 items-center justify-center p-3",children:Object(y.jsx)(I,{className:"h-8 w-8 text-white"})})]}),Object(y.jsxs)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2",children:[""!==Z&&Object(y.jsxs)("div",{className:"relative w-full",children:[!ue&&Object(y.jsx)(j.i,{onClick:function(e){return bt(e,!0)},className:"absolute right-10 top-0 h-7 w-7 -mt-1 text-blue-600 hover:text-blue-500 cursor-pointer"}),Object(y.jsx)(j.b,{onClick:yt,className:"absolute right-1 top-0 h-7 w-7 -mt-1 text-blue-600 hover:text-blue-500 cursor-pointer"})]}),Object(y.jsxs)("div",{className:"flex flex-row w-3/4 md:w-full mt-0 items-center ml-1",children:[ot?Object(y.jsx)(j.f,{className:"h-4 w-4 text-green-500 mr-1 md:self-center self-start"}):Object(y.jsx)(j.d,{className:"h-4 w-4 text-green-500 mr-1"}),Object(y.jsx)("div",{className:"select-none text-green-500 text-xs text-left md:text-center",children:"Cliquez dans la vignette pour d\xe9placer le texte"})]})]}),Object(y.jsxs)("div",{className:"flex flex-col lg:flex-row flex-wrap item-center justify-start align-middle w-full mt-4",children:[Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("div",{className:"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:"Taille du texte :"}),Object(y.jsx)("div",{className:"select-none rounded-md m-1 px-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:Object(y.jsx)("input",{type:"range",id:"fontSize",step:1,name:"fontSize",min:"0",max:"10",onChange:function(e){return Je(e.target.value)},defaultValue:4})})]}),Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("div",{className:"select-none rounded-md m-1 lg:pl-6 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:"Largeur du texte :"}),Object(y.jsx)("div",{className:"select-none rounded-md m-1 px-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:Object(y.jsx)("input",{type:"range",id:"textWidth",step:1,name:"textWidth",min:"0",max:"100",onChange:function(e){return h(e.target.value)},defaultValue:60})})]})]}),Object(y.jsxs)("div",{className:"container grid grid-cols-3 gap-2 mx-auto mt-4",children:[Object(y.jsxs)("div",{onClick:function(e){return mt(e,4)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(4===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow justify-center items-center",children:[Object(y.jsx)("div",{className:"w-full rounded-t-md"}),Object(y.jsx)("div",{className:"justify-center items-center text-center align-middle flex flex-row bg-gray-50 bg-opacity-75 rounded-sm",children:Object(y.jsx)("div",{className:"pt-1 pb-1 px-2 lg:px-4 text-center text-gray-900 align-middle font-medium select-none",style:{textShadow:z,fontSize:"".concat(gt(30),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full rounded-b-md"})]})]}),Object(y.jsxs)("div",{onClick:function(e){return mt(e,2)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(2===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow",children:[Object(y.jsx)("div",{className:"w-full flex-auto rounded-t-md"}),Object(y.jsx)("div",{className:"w-full flex-auto justify-center items-center text-center align-middle flex flex-row",children:Object(y.jsx)("div",{className:"py-2 px-24 text-center text-white align-middle font-medium select-none",style:ot?{textShadow:z,fontSize:"".concat(gt(35),"px")}:{textShadow:T,fontSize:"".concat(gt(35),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full flex-auto rounded-b-md"})]})]}),Object(y.jsxs)("div",{onClick:function(e){return mt(e,3)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(3===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsx)("div",{className:"bg-gray-900 bg-opacity-20"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow",children:[Object(y.jsx)("div",{className:"w-full flex-auto rounded-t-md"}),Object(y.jsx)("div",{className:"w-full flex-auto justify-center items-center text-center align-middle flex flex-row",children:Object(y.jsx)("div",{className:"py-2 px-24 text-center text-white align-middle font-medium select-none",style:{textShadow:T,fontSize:"".concat(gt(35),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full flex-auto rounded-b-md"})]})]}),Object(y.jsxs)("div",{onClick:function(e){return mt(e,1)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(1===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow justify-center items-center",children:[Object(y.jsx)("div",{className:"w-full rounded-t-md"}),Object(y.jsx)("div",{className:"justify-center items-center text-center align-middle flex flex-row bg-gray-900 bg-opacity-75 rounded-sm",children:Object(y.jsx)("div",{className:"pt-1 pb-1 px-2 lg:px-4 text-center text-white align-middle font-medium select-none",style:{textShadow:T,fontSize:"".concat(gt(30),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full rounded-b-md"})]})]}),Object(y.jsxs)("div",{onClick:function(e){return mt(e,5)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(5===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow",children:[Object(y.jsx)("div",{className:"w-full flex-auto rounded-t-md"}),Object(y.jsx)("div",{className:"w-full flex-auto justify-center items-center text-center align-middle flex flex-row",children:Object(y.jsx)("div",{className:"py-2 px-24 text-center text-gray-900 align-middle font-medium select-none",style:{textShadow:z,fontSize:"".concat(gt(35),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full flex-auto rounded-b-md"})]})]}),Object(y.jsxs)("div",{onClick:function(e){return mt(e,6)},className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md overflow-hidden border-2 ".concat(6===oe?"border-blue-600 shadow ".concat(""!==Z?"bg-gray-200":"bg-gray-100"):"border-gray-100 bg-gray-100"," hover:border-blue-400 hover:").concat(""!==Z?"bg-gray-200":"bg-gray-100"," cursor-pointer"),children:[""!==Z&&Object(y.jsx)("img",{src:Z,alt:"ThumbBg",className:"w-full h-full object-center object-cover"}),Object(y.jsx)("div",{className:"bg-gray-50 bg-opacity-20"}),Object(y.jsxs)("div",{className:"flex flex-col w-full h-full shadow",children:[Object(y.jsx)("div",{className:"w-full flex-auto rounded-t-md"}),Object(y.jsx)("div",{className:"w-full flex-auto justify-center items-center text-center align-middle flex flex-row",children:Object(y.jsx)("div",{className:"py-2 px-24 text-center text-gray-900 align-middle font-medium select-none",style:{textShadow:z,fontSize:"".concat(gt(35),"px")},children:"Abc"})}),Object(y.jsx)("div",{className:"w-full flex-auto rounded-b-md"})]})]})]})]})})]})},A=n(16),F=function(){var e={},t={refs:[]},n={},a={refs:[]},r={refs:[]},c={},s="GOOGLESHEET",o="API",i={GOOGLESHEET:"",API:""},x={id:0,ref:"",type:"",name:"",baseUrl:"",properties:{},dataSets:{refs:[]}},m={id:0,ref:"",type:"",name:"",baseUrl:"",dataLoaded:!1,storeRefreshRate:36e5,dataStoreRef:"",columns:{refs:[]}},p={id:0,ref:"",dataType:"",name:"",index:0};e.init=function(){var t=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n).then((function(t){var n=q(t);n&&(n.dataSources&&n.dataSources.forEach((function(t){e.createFromJson(t)})),n.queries&&n.queries.forEach((function(e){B(a,a.refs,e.ref,e)})),n.tableModels&&n.tableModels.forEach((function(e){B(r,r.refs,e.ref,e)})))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.add=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=t[e];if(a)throw new Error("Une source de donn\xe9es nomm\xe9e '".concat(e,"' existe d\xe9j\xe0."));n=Object(f.a)(Object(f.a)({},JSON.parse(JSON.stringify(x))),n),B(t,t.refs,e,n)}catch(r){console.error("FcmBd.DataSources.add() : "+r.message)}},e.addDataSet=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{z(e);var c=t[e],s=c.dataSets;if(s[a])throw new Error("Un ensemble de donn\xe9es nomm\xe9 '".concat(a,"' existe d\xe9j\xe0 dans '").concat(e,"'."));if(r=Object(f.a)(Object(f.a)({},JSON.parse(JSON.stringify(m))),r),B(s,s.refs,a,r),n[r.dataStoreRef])throw new Error("Un stockage de donn\xe9es nomm\xe9 '".concat(r.dataStoreRef,"' existe d\xe9j\xe0."));n[r.dataStoreRef]=[],b(e,a)}catch(o){console.error("FcmBd.DataSources.addDataSet() : "+o.message)}},e.addDataSetColumn=function(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{z(e,n);var c=t[e],s=c.dataSets[n],o=s.columns;if(o[a])throw new Error("Une colonne nomm\xe9e '".concat(a,"' existe d\xe9j\xe0 dans '").concat(n,"'."));r=Object(f.a)(Object(f.a)({},JSON.parse(JSON.stringify(p))),r),B(o,o.refs,a,r)}catch(l){console.error("FcmBd.DataSources.addDataSetColumn() : "+l.message)}},e.remove=function(e){try{z(e),I(t,t.refs,e)}catch(n){console.error("FcmBd.DataSources.remove() : "+n.message)}},e.removeDataSet=function(e,a){try{z(e,a);var r=t[e],c=r.dataSets[a];g(e,a),delete n[c.dataStoreRef],I(r.dataSets,r.dataSets.refs,a)}catch(s){console.error("FcmBd.DataSources.removeDataSet() : "+s.message)}},e.removeDataSetColumn=function(e,n,a){try{z(e,n,a);var r=t[e].dataSets[n];I(r.columns,r.columns.refs,a)}catch(c){console.error("FcmBd.DataSources.removeDataSetColumn() : "+c.message)}},e.create=function(){var a=Object(u.a)(d.a.mark((function a(r,c,l){var u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.delegateYield(d.a.mark((function a(){var u,f,x,m,p,h,b,g;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t[r]){a.next=2;break}throw new Error("Une source de donn\xe9es nomm\xe9e '".concat(r,"' existe d\xe9j\xe0."));case 2:u={id:t.refs.length+1,type:H(c),ref:r},e.add(r,u),f=t[r],a.t0=f.type,a.next=a.t0===s?8:a.t0===o?22:24;break;case 8:return x=c.substring(c.indexOf("/d/")+3,c.lastIndexOf("/")),f.properties.spreadsheetId=x,f.baseUrl="https://sheets.googleapis.com/v4/spreadsheets/".concat(x),a.next=13,j(f.baseUrl+i[f.type]);case 13:m=a.sent,f.name=m.properties.title,p=[],h=Object(A.a)(m.sheets);try{for(g=function(){var t=b.value;p.push(j(f.baseUrl+"/values/"+t.properties.title+i[f.type]).then((function(a){var c=t.properties.sheetId,s="".concat(r,"_").concat(c),o=t.properties.title,l={id:c,type:"JSON",name:o,baseUrl:"/values/"+o,dataStoreRef:s};e.addDataSet(r,o,l);var i=f.dataSets[o];a.values.length>0&&a.values[0].forEach((function(t,n){var c={id:n+1,ref:t,dataType:F(a.values[1][n]),name:t,index:n};e.addDataSetColumn(r,o,t,c)})),a.values.splice(0,1),a.values.forEach((function(e,t){var a={};i.columns.refs.forEach((function(t,n){a[t]=e[n]?e[n]:""})),n[s].push(a)})),i.dataLoaded=!0})))},h.s();!(b=h.n()).done;)g()}catch(d){h.e(d)}finally{h.f()}return a.next=21,Promise.all(p);case 21:return a.abrupt("break",26);case 22:case 24:return f.baseUrl=c,a.abrupt("break",26);case 26:return a.abrupt("return",{v:l(null,t[r])});case 27:case"end":return a.stop()}}),a)}))(),"t0",2);case 2:if("object"!==typeof(u=a.t0)){a.next=5;break}return a.abrupt("return",u.v);case 5:a.next=10;break;case 7:a.prev=7,a.t1=a.catch(0),console.error("FcmBd.DataSources.create() : "+a.t1.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t,n){return a.apply(this,arguments)}}(),e.createFromJson=function(t){var n=t.dataSets;delete t.dataSets;var a=t,r=a.ref;e.add(r,a),n.refs.forEach((function(t){var a=n[t].columns;delete n[t].columns,e.addDataSet(r,t,n[t]),a.refs.forEach((function(n){e.addDataSetColumn(r,t,n,a[n])}))}))},e.find=function(e){return t[e]},e.list=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return n?n&&!a?e=t[n].dataSets.refs:n&&a&&(e=t[n].dataSets[a].columns.refs):e=t.refs,e},e.executeStoredQuery=function(){var t=Object(u.a)(d.a.mark((function t(n){var r,c,s=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:void 0,t.prev=1,!(c=a[n])){t.next=8;break}return r&&(c=Object(f.a)(Object(f.a)({},c),r)),t.abrupt("return",e.query(c.dataSourceRef,c.liveData,c));case 8:throw new Error("La requ\xeate '".concat(n,"' n'existe pas."));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("FcmBd.DataSources.executeStoredQuery() : "+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),e.getStoredQueryTableModel=function(e){try{var t=a[e];if(t){if(t.tableModel){var n=r[t.tableModel];if(n)return n;throw new Error("Le mod\xe8le de tableau '".concat(t.tableModel,"' n'existe pas."))}throw new Error("Aucun mod\xe8le de tableau n'existe pour la requ\xeate '".concat(e,"'."))}throw new Error("La requ\xeate '".concat(e,"' n'existe pas."))}catch(c){console.error("FcmBd.DataSources.executeStoredQuery() : "+c.message)}},e.query=function(){var a=Object(u.a)(d.a.mark((function a(c){var s,o,l,i,u,f,x,m,p=arguments;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=p.length>1&&void 0!==p[1]&&p[1],o=p.length>2&&void 0!==p[2]?p[2]:{},a.prev=2,z(c,o.from),l=M(),i={datasetNbRows:0,returnedNbRows:0,duration:0,data:[]},u=[],!(f=t[c])){a.next=29;break}if(!(x=f.dataSets[o.from]).dataLoaded||s){a.next=25;break}return u=n[x.dataStoreRef],i.datasetNbRows=u.length,o.where&&(u=D(u,o.where,x.columns)),o.select&&u.length>0&&(u=T(u,o.select)),o.orderBy&&u.length>0&&(u=E(u,o.orderBy,x.columns)),o.skip&&o.limit?u=u.slice(o.skip,o.skip+o.limit):o.limit?u=u.slice(0,o.limit):o.skip&&(u=u.slice(o.skip)),o.tableModel&&(m=r[o.tableModel])&&(i.tableModel=m),i.returnedNbRows=u.length,i.data=u,i.duration=(M()-l)/1e3,0===i.duration&&(i.duration=1e-4),a.abrupt("return",i);case 25:return x.dataLoaded=!1,a.next=28,h(f.ref,x.ref).then((function(){return e.query(c,!1,o)}));case 28:return a.abrupt("return",a.sent);case 29:a.next=34;break;case 31:a.prev=31,a.t0=a.catch(2),console.error("FcmBd.DataSources.query() : "+a.t0.message);case 34:case"end":return a.stop()}}),a,null,[[2,31]])})));return function(e){return a.apply(this,arguments)}}(),e.checkStoredQueryResultUpdated=function(e,n){try{var r=a[e];if(r)return t[r.dataSourceRef].dataSets[r.from].lastUpdateTime>n;throw new Error("La requ\xeate '".concat(e,"' n'existe pas."))}catch(c){console.error("FcmBd.DataSources.executeStoredQuery() : "+c.message)}};var h=function(){var e=Object(u.a)(d.a.mark((function e(a,r){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(c=t[a]).dataSets[r],e.next=4,j(c.baseUrl+s.baseUrl+i[c.type]).then((function(e){var t=void 0;switch(c.type){case"GOOGLESHEET":t=[],e.values.splice(0,1),e.values.forEach((function(e,n){var a={};s.columns.refs.forEach((function(t,n){a[t]=e[n]?e[n]:""})),t.push(a)}));break;default:switch(s.type){case"CSV":t=[],e.forEach((function(e,n){var a={};s.columns.refs.forEach((function(t,n){a[t]=e[n]?e[n]:""})),t.push(a)}));break;default:t=e}}t&&(n[s.dataStoreRef]&&JSON.stringify(n[s.dataStoreRef])!==JSON.stringify(t)&&(n[s.dataStoreRef]=t,s.lastUpdateTime=M()),s.dataLoaded=!0)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e,n){var a=t[e].dataSets[n];!a.updateStoreInterval&&a.storeRefreshRate&&(a.updateStoreInterval=setInterval((function(){h(e,n)}),a.storeRefreshRate<1e3?1e3:a.storeRefreshRate))},g=function(e,n){var a=t[e].dataSets[n];a.updateStoreInterval&&(clearInterval(a.updateStoreInterval),a.updateStoreInterval=void 0)},j=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,y(n);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.headers.get("content-type");if(t.includes("application/json"))return v(e);if(t.includes("text/html"))return O(e);if(t.includes("text/csv"))return w(e);throw new Error("Sorry, content-type ".concat(t," not supported"))},v=function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(Object.assign({},t,{status:e.status,statusText:e.statusText}))}))},O=function(e){return e.text().then((function(t){return e.ok?t:Promise.reject({status:e.status,statusText:e.statusText,err:t})}))},w=function(e){return e.text().then((function(t){return e.ok?R(t):Promise.reject({status:e.status,statusText:e.statusText,err:t})}))},N=function e(t,n,a){var r,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(null!==n&&"object"==typeof n)if(Array.isArray(n)){var i,d=Object(A.a)(n);try{for(d.s();!(i=d.n()).done;){var u=i.value;if(o=u(t,u,a,c,s,o),"$and"===c&&!o)break;if("$or"===c&&o)break}}catch(b){d.e(b)}finally{d.f()}}else{r=Object.entries(n);var f,x=Object(A.a)(r);try{for(x.s();!(f=x.n()).done;){var m=Object(l.a)(f.value,2),p=m[0],h=m[1];if(p.includes("$")?null!==h&&"object"==typeof h?o=e(t,n=h,a,c=p,s,o):(c=p,o=k(L(t[s],a[s].dataType),L(h,a[s].dataType),c)):null!==h&&"object"==typeof h?o=e(t,n=h,a,c="",s=p,o):(s&&""!==c||(s=p),o=k(L(t[s],a[s].dataType),L(h,a[s].dataType),c),c=""),!o)break}}catch(b){x.e(b)}finally{x.f()}}return o},S=function e(t,n){var a;if(null!==t&&"object"==typeof t)if(Array.isArray(t))a=[],t.forEach((function(t,r){a.push(e(t,n))}));else for(var r=0,c=Object.entries(t);r<c.length;r++){var s=Object(l.a)(c[r],2),o=s[0],i=s[1];o.includes("$")&&(a=C(e(i,n),o))}else"string"==typeof t&&t.startsWith("$")?void 0===(a=n[t.substring(1)])&&(a=t):a=t;return a},C=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(n){case"$concat":t="",e.forEach((function(e){t+=e}));break;case"$lower":t="string"==typeof e?e.toLowerCase():e;break;case"$upper":t="string"==typeof e?e.toUpperCase():e;break;case"$substr":t="string"==typeof e[0]?e[0].substring(e[1],e[2]):e;break;default:t=e}return t},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=!1;switch(n){case"$gt":a=e>t;break;case"$lt":a=e<t;break;case"$gte":a=e>=t;break;case"$lte":a=e<=t;break;case"$ne":a=e!==t;break;case"$in":a=t.includes(e);break;case"$sameMonthAndDay":a=e.getUTCMonth()+1===t.getUTCMonth()+1&&e.getUTCDate()===t.getUTCDate();break;default:a=e===t}return a},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.filter((function(e){return N(e,t,n)}));return a},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.map((function(e){return Object.entries(e)[0]})),r=e.sort((function(e,t){var r,c=0,s=Object(A.a)(a);try{for(s.s();!(r=s.n()).done;){var o=Object(l.a)(r.value,2),i=o[0],d=o[1],u=d?e[i]:t[i],f=d?t[i]:e[i];if("number"===n[i].dataType||"date"===n[i].dataType?((u=L(u,n[i].dataType))<(f=L(f,n[i].dataType))&&(c=-1),u>f&&(c=1)):c=u.localeCompare(f)*d,0!==c)break}}catch(x){s.e(x)}finally{s.f()}return c}));return r},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.entries(t),a=e.map((function(e){var t,a={},r=Object(A.a)(n);try{for(r.s();!(t=r.n()).done;){var c=Object(l.a)(t.value,2),s=c[0],o=c[1];a[s]=null!==o&&"object"==typeof o?S(o,e):e[s]}}catch(i){r.e(i)}finally{r.f()}return a}));return a},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t[e];if(!r)throw new Error("La source de donn\xe9es '".concat(e,"' n'existe pas."));if(n&&!r.dataSets[n])throw new Error("L'ensemble de donn\xe9es '".concat(n,"' n'existe pas dans '").concat(e,"'."));if(a&&!r.dataSets[n].columns[a])throw new Error("La colonne '".concat(a,"' n'existe pas dans '").concat(n,"'."))},M=function(){return(new Date).getTime()},B=function(e,t,n,a){a.ref=n,e[n]=a,t.push(n)},I=function(e,t,n){delete e[n];var a=t.indexOf(n);a>-1&&t.splice(a,1)},H=function(e){return e.indexOf("https://docs.google.com/spreadsheets/")>-1?s:o},F=function(e){var t="string";return""===e?t="string":"true"===e||"false"===e?t="boolean":Date.parse(e)&&(e.includes("-")||e.includes(":"))?t="date":isNaN(parseFloat(e))||(t="number"),t},L=function(e,t){var n;switch(t){case"string":n=String(e);break;case"number":n=Number(e);break;case"boolean":n=Boolean(e);break;case"date":n=new Date(e)}return n},q=function e(t){var n;if("string"==typeof t&&G(t)){if(null!==(n=JSON.parse(t))&&"object"==typeof n)if(Array.isArray(n))n.forEach((function(t,a){n[a]=e(t)}));else for(var a=0,r=Object.entries(n);a<r.length;a++){var c=Object(l.a)(r[a],2),s=c[0],o=c[1];n[s]=e(o)}}else n=t;return n},G=function(e){try{return JSON.parse(e),!0}catch(t){return!1}},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},a=Object.create(null);a.options=t||{},a.reviver=n,a.value="",a.entry=[],a.output=[],a.col=1,a.row=1;for(var r=new RegExp('"|,|\\r\\n|\\n|\\r|[^",\\r\\n]+',"y"),c=/^(\r\n|\n|\r)$/,s=[],o="",l=0;null!==(s=r.exec(e));)switch(o=s[0],l){case 0:switch(!0){case'"'===o:l=3;break;case","===o:l=0,U(a);break;case c.test(o):l=0,U(a),P(a);break;default:a.value+=o,l=2}break;case 2:switch(!0){case","===o:l=0,U(a);break;case c.test(o):l=0,U(a),P(a);break;default:throw l=4,Error("CSVError: Illegal state [row:".concat(a.row,", col:").concat(a.col,"]"))}break;case 3:switch(!0){case'"'===o:l=4;break;default:l=3,a.value+=o}break;case 4:switch(!0){case'"'===o:l=3,a.value+=o;break;case","===o:l=0,U(a);break;case c.test(o):l=0,U(a),P(a);break;default:throw Error("CSVError: Illegal state [row:".concat(a.row,", col:").concat(a.col,"]"))}break;default:throw Error("CSVError: Illegal state [row:".concat(a.row,", col:").concat(a.col,"]"))}return 0!==a.entry.length&&(U(a),P(a)),a.output},U=function(e){var t=e.options.typed?W(e.value):e.value;e.entry.push(e.reviver(t,e.row,e.col)),e.value="",e.col++},P=function(e){e.output.push(e.entry),e.entry=[],e.row++,e.col=1},W=function(e){switch(!0){case"true"===e:case"false"===e:return"true"===e;case/.\./.test(e):return parseFloat(e);case isFinite(e):return parseInt(e);default:return e}};return{DataSources:e,init:function(e){var t=e.GOOGLESHEETAPIKEY;t&&(c.GOOGLESHEETAPIKEY=t,i.GOOGLESHEET="?alt=json&key="+t)}}}(),L=[{img:"https://images.unsplash.com/photo-1523755130311-9eadea3a0861?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80",textColor:"gray-900",textShadow:"0 0px 2px rgba(255,255,255,0.70)",maxNameCol:6},{img:"https://images.unsplash.com/photo-1523757956233-94a86ff74ea5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80",textColor:"gray-900",textShadow:"0 0px 2px rgba(255,255,255,0.70)",maxNameCol:3},{img:"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80",textColor:"gray-900",textShadow:"0 0px 2px rgba(255,255,255,0.70)",maxNameCol:3},{img:"https://images.unsplash.com/photo-1513151233558-d860c5398176?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3500&q=80",textColor:"white",textShadow:"0px 0px 2px rgba(0,0,0,0.9)",maxNameCol:6},{img:"https://images.unsplash.com/photo-1559456751-057ed03f3143?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=5000&q=80",textColor:"white",textShadow:"0px 0px 2px rgba(0,0,0,0.9)",maxNameCol:6},{img:"https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=6400&q=80",textColor:"white",textShadow:"0px 0px 2px rgba(0,0,0,0.9)",maxNameCol:6},{img:"https://images.unsplash.com/photo-1519306980079-d14db7cebf33?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=3800&q=80",textColor:"white",textShadow:"0px 0px 2px rgba(0,0,0,0.9)",maxNameCol:6},{img:"https://images.unsplash.com/photo-1498673394965-85cb14905c89?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3800&q=80",textColor:"white",textShadow:"0px 0px 2px rgba(0,0,0,0.9)",maxNameCol:6}],q=["Joyeux anniversaire!","Bonne f\xeate!","Bon anniversaire!","Nos f\xeat\xe9s de la journ\xe9e!"],G=function(e){var t=e.isHidden,n=Object(a.useState)("2021-09-20"),r=Object(l.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)([]),i=Object(l.a)(o,2),f=i[0],x=i[1],m=Object(a.useState)(0),p=Object(l.a)(m,2),h=p[0],b=p[1],g=Object(a.useState)(0),O=Object(l.a)(g,2),S=O[0],C=O[1],k=Object(a.useState)(!0),D=Object(l.a)(k,2),E=D[0],T=D[1],z=Object(a.useState)(0),M=Object(l.a)(z,2),B=M[0],I=M[1],H=Object(a.useRef)(),A=function(){var e=h+1,t=S+1;b(L.length>e?e:0),C(q.length>t?t:0)},G=function(e,t){e.preventDefault(),t||A(),T(t)};Object(a.useEffect)((function(){if(!t){var e={select:{nom:1,prenom:1,date:1},from:"Fetes",where:{date:{$sameMonthAndDay:c}},orderBy:[{nom:1},{prenom:1}]};F.DataSources.query("TestData",!1,e).then((function(e){x(e.data)}))}}),[t]),Object(a.useEffect)((function(){H.current&&I(H.current.offsetWidth)}),[H]);var R=function(e){var t=B;return(0===B||H.current&&H.current.offsetWidth!==B)&&(t=H.current.offsetWidth,I(t)),t/1920*e},U=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).classList.add("overflow-hidden"),t.classList.add("fixed"),n=document.createElement("div"),a=P(),n.innerHTML=w.a.renderToStaticMarkup(a),document.body.appendChild(t),t.appendChild(n),e.next=10,N.a(n);case 10:r=e.sent,Object(v.saveAs)(r,"thumb.png"),document.body.removeChild(t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){return Object(y.jsxs)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden",style:{width:"1920px",height:"1080px"},ref:H,children:[Object(y.jsx)("div",{className:"overflow-hidden",children:Object(y.jsx)("img",{src:L[h].img,alt:"ThumbBg",className:"select-none w-full h-full object-center object-cover"})}),H.current&&Object(y.jsx)("div",{className:"pointer-events-none flex w-full h-full items-start justify-start",style:{padding:"48px"},children:Object(y.jsxs)("div",{className:"flex-col items-center justify-center rounded-lg",style:{padding:"48px 60px"},children:[Object(y.jsx)("h2",{className:"text-left w-full font-permanentmarker text-".concat(L[h].textColor," select-none"),style:{textShadow:L[h].textShadow,fontSize:"108px",lineHeight:"108px"},children:q[S]}),Object(y.jsx)("div",{className:"grid grid-rows-".concat(f.length>L[h].maxNameCol?Math.ceil(f.length/2):f.length," grid-flow-col"),style:{marginTop:"60px",columnGap:"120px",rowGap:"36px"},children:f.map((function(e,t){return Object(y.jsxs)("div",{className:"text-left font-indieflower tracking-widest text-".concat(L[h].textColor," select-none"),style:{textShadow:L[h].textShadow,fontSize:"66px",lineHeight:"66px",letterSpacing:"6px"},children:[Object(y.jsx)("span",{className:"font-bold",children:"".concat(e.prenom)})," ",Object(y.jsx)("span",{className:"font-bold",children:"".concat(e.nom)})]},"nom_".concat(t))}))})]})})]})};return Object(y.jsxs)("div",{className:"min-h-screen flex-col items-start justify-start bg-gray-100 py-20 lg:py-12 px-4 sm:px-6 lg:px-52 space-y-10 lg:space-y-8 ".concat(t?"hidden":"flex"),children:[Object(y.jsxs)("div",{className:"w-full flex space-y-4 lg:space-y-0 flex-col lg:flex-row items-center lg:justify-between",children:[Object(y.jsx)("h2",{className:"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none",children:"F\xeates automatis\xe9es"}),Object(y.jsxs)("div",{className:"flex flex-row space-x-4 h-full items-center",children:[Object(y.jsx)("input",{id:"date",type:"date",value:c,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),function(){var e={select:{nom:1,prenom:1,date:1},from:"Fetes",where:{date:{$sameMonthAndDay:c}},orderBy:[{nom:1},{prenom:1}]};console.log(F.DataSources.find("TestData")),F.DataSources.query("TestData",!1,e).then((function(e){A(),T(!1),x(e.data)}))}())},onChange:function(e){return s(e.target.value)},className:"h-8 form-input appearance-none rounded-none relative block max-h-20 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"}),Object(y.jsx)(j.b,{onClick:U,className:"text-blue-600 hover:text-blue-500 cursor-pointer h-7 w-7"})]})]}),Object(y.jsx)("div",{className:"lg:px-28 w-full",children:!t&&Object(y.jsx)("div",{className:"w-full overflow-hidden rounded-md shadow",children:Object(y.jsxs)("div",{className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden",ref:H,children:[Object(y.jsx)("div",{className:"overflow-hidden",children:Object(y.jsx)("img",{src:L[h].img,alt:"ThumbBg",onLoad:function(e){G(e,!0)},onAnimationStart:function(e){return G(e,!0)},onAnimationEnd:function(e){return G(e,!1)},className:"".concat(E?"zoom-in-zoom-out":"zoom-ended"," select-none rounded-md w-full h-full object-center object-cover")})}),H.current&&Object(y.jsx)("div",{className:"pointer-events-none flex w-full h-full items-start justify-start",style:{padding:"".concat(R(48),"px")},children:Object(y.jsxs)("div",{className:"flex-col items-center justify-center rounded-lg",style:{padding:"".concat(R(48),"px ").concat(R(60),"px")},children:[Object(y.jsx)("h2",{className:"text-left w-full font-permanentmarker text-".concat(L[h].textColor," select-none"),style:{textShadow:L[h].textShadow,fontSize:"".concat(R(108),"px"),lineHeight:"".concat(R(108),"px")},children:q[S]}),Object(y.jsx)("div",{className:"grid grid-rows-".concat(f.length>L[h].maxNameCol?Math.ceil(f.length/2):f.length," grid-flow-col"),style:{marginTop:"".concat(R(60),"px"),columnGap:"".concat(R(120),"px"),rowGap:"".concat(R(36),"px")},children:f.map((function(e,t){return Object(y.jsxs)("div",{className:"text-left font-indieflower text-".concat(L[h].textColor," select-none"),style:{textShadow:L[h].textShadow,fontSize:"".concat(R(66),"px"),lineHeight:"".concat(R(66),"px"),letterSpacing:"".concat(R(6),"px")},children:[Object(y.jsx)("span",{className:"font-bold",children:"".concat(e.prenom)})," ",Object(y.jsx)("span",{className:"font-bold",children:"".concat(e.nom)})]},"nom_".concat(t))}))})]})})]})})})]})},R="GOOGLESHEET",U="API",P="AIzaSyBprXnSGfHX1HJ4KQv6xYHtfwK_-tWHIYY";function W(){this.id=0,this.name="",this.properties={},this.fetchQuery="",this.type="",this.dataRefreshRate=6e4,this.valid=!1,this.dataLoaded=!1,this.fieldNames=[],this.idFieldName="",this.ressources=[],this.dataSets=[],this.intervalPopulateDynamicFields=void 0,this.intervalUpdateData=void 0,this.data=null,this.formatedData=null,this.dataRefIndex={},this.dynamicFields=[]}function Q(e){var t=e.headers.get("content-type");if(t.includes("application/json"))return function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(Object.assign({},t,{status:e.status,statusText:e.statusText}))}))}(e);if(t.includes("text/html"))return function(e){return e.text().then((function(t){return e.ok?t:Promise.reject({status:e.status,statusText:e.statusText,err:t})}))}(e);throw new Error("Sorry, content-type ".concat(t," not supported"))}W.prototype.load=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,r,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=[],t.indexOf("https://docs.google.com/spreadsheets/")>-1?this.type=R:this.type=U,e.t0=this.type,e.next=e.t0===R?6:e.t0===U?11:13;break;case 6:return r=t.substring(t.indexOf("/d/")+3,t.lastIndexOf("/")),this.properties.spreadsheetId=r,this.fetchQuery="https://sheets.googleapis.com/v4/spreadsheets/".concat(r),n.push(fetch(this.fetchQuery+"?alt=json&key="+P).then(Q).then((function(e){return c.name=e.properties.title,e.sheets.forEach((function(e,t){c.dataSets.push({name:e.properties.title,id:e.properties.sheetId,data:[],columns:[]}),a.push(fetch(c.fetchQuery+"/values/"+e.properties.title+"?alt=json&key="+P).then(Q).then((function(e){return e.values.length>0&&(c.dataSets[t].columns=e.values[0].map((function(e,t){return{id:t+1,name:e,title:e,index:t}}))),e.values.splice(0,1),e.values.forEach((function(e,n){var a={};c.dataSets[t].columns.forEach((function(t,n){a[t.name]=e[n]?e[n]:""})),c.dataSets[t].data.push(a)})),!0})).catch((function(e){return!0})))})),c.valid=!0,!0})).catch((function(e){return!1}))),e.abrupt("break",15);case 11:case 13:return this.fetchQuery=t,e.abrupt("break",15);case 15:return e.next=17,Promise.all(n).then((function(e){return e.forEach((function(e){e||!1})),Promise.all(a).then((function(e){var t=!0;return e.forEach((function(e){e||(t=!1)})),t}))}));case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),W.prototype.init=function(e,t,n,a){this.name=e,this.fetchQuery=t,this.type=n,this.dataRefreshRate=a,this.loadData()},W.prototype.getType=function(){this.url.indexOf("https://docs.google.com/spreadsheets/")>-1?this.type=R:this.type=U},W.prototype.getFetchQuery=function(){switch(this.type){case R:var e=this.url.substring(this.url.indexOf("/d/")+3,this.url.lastIndexOf("/"));this.fetchQuery="https://spreadsheets.google.com/feeds/list/".concat(e,"/3/public/values?alt=json");break;case U:default:this.fetchQuery=this.url}},W.prototype.setData=function(e){switch(this.dataLoaded=!!e,this.type){case"GOOGLESHEET":this.data=e.values;break;default:this.data=e}this.postProcessData()},W.prototype.getData=function(){return this.data},W.prototype.getName=function(){return this.name},W.prototype.setId=function(e){this.id=e},W.prototype.getId=function(){return this.id},W.prototype.asyncLoadData=Object(u.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.fetchQuery);case 2:return t=e.sent,e.t0=Q,e.next=6,t;case 6:e.t1=e.sent,(0,e.t0)(e.t1).then((function(e){return n.setData(e)})).catch((function(e){}));case 8:case"end":return e.stop()}}),e,this)}))),W.prototype.loadData=function(){var e=this;fetch(this.fetchQuery).then(Q).then((function(t){e.setData(t),e.valid=!0})).catch((function(t){console.log(t);var n=e;setTimeout((function(){n.loadData()}),1e3)}))},W.prototype.addDynamicField=function(e,t,n){-1===this.dynamicFields.findIndex((function(e){return e.elementId===n}))&&this.dynamicFields.push({column:e,id:t,elementId:n})},W.prototype.postProcessData=function(){if(0===this.fieldNames.length&&this.retreiveFieldNames(this.data[0]),this.formatDataToModel(this.data,this.fieldNames),!this.intervalUpdateData){var e=this;this.intervalUpdateData=setInterval((function(){e.asyncLoadData()}),this.dataRefreshRate)}},W.prototype.retreiveFieldNames=function(e){switch(this.type){case"GOOGLESHEET":this.fieldNames=e,this.idFieldName=e[0],this.data=this.data.splice(1,this.data.length-1)}},W.prototype.formatDataToModel=function(e,t){var n=this,a=[];switch(this.type){case"GOOGLESHEET":e.forEach((function(e,r){var c={};t.forEach((function(t,n){c[t]=e[n]})),n.dataRefIndex[e[0]]=r,a.push(c)}))}this.formatedData=a},W.prototype.getElementByProperty=function(e,t,n){return this[e].find((function(e){return e[t]===n}))},W.prototype.queryDataSet=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.getElementByProperty("dataSets","id",e);return 0===t.length&&(t=n.columns),this.queryObjectsArray(n.data,t)},W.prototype.queryObjectsArray=function(e,t){var n=[],a=[],r="";return e.forEach((function(e){a=[],r="",t.forEach((function(t){r=e[t.name],a.push(r)})),n.push(a)})),n};var V=W;function J(){this.dataSources=[],this.dynamicFieldsToUpdate=[]}J.prototype.init=function(){},J.prototype.find=function(e){var t=null;for(var n in this.dataSources)this.dataSources[n]&&this.dataSources[n].getId()===e&&(t=this.dataSources[n]);return t},J.prototype.getDataSources=function(){return this.dataSources},J.prototype.add=function(e){e.setId(this.dataSources.length+1),this.dataSources.push(e)},J.prototype.remove=function(e){var t=0;for(var n in this.dataSources){if(this.dataSources[n]&&this.dataSources[n].getId()===e)break;t+=1}t>0&&this.dataSources.splice(t,1)},J.prototype.addDynamicFieldToUpdate=function(e){this.dynamicFieldsToUpdate.push(e)},J.prototype.updateDynamicFields=function(){if(this.dynamicFieldsToUpdate.length>0)for(var e=0;e>this.dynamicFieldsToUpdate.length;e++)this.dynamicFieldsToUpdate[e].dataSource.populateDynamicField(this.dynamicFieldsToUpdate[e].column,this.dynamicFieldsToUpdate[e].id,this.dynamicFieldsToUpdate[e].elementId)};var _=function(e){var t=e.className;return Object(y.jsxs)("svg",{className:"animate-spin ".concat(t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(y.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(y.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},Y=new J,$=function(e){var t=e.isHidden,n=Object(a.useState)("https://docs.google.com/spreadsheets/d/1gwYEvp4q0Zp2-b1DJcO1k3NoBO-BS5pZa6FwmyiXH1w/edit?usp=sharing"),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),x=Object(l.a)(i,2),m=x[0],p=x[1],h=Object(a.useState)([]),b=Object(l.a)(h,2),g=b[0],v=b[1],O=Object(a.useState)(0),w=Object(l.a)(O,2),N=w[0],S=w[1],C=Object(a.useRef)(),k=Object(a.useState)(10),D=Object(l.a)(k,2),E=D[0],T=D[1],z=Object(a.useState)(1),M=Object(l.a)(z,2),B=M[0],I=M[1],H=Object(a.useState)(100),A=Object(l.a)(H,2),L=A[0],q=A[1],G=Object(a.useState)(0),R=Object(l.a)(G,2),U=(R[0],R[1],Object(a.useState)(0)),P=Object(l.a)(U,2),W=P[0],Q=P[1],J=Object(a.useState)(Object(y.jsx)(y.Fragment,{})),$=Object(l.a)(J,2),K=$[0],X=$[1],Z=Object(a.useState)([]),ee=Object(l.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(l.a)(ae,2),ce=re[0],se=re[1],oe=Object(a.useState)(!0),le=Object(l.a)(oe,2),ie=le[0];le[1];Object(a.useEffect)((function(){F.init({GOOGLESHEETAPIKEY:"AIzaSyBprXnSGfHX1HJ4KQv6xYHtfwK_-tWHIYY"}),F.DataSources.create("TestData","https://docs.google.com/spreadsheets/d/1gwYEvp4q0Zp2-b1DJcO1k3NoBO-BS5pZa6FwmyiXH1w/edit?usp=sharing",function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[]);var de=function(){F.DataSources.create("TestData2",c,function(){var e=Object(u.a)(d.a.mark((function e(t,n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F.DataSources.find("TestData2"),r={select:{nom:1,prenom:1,equipe:1,pause:1,debut:1,fin:1},from:"Simons",where:{equipe:9},orderBy:[{nom:1},{prenom:1}],limit:200,skip:0},e.next=4,F.DataSources.query("TestData2",!0,r);case 4:c=e.sent,console.log('FcmBd.DataSources.find("TestData")',a),console.log('FcmBd.DataSources.query("TestData")',c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var e=new V;e.load(c).then((function(t){t&&(Y.add(e),console.log(e),p(Y.getDataSources()),s(""),se(!1))}))},ue=function(e,t){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;e.persist();var c=Object(o.a)(te);c[t][r]=a,ne(c)},fe=function(e,t,n,a){e.persist();var r=Object(o.a)(te);r[a][t]=n,ne(r)};Object(a.useEffect)((function(){var e=[];if(g&&g.length>0){for(var t=N/16*9,n=xe(1.25*E),a=xe(1.5*B),r=xe(25),c=xe(B),s=xe(E),o=Math.floor((t-n-0-0-2*r-2*a)/(2*c+s+1)),l=function(t){var n=te.filter((function(e){return!0===e.display})),a=m[g[0]].queryDataSet(g[1],te.filter((function(e){return!0===e.display}))).slice(o*t,o*t+o);if(a.length>0){var r=Object(y.jsxs)("div",{className:"table rounded-sm overflow-hidden",style:{width:"".concat(L,"%"),marginLeft:"".concat(0===t?0:xe(10),"px")},children:[Object(y.jsx)("div",{className:"table-header-group bg-gray-200 bg-opacity-90",children:Object(y.jsx)("div",{className:"table-row",children:n.map((function(e){return Object(y.jsx)("div",{className:"table-cell align-middle font-medium select-none leading-none truncate",style:{padding:"".concat(xe(1.5*B),"px ").concat(xe(3*B),"px ").concat(xe(1.5*B),"px ").concat(xe(3*B),"px"),fontSize:"".concat(xe(1.25*E),"px"),lineHeight:"".concat(xe(1.25*E),"px"),width:e.width>0?"".concat(e.width,"%"):"auto",textAlign:e.textAlign},children:e.title})}))})}),Object(y.jsx)("div",{className:"table-row-group bg-white bg-opacity-90",style:{padding:"".concat(xe(B),"px 0")},children:a.map((function(e){return Object(y.jsx)("div",{className:"table-row",children:e.map((function(e,t){return Object(y.jsx)("div",{className:"table-cell align-middle select-none leading-none truncate border-t border-gray-300",style:{padding:"".concat(xe(B),"px ").concat(xe(3*B),"px ").concat(xe(B),"px ").concat(xe(3*B),"px"),fontSize:"".concat(xe(E),"px"),lineHeight:"".concat(xe(E),"px"),textAlign:n[t].textAlign},children:e})}))})}))})]});e.push(r)}},i=0;i<1;i++)l(i);Q(o)}X(e)}),[N,E,B,m,g,te,L]),Object(a.useEffect)((function(){S(C.current.offsetWidth)}),[C]);var xe=function(e){var t=N;return 0===N&&(t=C.current.offsetWidth,S(t)),t/672*e};return Object(y.jsxs)("div",{className:"min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-50 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-20 lg:space-y-0 lg:space-x-40 ".concat(t?"hidden":"flex"),children:[Object(y.jsxs)("div",{className:"max-w-2xl w-full space-y-3",children:[Object(y.jsx)("div",{className:"flex flex-col items-start justify-start",children:Object(y.jsx)("h2",{className:"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none",children:"Source de donn\xe9es"})}),Object(y.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:Object(y.jsxs)("div",{className:"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md w-full",children:[Object(y.jsx)("div",{className:"w-full flex flex-col",children:Object(y.jsx)("input",{id:"texte",onChange:function(e){var t=e.target.value;e.persist(),s(t)},value:c,name:"dataSourceUrl",type:"text",required:!0,className:"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Entrez l'url de la source de donn\xe9es",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),se(!0),de())}})}),Object(y.jsx)("div",{onClick:function(e){if(e.preventDefault(),c)se(!0),de();else{se(!0);F.DataSources.query("TestData",!1,{select:{nom:1,prenom:1,equipe:1,pause:1,debut:1,fin:1},from:"Simons",where:{$and:[{pause:"A"},{equipe:121}]},orderBy:[{nom:1},{prenom:1}],limit:200,skip:0}).then((function(e){console.log('FcmBd.DataSources.query("TestData")',e),se(!1)}))}},className:"rounded-md select-none h-9 w-9 font-medium text-center text-sm text-white align-middle border-2 flex items-center justify-center ".concat(ie?"cursor-pointer shadow bg-blue-600 hover:bg-blue-500 border-blue-600 hover:border-blue-500":"pointer-event-none bg-gray-100 border-gray-100"),children:ce?Object(y.jsx)(_,{className:"h-5 w-5 text-white"}):ie?Object(y.jsx)(j.c,{className:"h-6 w-6 text-white"}):Object(y.jsx)(j.m,{className:"h-6 w-6 text-gray-300"})})]})}),Object(y.jsx)("div",{className:"flex flex-row space-x-2 items-start justify-start",children:m.map((function(e,t){return Object(y.jsx)("div",{className:"cursor-pointer flex flex-row items-center py-3 px-4 space-x-4 justify-center rounded-md border shadow-sm ".concat("text-gray-900 bg-gray-100 hover:bg-gray-100 border-gray-100 hover:border-gray-100"),children:Object(y.jsxs)("div",{className:"flex flex-col items-start justify-start space-y-1",children:[Object(y.jsx)("div",{className:"leading-none font-medium",children:e.name}),Object(y.jsx)("div",{className:"leading-none font-light text-xs",children:e.type}),Object(y.jsx)("div",{className:"flex flex-row items-start justify-start space-x-2 pt-2",children:e.dataSets.map((function(e,n){return Object(y.jsx)("div",{onClick:function(){return function(e,t){v([e,t]);var n=m[e].getElementByProperty("dataSets","id",t).columns.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{filters:{},format:"",width:0,textAlign:"left",textDescriptions:{},display:!0})}));ne(n)}(t,e.id)},className:"cursor-pointer flex flex-row items-center justify-center py-0.5 px-2 rounded-sm border bg-transparent ".concat(g.length>0&&g[0]===t&&g[1]===e.id?"text-white bg-blue-500 border-blue-500":"text-gray-600 border-gray-300 hover:border-blue-500 hover:text-blue-500"),children:Object(y.jsx)("div",{className:"text-xs",children:e.name})},n)}))})]})},t)}))}),te.length>0&&Object(y.jsx)("div",{className:"flex flex-col item-start justify-start space-y-2 bg-gray-100 p-2 rounded-md w-full",children:Object(y.jsxs)("div",{className:"table w-full rounded-sm",children:[Object(y.jsx)("div",{className:"table-header-group",children:Object(y.jsxs)("div",{className:"table-row",children:[Object(y.jsx)("div",{className:"table-cell text-xs font-medium py-1 px-2"}),Object(y.jsx)("div",{className:"table-cell text-xs font-medium py-1 px-2",children:"Titre"}),Object(y.jsx)("div",{className:"table-cell text-xs font-medium py-1 px-2 text-center",children:"Afficher"}),Object(y.jsx)("div",{className:"table-cell text-xs font-medium py-1 px-2",children:"Alignement"}),Object(y.jsx)("div",{className:"table-cell text-xs font-medium py-1 px-2",children:"Largeur"})]})}),Object(y.jsx)("div",{className:"table-row-group",children:te.map((function(e,t){return Object(y.jsxs)("div",{className:"table-row",children:[Object(y.jsx)("div",{className:"table-cell text-xs py-1 px-1 text-center align-middle",children:t+1}),Object(y.jsx)("div",{className:"table-cell py-1 px-2 align-middle",children:Object(y.jsx)("input",{id:"title-".concat(t),onChange:function(e){return ue(e,t)},value:e.title,name:"title",type:"text",autoComplete:"off",className:"resize-none appearance-none rounded-none relative block h-6 w-full px-2 py-1 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Titre"})}),Object(y.jsx)("div",{className:"table-cell py-1 px-2 text-center align-middle",children:Object(y.jsx)("input",{type:"checkbox",id:"display-".concat(t),name:"display",checked:e.display,onChange:function(e){return ue(e,t)},className:"appearance-none cursor-pointer checked:bg-blue-500 checked:border-transparent"})}),Object(y.jsx)("div",{className:"table-cell py-1 px-2 align-middle",children:Object(y.jsxs)("div",{className:"flex flex-row space-x-1",children:[Object(y.jsx)("div",{onClick:function(e){return fe(e,"textAlign","left",t)},className:"cursor-pointer",children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat("left"===e.textAlign&&"text-blue-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M 4 6 h 16 M 4 12 h 8 m -8 6 h 12"})})}),Object(y.jsx)("div",{onClick:function(e){return fe(e,"textAlign","center",t)},className:"cursor-pointer",children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat("center"===e.textAlign&&"text-blue-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M 4 6 h 16 M 8 12 h 8 m -10 6 h 12"})})}),Object(y.jsx)("div",{onClick:function(e){return fe(e,"textAlign","right",t)},className:"cursor-pointer",children:Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat("right"===e.textAlign&&"text-blue-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M 4 6 h 16 M 12 12 h 8 m -12 6 h 12"})})})]})}),Object(y.jsx)("div",{className:"table-cell py-1 px-2 align-middle",children:Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("input",{type:"range",className:"cursor-pointer",id:"width-".concat(t),step:1,name:"width",min:"0",max:100,onChange:function(e){return ue(e,t)},defaultValue:0}),Object(y.jsx)("div",{className:"text-xs px-2",children:e.width})]})})]},e.name)}))})]})})]}),Object(y.jsx)("div",{className:"max-w-2xl w-full space-y-3",ref:C,children:g&&g.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"w-full aspect-w-16 aspect-h-9 bg-gray-100 rounded-md shadow overflow-hidden",children:[Object(y.jsx)("div",{className:"w-full h-full gradientBackground"}),Object(y.jsx)("div",{className:"flex flex-row w-full h-full items-start justify-start",style:{padding:"".concat(xe(25),"px ").concat(xe(25),"px ").concat(xe(25),"px ").concat(xe(25),"px")},children:K})]}),Object(y.jsx)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2",children:Object(y.jsx)("div",{children:"".concat(W,"/").concat(m[g[0]].queryDataSet(g[1],te.filter((function(e){return!0===e.display}))).length)})}),Object(y.jsx)("div",{className:"flex flex-row flex-wrap item-center justify-start align-middle w-full mt-2",children:Object(y.jsxs)("div",{className:"flex flex-col lg:flex-row flex-wrap item-center justify-start align-middle w-full mt-4",children:[Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("div",{className:"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:"Taille du texte :"}),Object(y.jsx)("div",{className:"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:Object(y.jsx)("input",{type:"range",id:"fontSize",step:.1,name:"fontSize",min:"4",max:"25",onChange:function(e){return T(parseFloat(e.target.value))},defaultValue:10})}),Object(y.jsx)("div",{className:"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:E})]}),Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("div",{className:"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:"Largeur du tableau :"}),Object(y.jsx)("div",{className:"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:Object(y.jsx)("input",{type:"range",id:"padding",step:1,name:"padding",min:"0",max:"100",onChange:function(e){return q(parseInt(e.target.value))},defaultValue:100})}),Object(y.jsx)("div",{className:"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:L})]}),Object(y.jsxs)("div",{className:"flex flex-row",children:[Object(y.jsx)("div",{className:"select-none rounded-md m-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:"Espacement :"}),Object(y.jsx)("div",{className:"select-none rounded-md m-1 pl-2 pr-1 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:Object(y.jsx)("input",{type:"range",id:"padding",step:.1,name:"padding",min:"1",max:"10",onChange:function(e){return I(parseFloat(e.target.value))},defaultValue:1})}),Object(y.jsx)("div",{className:"select-none w-4 rounded-md m-1 pr-2 py-0.5 text-center text-xs flex items-center font-medium justify-center align-middle border-2 text-gray-600 bg-gray-50 border-gray-50",children:B})]})]})})]})})]})},K=n(40),X=n(41),Z=n(26),ee=function(e){var t=e.className;return Object(y.jsxs)("svg",{className:"animate-spin ".concat(t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(y.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(y.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},te=function(e){var t=e.list,n=e.onChange,r=Object(a.useState)(""),c=Object(l.a)(r,2),s=c[0],o=c[1];return Object(y.jsx)("div",{className:"w-72",children:Object(y.jsx)(K.a,{value:s,onChange:function(e){n(e),o(e)},children:Object(y.jsxs)("div",{className:"relative",children:[Object(y.jsxs)(K.a.Button,{className:"relative border border-gray-200 w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[Object(y.jsx)("span",{className:"block truncate",children:s||"Choisir"}),Object(y.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(y.jsx)(Z.b,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),Object(y.jsx)(X.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(y.jsx)(K.a.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none z-10 sm:text-sm",children:t.map((function(e,t){return Object(y.jsx)(K.a.Option,{className:function(e){var t=e.active;return"".concat(t?"text-blue-900 bg-blue-100":"text-gray-900","\n                            cursor-default select-none relative py-2 pl-10 pr-4")},value:e,children:function(t){var n=t.selected;t.active;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"".concat(n?"font-medium":"font-normal"," block truncate"),children:e}),n?Object(y.jsx)("span",{className:"".concat("text-blue-600","\n                                    absolute inset-y-0 left-0 flex items-center pl-3"),children:Object(y.jsx)(Z.a,{className:"w-5 h-5","aria-hidden":"true"})}):null]})}},t)}))})})]})})})},ne=function(e){var t=e.isHidden,n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(),i=Object(l.a)(o,2),d=i[0],u=i[1],f=Object(a.useState)(),x=Object(l.a)(f,2),m=x[0],p=x[1],h=Object(a.useState)(),b=Object(l.a)(h,2),g=b[0],j=b[1],v=Object(a.useState)(),O=Object(l.a)(v,2),w=O[0],N=O[1],S=Object(a.useState)(),C=Object(l.a)(S,2),k=C[0],D=C[1],E=Object(a.useState)(),T=Object(l.a)(E,2),z=T[0],M=T[1],B=Object(a.useState)(),I=Object(l.a)(B,2),H=I[0],A=I[1],L=Object(a.useState)(),q=Object(l.a)(L,2),G=q[0],R=q[1],U=Object(a.useState)(!1),P=Object(l.a)(U,2),W=P[0];P[1];Object(a.useEffect)((function(){if(d){var e={};F.DataSources.list(c,d).forEach((function(t){e[t]=1}));var t=JSON.stringify(e).replaceAll(",",", ").replaceAll(":",": ").replaceAll("{","{ ").replaceAll("}"," }");p(t);var n=Q(d,t);A(n),F.DataSources.query(c,!1,n).then((function(e){return R(e)}))}}),[c,d]);var Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s={};return e&&(s.from=e),V(t)&&(s.select=JSON.parse(t)),V(n)&&(s.where=JSON.parse(n)),V(a)&&(s.orderBy=JSON.parse(a)),""!==r&&void 0!==r&&(s.limit=parseFloat(r)),""!==c&&void 0!==c&&(s.skip=parseFloat(c)),s},V=function(e){try{JSON.parse(e)}catch(t){return!1}return!0};return Object(y.jsxs)("div",{className:"min-h-screen flex-col lg:flex-row items-start justify-center bg-gray-100 py-20 lg:py-12 px-4 sm:px-6 lg:px-8 space-y-20 lg:space-y-0 lg:space-x-20 ".concat(t?"hidden":"flex"),children:[Object(y.jsxs)("div",{className:"max-w-xl w-full space-y-7",children:[Object(y.jsx)("div",{className:"flex flex-col items-start justify-start",children:Object(y.jsx)("h2",{className:"ml-2 text-left text-3xl font-extrabold text-gray-900 select-none",children:"Concepteur de tableau"})}),Object(y.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:Object(y.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg w-full",children:[Object(y.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[Object(y.jsx)("h3",{className:"select-none text-lg leading-6 font-medium text-gray-900",children:"Nouveau tableau"}),Object(y.jsx)("p",{className:"select-none mt-1 max-w-2xl text-sm text-gray-500",children:"D\xe9finissez les donn\xe9es \xe0 afficher."})]}),Object(y.jsx)("div",{className:"border-t border-gray-200",children:Object(y.jsxs)("dl",{children:[Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Source"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsxs)("div",{className:"flex flex-col space-y-1 w-full",children:[Object(y.jsx)(te,{list:F.DataSources.list(),onChange:s}),c&&Object(y.jsx)(te,{list:F.DataSources.list(c),onChange:u})]})})]}),Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Colonnes"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsx)("textarea",{id:"columns",onChange:function(e){var t=e.target.value;e.persist(),p(t)},value:m,name:"columns",type:"textarea",required:!0,className:"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs",placeholder:"Colonnes \xe0 afficher"})})]}),Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Filtres"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsx)("textarea",{id:"where",onChange:function(e){var t=e.target.value;e.persist(),j(t)},value:g,name:"where",type:"textarea",required:!0,className:"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs",placeholder:"Condition d'affichage"})})]}),Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Tri"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsx)("textarea",{id:"orderBy",onChange:function(e){var t=e.target.value;e.persist(),N(t)},value:w,name:"orderBy",type:"textarea",required:!0,className:"resize-none select-all appearance-none rounded-none relative block w-full h-16 max-h-16 px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 rounded-md focus:placeholder-transparent focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-xs",placeholder:"Tri"})})]}),Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Limite"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsx)("input",{id:"limit",onChange:function(e){var t=e.target.value;e.persist(),D(t)},value:k,name:"limit",type:"number",required:!0,className:"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Nombre maximum de lignes retourn\xe9es"})})]}),Object(y.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(y.jsx)("dt",{className:"select-none text-sm font-medium text-gray-500",children:"Saut"}),Object(y.jsx)("dd",{className:"select-none mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(y.jsx)("input",{id:"skip",onChange:function(e){var t=e.target.value;e.persist(),M(t)},value:z,name:"skip",type:"number",required:!0,className:"resize-none appearance-none rounded-none relative block h-9 w-full px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Ligne de d\xe9part"})})]}),Object(y.jsx)("div",{className:"px-4 py-5 sm:px-6 justify-end flex border-t border-gray-200",children:Object(y.jsx)("div",{onClick:function(e){var t=Q(d,m,g,w,k,z);A(t),F.DataSources.query(c,!1,t).then((function(e){return R(e)}))},className:"w-1/5 rounded-md select-none font-medium py-1 px-2 text-center text-sm text-white shadow align-middle bg-blue-600 hover:bg-blue-500 cursor-pointer border-2 border-blue-600 hover:border-blue-500 flex items-center justify-center",children:W?Object(y.jsx)(ee,{className:"h-5 w-5 text-white"}):"Ex\xe9cuter"})})]})})]})})]}),Object(y.jsx)("div",{className:"max-w-5xl overscroll-auto w-full space-y-3",children:H&&G&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"",children:Object(y.jsxs)("div",{className:"flex flex-row items-start justify-start space-x-2",children:[Object(y.jsxs)("div",{className:"px-5 py-2 bg-white shadow sm:rounded-lg",children:[Object(y.jsx)("h3",{className:"select-none text-xs text-gray-500",children:"Nb. rang\xe9es"}),Object(y.jsx)("p",{className:"select-none text-sm font-medium text-gray-900",children:"".concat(G.returnedNbRows,"/").concat(G.datasetNbRows)})]}),Object(y.jsxs)("div",{className:"px-5 py-2 bg-white shadow sm:rounded-lg",children:[Object(y.jsx)("h3",{className:"select-none text-xs text-gray-500",children:"Dur\xe9e"}),Object(y.jsx)("p",{className:"select-none text-sm font-medium text-gray-900",children:"".concat(G.duration,"s")})]})]})}),Object(y.jsxs)("div",{className:"table rounded-lg overflow-hidden w-full shadow",children:[Object(y.jsx)("div",{className:"table-header-group bg-gray-900 bg-opacity-90",children:Object(y.jsx)("div",{className:"table-row",children:Object.keys(H.select).map((function(e){return Object(y.jsx)("div",{className:"py-2 px-2 table-cell text-sm align-middle text-white font-medium select-none leading-none truncate",children:e},"".concat(e,"_header"))}))})}),G&&G.data&&G.data.length>0&&Object(y.jsx)("div",{className:"table-row-group bg-white bg-opacity-90",children:G.data.map((function(e,t){return Object(y.jsx)("div",{className:"table-row",children:Object.keys(H.select).map((function(t,n){return Object(y.jsx)("div",{className:"py-1 px-2 table-cell text-xs align-middle select-none leading-none truncate border-t border-gray-300",children:e[t]},"".concat(t,"_").concat(n+1))}))},"row_".concat(t))}))})]})]})})]})};var ae=function(){var e=Object(a.useState)("CreationTool"),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(l.a)(c,2),i=s[0],d=s[1],u=Object(a.useState)([]),f=Object(l.a)(u,2),x=f[0],m=f[1],p=Object(a.useState)(!1),h=Object(l.a)(p,2),b=h[0],g=h[1],v=Object(S.useMediaQuery)({query:"(max-width: 760px)"}),O=function(e,t){var n=e.target.value;e.persist(),b&&g(!1);var a=Object(o.a)(x);if(a.push(n),6===a.length){var r=10*parseInt(a[0])+parseInt(a[1])+(10*parseInt(a[2])+parseInt(a[3]))+(10*parseInt(a[4])+parseInt(a[5]))===150;r?d(r):(a=[],g(!0))}var c=document.querySelector("input[name=password-".concat(parseInt(a.length)+1,"]"));null!==c&&c.focus(),m(a)},w=function(e,t){if(e.preventDefault(),e.stopPropagation(),t!==x.length+1){var n=document.querySelector("input[name=password-".concat(x.length+1,"]"));null!==n&&n.focus()}},N=function(e,t){if("Backspace"===e.key){e.preventDefault();var n=Object(o.a)(x);n.length>0&&n.splice(n.length-1,1);var a=document.querySelector("input[name=password-".concat(n.length+1,"]"));null!==a&&a.focus(),m(n)}};return Object(y.jsx)(y.Fragment,{children:i?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"z-50 fixed flex flex-row lg:flex-col lg:max-w-min lg:min-h-screen p-3 space-x-4 lg:space-x-0 lg:space-y-4 rounded-br-md bg-white shadow lg:bg-transparent lg:shadow-none",children:[Object(y.jsx)(j.h,{onClick:function(){return r("CreationTool")},className:"h-6 w-6 text-".concat("CreationTool"===n?"blue-600":"gray-400"," hover:text-blue-500 cursor-pointer")}),Object(y.jsx)(j.g,{onClick:function(){return r("BirthdayTool")},className:"h-6 w-6 text-".concat("BirthdayTool"===n?"blue-600":"gray-400"," hover:text-blue-500 cursor-pointer")}),Object(y.jsx)(j.e,{onClick:function(){return r("DataSourceTool")},className:"h-6 w-6 text-".concat("DataSourceTool"===n?"blue-600":"gray-400"," hover:text-blue-500 cursor-pointer")}),Object(y.jsx)(j.k,{onClick:function(){return r("VisualQueryBuilderTool")},className:"h-6 w-6 text-".concat("VisualQueryBuilderTool"===n?"blue-600":"gray-400"," hover:text-blue-500 cursor-pointer")})]}),Object(y.jsx)(H,{isHidden:"CreationTool"!==n}),Object(y.jsx)(G,{isHidden:"BirthdayTool"!==n}),Object(y.jsx)($,{isHidden:"DataSourceTool"!==n}),Object(y.jsx)(ne,{isHidden:"VisualQueryBuilderTool"!==n})]}):Object(y.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(y.jsxs)("div",{className:"max-w-2xl w-full space-y-4",children:[Object(y.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(y.jsx)("h3",{className:"text-center text-xl font-medium text-gray-900",children:"Netsign.tv"}),Object(y.jsx)("h2",{className:"mt-1 text-center text-3xl font-extrabold text-gray-900",children:"Cr\xe9ation simplifi\xe9e"}),Object(y.jsx)("p",{className:"mt-3 text-center text-sm text-blue-500",children:"Entrez le code d'acc\xe8s"})]}),Object(y.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[Object(y.jsxs)("div",{className:"flex flex-row item-center justify-center align-middle space-x-2 bg-gray-100 p-2 rounded-md ".concat(b&&"shake"),children:[Object(y.jsx)("input",{id:"password-1",name:"password-1",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[0]?x[0]:"",autoFocus:!v,onClick:function(e){return w(e,1)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""}),Object(y.jsx)("input",{id:"password-2",name:"password-2",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[1]?x[1]:"",onClick:function(e){return w(e,2)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""}),Object(y.jsx)("input",{id:"password-3",name:"password-3",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[2]?x[2]:"",onClick:function(e){return w(e,3)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""}),Object(y.jsx)("input",{id:"password-4",name:"password-4",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[3]?x[3]:"",onClick:function(e){return w(e,4)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""}),Object(y.jsx)("input",{id:"password-5",name:"password-5",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[4]?x[4]:"",onClick:function(e){return w(e,5)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""}),Object(y.jsx)("input",{id:"password-6",name:"password-6",type:"password",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return O(e)},value:x[5]?x[5]:"",onClick:function(e){return w(e,6)},onKeyDown:function(e){return N(e)},required:!0,className:"appearance-none rounded-none relative block text-center w-8 px-1 lg:px-3 py-2 border border-gray-300 placeholder-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:""})]}),Object(y.jsx)("div",{className:"flex flex-col items-center justify-center",children:Object(y.jsx)("p",{className:"text-center text-xs text-gray-300",children:"v 1.5.0"})})]})]})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(ae,{})}),document.getElementById("root")),re()}},[[38,1,2]]]);
//# sourceMappingURL=main.a6ac52c2.chunk.js.map